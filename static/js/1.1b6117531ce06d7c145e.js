webpackJsonp([1], {
    "/zFh": function(t, e) {},
    "1B3R": function(t, e, n) {
        "use strict";
        var i = n("Zx67")
          , r = n.n(i)
          , o = n("Zrlr")
          , s = n.n(o)
          , a = n("wxAW")
          , u = n.n(a)
          , l = n("zwoO")
          , c = n.n(l)
          , h = n("Pf15")
          , p = n.n(h)
          , f = n("c1sb")
          , d = function() {
            function t(e, n) {
                s()(this, t),
                this.viewer = e,
                this.properties = n.properties,
                this.coordinates = n.geometry.coordinates,
                this.properties.plotType = "Gltf",
                this.properties.plotName = "Gltf",
                this.style = this.properties.style;
                var i = new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(this.style.heading),Cesium.Math.toRadians(0),Cesium.Math.toRadians(0));
                this.position = Cesium.Cartesian3.fromDegrees(this.coordinates[0], this.coordinates[1], this.coordinates[2]),
                this.orientation = Cesium.Transforms.headingPitchRollQuaternion(this.position, i),
                this.addGltfEntity()
            }
            return u()(t, [{
                key: "addGltfEntity",
                value: function() {
                    this.gltfEntity = this.viewer.entities.add({
                        type: "GltfPlot",
                        plotCode: this.properties.plotCode,
                        position: this.position,
                        orientation: this.orientation,
                        model: {
                            uri: this.properties.modelUrl,
                            colorBlendMode: Cesium.ColorBlendMode.HIGHLIGHT,
                            color: Cesium.Color.WHITE,
                            scale: this.style.scale,
                            maximumScale: this.style.scale
                        }
                    })
                }
            }, {
                key: "setVisible",
                value: function(t) {
                    this.gltfEntity.show = t
                }
            }, {
                key: "setSelected",
                value: function(t) {
                    t ? (this.gltfEntity.model.silhouetteColor = Cesium.Color.fromAlpha(Cesium.Color.YELLOW, 1),
                    this.gltfEntity.model.silhouetteSize = 4) : (this.gltfEntity.model.silhouetteColor = Cesium.Color.fromAlpha(Cesium.Color.YELLOW, 1),
                    this.gltfEntity.model.silhouetteSize = 0)
                }
            }, {
                key: "setScale",
                value: function(t) {
                    this.gltfEntity.model.scale = t,
                    this.gltfEntity.model.maximumScale = t,
                    this.style.scale = t
                }
            }, {
                key: "getPosition",
                value: function() {
                    return this.gltfEntity.position
                }
            }, {
                key: "updatePosition",
                value: function(t) {
                    this.gltfEntity.position = t;
                    var e = Cesium.Cartographic.fromCartesian(t);
                    this.coordinates = [Cesium.Math.toDegrees(e.longitude), Cesium.Math.toDegrees(e.latitude), e.height]
                }
            }, {
                key: "updateHeading",
                value: function(t) {
                    this.style.heading = t;
                    var e = new Cesium.HeadingPitchRoll(Cesium.Math.toRadians(t),Cesium.Math.toRadians(0),Cesium.Math.toRadians(0));
                    this.gltfEntity.orientation = Cesium.Transforms.headingPitchRollQuaternion(this.position, e)
                }
            }, {
                key: "remove",
                value: function() {
                    this.viewer.entities.remove(this.gltfEntity)
                }
            }, {
                key: "toGeoJson",
                value: function() {
                    return {
                        type: "Feature",
                        properties: this.properties,
                        geometry: {
                            type: "Point",
                            coordinates: this.coordinates
                        }
                    }
                }
            }]),
            t
        }()
          , g = function(t) {
            function e(t) {
                s()(this, e);
                var n = c()(this, (e.__proto__ || r()(e)).call(this, t));
                return n.viewer.selectedEntityChanged.addEventListener(n.selectedEntityChanged, n),
                n.selectedPlotChanged = new Cesium.Event,
                n
            }
            return p()(e, t),
            u()(e, [{
                key: "addPlot",
                value: function(t) {
                    var e = new d(this.viewer,t);
                    this.plots.push(e)
                }
            }, {
                key: "selectedEntityChanged",
                value: function(t) {
                    if (this.plotSelecteable) {
                        if (!t)
                            return this.clearSelectedPlot(),
                            void this.selectedPlotChanged.raiseEvent(void 0);
                        var e = this.getByPlotCode(t.plotCode);
                        if (!e)
                            return this.clearSelectedPlot(),
                            void this.selectedPlotChanged.raiseEvent(void 0);
                        if (this.selectedPlot) {
                            if (this.selectedPlot.properties.plotCode == e.properties.plotCode)
                                return;
                            this.clearSelectedPlot()
                        }
                        this.selectedPlot = e,
                        this.selectedPlot.setSelected(!0),
                        this.selectedPlotChanged.raiseEvent(e)
                    }
                }
            }, {
                key: "flyToByPlotCode",
                value: function(t) {
                    var e = this.getByPlotCode(t);
                    e && (this.viewer.flyTo(e.gltfEntity),
                    this.setSelectedPlotByCode(t))
                }
            }, {
                key: "setSelectedPlotByCode",
                value: function(t) {
                    this.clearSelectedPlot();
                    var e = this.getByPlotCode(t);
                    e && (this.viewer.selectedEntity = e.gltfEntity,
                    this.selectedPlot = e,
                    this.selectedPlot.setSelected(!0))
                }
            }, {
                key: "clearSelectedPlot",
                value: function() {
                    this.selectedPlot && (this.selectedPlot.setVisible(!0),
                    this.selectedPlot.setSelected(!1),
                    this.selectedPlot = void 0)
                }
            }]),
            e
        }(f.a);
        e.a = g
    },
    "2jsV": function(t, e) {},
    "4mzo": function(t, e) {},
    "5Ym9": function(t, e) {},
    "7ZFy": function(t, e) {},
    "8iBj": function(t, e, n) {
        "use strict";
        var i = n("Zx67")
          , r = n.n(i)
          , o = n("Zrlr")
          , s = n.n(o)
          , a = n("wxAW")
          , u = n.n(a)
          , l = n("zwoO")
          , c = n.n(l)
          , h = n("Pf15")
          , p = n.n(h)
          , f = n("c1sb")
          , d = {
            SIMPLELABEL: "simplelabel",
            GRADIENTSLABEL: "gradientslabel",
            LOCATIONLABEL: "locationlabel"
        }
          , g = n("7+uW")
          , y = function() {
            function t(e, n) {
                s()(this, t),
                this.properties = n.properties,
                this.coordinates = n.geometry.coordinates,
                this.style = this.properties.style || {},
                this.position = Cesium.Cartesian3.fromDegrees(this.coordinates[0], this.coordinates[1], this.coordinates[2]),
                this.properties.plotBase = "Html",
                this.viewer = e,
                this.addBillboard()
            }
            return u()(t, [{
                key: "setSelected",
                value: function(t) {
                    this.vmInstance.isSelected = t,
                    this.setPointVisible(t)
                }
            }, {
                key: "addBillboard",
                value: function() {
                    this.billboardEntity = this.viewer.entities.add({
                        position: this.position,
                        type: "HtmlPlot",
                        plotCode: this.properties.plotCode,
                        point: {
                            color: Cesium.Color.DARKBLUE.withAlpha(.4),
                            pixelSize: 6,
                            outlineColor: Cesium.Color.YELLOW.withAlpha(.4),
                            outlineWidth: 2,
                            scaleByDistance: new Cesium.NearFarScalar(300,1,1200,.4),
                            disableDepthTestDistance: 500
                        }
                    })
                }
            }, {
                key: "setPointVisible",
                value: function(t) {
                    t ? (this.billboardEntity.point.pixelSize = 10,
                    this.billboardEntity.point.outlineWidth = 3,
                    this.billboardEntity.point.outlineColor = Cesium.Color.YELLOW) : (this.billboardEntity.point.pixelSize = 6,
                    this.billboardEntity.point.outlineWidth = 2,
                    this.billboardEntity.point.outlineColor = Cesium.Color.YELLOW.withAlpha(.4))
                }
            }, {
                key: "updatePosition",
                value: function(t) {
                    this.billboardEntity.position = t;
                    var e = Cesium.Cartographic.fromCartesian(t);
                    this.position = t,
                    this.coordinates = [Cesium.Math.toDegrees(e.longitude), Cesium.Math.toDegrees(e.latitude), e.height]
                }
            }, {
                key: "updateLabel",
                value: function(t) {
                    this.vmInstance.label = t,
                    this.properties.attr.label = t
                }
            }, {
                key: "toGeoJson",
                value: function() {
                    return {
                        type: "Feature",
                        properties: this.properties,
                        geometry: {
                            type: "Point",
                            coordinates: this.coordinates
                        }
                    }
                }
            }, {
                key: "remove",
                value: function() {
                    this.viewer.entities.remove(this.billboardEntity),
                    this.viewer.cesiumWidget.container.removeChild(this.vmInstance.$el),
                    this.viewer.scene.postRender.removeEventListener(this.postRender, this)
                }
            }]),
            t
        }()
          , v = {
            name: "LabelPlot",
            props: {
                label: {
                    type: String,
                    default: ""
                }
            },
            data: function() {
                return {
                    isSelected: !1
                }
            },
            methods: {
                onClick: function() {
                    this.PlotItemClick && this.PlotItemClick()
                }
            }
        }
          , m = {
            render: function() {
                var t = this.$createElement
                  , e = this._self._c || t;
                return e("div", {
                    staticClass: "LabelPlot-container",
                    class: {
                        "is-selected": this.isSelected
                    },
                    on: {
                        click: this.onClick
                    }
                }, [e("div", {
                    staticClass: "info-item"
                }, [this._v(this._s(this.label))])])
            },
            staticRenderFns: []
        };
        var _ = n("VU/8")(v, m, !1, function(t) {
            n("h72r")
        }, "data-v-6d7513c3", null).exports
          , E = g.default.extend(_)
          , C = function(t) {
            function e(t, n) {
                s()(this, e);
                var i = c()(this, (e.__proto__ || r()(e)).call(this, t, n));
                return i.properties.plotType = d.SIMPLELABEL,
                i.properties.plotName = "简单文本",
                i.vmInstance = new E({
                    propsData: {
                        label: i.properties.attr.label
                    }
                }).$mount(),
                i.vmInstance.PlotItemClick = function(t) {
                    i.layer && i.layer.setSelectedPlot && i.layer.setSelectedPlot(i)
                }
                ,
                t.cesiumWidget.container.appendChild(i.vmInstance.$el),
                i.addPostRender(),
                i
            }
            return p()(e, t),
            u()(e, [{
                key: "addPostRender",
                value: function() {
                    this.viewer.scene.postRender.addEventListener(this.postRender, this)
                }
            }, {
                key: "postRender",
                value: function() {
                    if (this.vmInstance.$el && this.vmInstance.$el.style) {
                        var t = this.viewer.scene.canvas.height
                          , e = new Cesium.Cartesian2;
                        Cesium.SceneTransforms.wgs84ToWindowCoordinates(this.viewer.scene, this.position, e),
                        this.vmInstance.$el.style.bottom = t - e.y + 40 + "px";
                        var n = this.vmInstance.$el.offsetWidth;
                        this.vmInstance.$el.style.left = e.x - n / 2 + "px",
                        this.viewer.camera.positionCartographic.height > 2e3 ? this.vmInstance.$el.style.display = "none" : this.vmInstance.$el.style.display = "block"
                    }
                }
            }]),
            e
        }(y)
          , w = {
            name: "GradientsLabelPlot",
            props: {
                label: {
                    type: String,
                    default: ""
                }
            },
            data: function() {
                return {
                    isSelected: !1
                }
            },
            methods: {
                onClick: function() {
                    this.PlotItemClick && this.PlotItemClick()
                }
            }
        }
          , b = {
            render: function() {
                var t = this.$createElement
                  , e = this._self._c || t;
                return e("div", {
                    staticClass: "gradients-labelPlot-container",
                    class: {
                        "is-selected": this.isSelected
                    },
                    on: {
                        click: this.onClick
                    }
                }, [e("div", {
                    staticClass: "info-item"
                }, [this._v(this._s(this.label))])])
            },
            staticRenderFns: []
        };
        var x = n("VU/8")(w, b, !1, function(t) {
            n("zJg4")
        }, "data-v-4e11696d", null).exports
          , I = g.default.extend(x)
          , P = function(t) {
            function e(t, n) {
                s()(this, e);
                var i = c()(this, (e.__proto__ || r()(e)).call(this, t, n));
                return i.properties.plotType = d.GRADIENTSLABEL,
                i.properties.plotName = "渐变文本",
                i.vmInstance = new I({
                    propsData: {
                        label: i.properties.attr.label
                    }
                }).$mount(),
                i.vmInstance.PlotItemClick = function(t) {
                    i.layer && i.layer.setSelectedPlot && i.layer.setSelectedPlot(i)
                }
                ,
                t.cesiumWidget.container.appendChild(i.vmInstance.$el),
                i.addPostRender(),
                i
            }
            return p()(e, t),
            u()(e, [{
                key: "addPostRender",
                value: function() {
                    this.viewer.scene.postRender.addEventListener(this.postRender, this)
                }
            }, {
                key: "postRender",
                value: function() {
                    if (this.vmInstance.$el && this.vmInstance.$el.style) {
                        var t = this.viewer.scene.canvas.height
                          , e = new Cesium.Cartesian2;
                        Cesium.SceneTransforms.wgs84ToWindowCoordinates(this.viewer.scene, this.position, e),
                        this.vmInstance.$el.style.bottom = t - e.y + 40 + "px";
                        var n = this.vmInstance.$el.offsetWidth;
                        this.vmInstance.$el.style.left = e.x - n / 2 + "px",
                        this.viewer.camera.positionCartographic.height > 2e3 ? this.vmInstance.$el.style.display = "none" : this.vmInstance.$el.style.display = "block"
                    }
                }
            }]),
            e
        }(y)
          , L = {
            name: "LocationPlot",
            props: {
                point: {
                    type: Object,
                    default: function() {
                        return {
                            x: 0,
                            y: 0,
                            z: 0
                        }
                    }
                }
            },
            data: function() {
                return {
                    isSelected: !1
                }
            },
            methods: {
                onClick: function() {
                    this.PlotItemClick && this.PlotItemClick()
                }
            }
        }
          , S = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "LocationPlot-container",
                    class: {
                        "is-selected": t.isSelected
                    },
                    on: {
                        click: t.onClick
                    }
                }, [n("div", {
                    staticClass: "info-item"
                }, [n("span", {
                    staticClass: "info-label"
                }, [t._v("经度：")]), t._v(" "), n("span", {
                    staticClass: "info-label"
                }, [t._v(t._s(t.point.x.toFixed(10)))])]), t._v(" "), n("div", {
                    staticClass: "info-item"
                }, [n("span", {
                    staticClass: "info-label"
                }, [t._v("纬度：")]), t._v(" "), n("span", {
                    staticClass: "info-label"
                }, [t._v(t._s(t.point.y.toFixed(10)))])]), t._v(" "), n("div", {
                    staticClass: "info-item"
                }, [n("span", {
                    staticClass: "info-label"
                }, [t._v("高度：")]), t._v(" "), n("span", {
                    staticClass: "info-label"
                }, [t._v(t._s(t.point.z.toFixed(10)))])])])
            },
            staticRenderFns: []
        };
        var N = n("VU/8")(L, S, !1, function(t) {
            n("AdG/")
        }, "data-v-01a26c8b", null).exports
          , M = g.default.extend(N)
          , T = function(t) {
            function e(t, n) {
                s()(this, e);
                var i = c()(this, (e.__proto__ || r()(e)).call(this, t, n));
                i.properties.plotType = d.LOCATIONLABEL,
                i.properties.plotName = "位置信息";
                var o = i.cartesian3ToDegrees(i.position);
                return i.vmInstance = new M({
                    propsData: {
                        point: o
                    }
                }).$mount(),
                i.vmInstance.PlotItemClick = function(t) {
                    i.layer && i.layer.setSelectedPlot && i.layer.setSelectedPlot(i)
                }
                ,
                t.cesiumWidget.container.appendChild(i.vmInstance.$el),
                i.addPostRender(),
                i
            }
            return p()(e, t),
            u()(e, [{
                key: "updatePosition",
                value: function(t) {
                    this.billboardEntity.position = t;
                    var e = Cesium.Cartographic.fromCartesian(t);
                    this.position = t,
                    this.coordinates = [Cesium.Math.toDegrees(e.longitude), Cesium.Math.toDegrees(e.latitude), e.height],
                    this.vmInstance.point = this.cartesian3ToDegrees(this.position)
                }
            }, {
                key: "cartesian3ToDegrees",
                value: function(t) {
                    var e = Cesium.Cartographic.fromCartesian(t);
                    return {
                        x: Cesium.Math.toDegrees(e.longitude),
                        y: Cesium.Math.toDegrees(e.latitude),
                        z: e.height
                    }
                }
            }, {
                key: "addPostRender",
                value: function() {
                    this.viewer.scene.postRender.addEventListener(this.postRender, this)
                }
            }, {
                key: "postRender",
                value: function() {
                    if (this.vmInstance.$el && this.vmInstance.$el.style) {
                        var t = this.viewer.scene.canvas.height
                          , e = new Cesium.Cartesian2;
                        Cesium.SceneTransforms.wgs84ToWindowCoordinates(this.viewer.scene, this.position, e),
                        this.vmInstance.$el.style.bottom = t - e.y + 40 + "px";
                        var n = this.vmInstance.$el.offsetWidth;
                        this.vmInstance.$el.style.left = e.x - n / 2 + "px",
                        this.viewer.camera.positionCartographic.height > 800 ? this.vmInstance.$el.style.display = "none" : this.vmInstance.$el.style.display = "block"
                    }
                }
            }]),
            e
        }(y)
          , O = {
            createPlot: function(t, e, n) {
                switch (e) {
                case d.SIMPLELABEL:
                    return new C(t,n);
                case d.GRADIENTSLABEL:
                    return new P(t,n);
                case d.LOCATIONLABEL:
                    return new T(t,n)
                }
            }
        }
          , A = function(t) {
            function e(t) {
                s()(this, e);
                var n = c()(this, (e.__proto__ || r()(e)).call(this, t));
                return n.selectedPlotChanged = new Cesium.Event,
                n.initEvent(),
                n
            }
            return p()(e, t),
            u()(e, [{
                key: "initEvent",
                value: function() {
                    var t = this;
                    new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas).setInputAction(function(e) {
                        if (t.plotSelecteable) {
                            var n = t.viewer.scene.pick(e.position);
                            if (n && n.id) {
                                if (n.id && n.id.type && "HtmlPlot" == n.id.type || t.selectedPlot && (t.selectedPlot.setSelected(!1),
                                t.selectedPlot = void 0,
                                t.selectedPlotChanged.raiseEvent(void 0)),
                                !t.selectedPlot || t.selectedPlot.properties.plotCode != n.id.plotCode) {
                                    var i = t.getByPlotCode(n.id.plotCode);
                                    i ? (t.clearSelectedPlot(),
                                    t.selectedPlot = i,
                                    t.selectedPlot.setSelected(!0),
                                    t.selectedPlotChanged.raiseEvent(i)) : (t.selectedPlot && (t.selectedPlot.setSelected(!1),
                                    t.selectedPlot = void 0),
                                    t.selectedPlotChanged.raiseEvent(void 0))
                                }
                            } else
                                t.selectedPlot && (t.selectedPlot.setSelected(!1),
                                t.selectedPlot = void 0,
                                t.selectedPlotChanged.raiseEvent(void 0))
                        }
                    }, Cesium.ScreenSpaceEventType.LEFT_CLICK)
                }
            }, {
                key: "addPlot",
                value: function(t) {
                    var e = O.createPlot(this.viewer, t.properties.plotType, t);
                    return this.plots.push(e),
                    e.layer = this,
                    e
                }
            }, {
                key: "setSelectedPlot",
                value: function(t) {
                    this.plotSelecteable && (this.selectedPlot && this.selectedPlot.setSelected(!1),
                    this.selectedPlot = t,
                    this.selectedPlot.setSelected(!0),
                    this.selectedPlotChanged.raiseEvent(t))
                }
            }, {
                key: "clearSelectedPlot",
                value: function() {
                    this.selectedPlot && (this.selectedPlot.setSelected(!1),
                    this.selectedPlot = void 0)
                }
            }, {
                key: "flyToByPlotCode",
                value: function(t) {
                    var e = this.getByPlotCode(t);
                    e && (this.setSelectedPlot(e),
                    this.viewer.flyTo(e.billboardEntity))
                }
            }]),
            e
        }(f.a);
        e.a = A
    },
    "9bBU": function(t, e, n) {
        n("mClu");
        var i = n("FeBl").Object;
        t.exports = function(t, e, n) {
            return i.defineProperty(t, e, n)
        }
    },
    "AC/S": function(t, e) {},
    "AdG/": function(t, e) {},
    BjUo: function(t, e) {},
    C4MV: function(t, e, n) {
        t.exports = {
            default: n("9bBU"),
            __esModule: !0
        }
    },
    CJli: function(t, e, n) {
        n("pRCB");
        var i = n("FeBl").Object;
        t.exports = function(t, e) {
            return i.defineProperties(t, e)
        }
    },
    "F+mF": function(t, e) {},
    F8Mr: function(t, e, n) {
        "use strict";
        var i = n("Zx67")
          , r = n.n(i)
          , o = n("Zrlr")
          , s = n.n(o)
          , a = n("wxAW")
          , u = n.n(a)
          , l = n("zwoO")
          , c = n.n(l)
          , h = n("Pf15")
          , p = n.n(h)
          , f = n("c1sb")
          , d = n("GeKq")
          , g = n("SWVK")
          , y = function(t) {
            function e(t) {
                s()(this, e);
                var n = c()(this, (e.__proto__ || r()(e)).call(this, t));
                return n.initEvent(),
                n.selectedPlotChanged = new Cesium.Event,
                n
            }
            return p()(e, t),
            u()(e, [{
                key: "addPlot",
                value: function(t) {
                    var e = d.a.createPlot(this.viewer, t.properties.plotType, t);
                    return this.plots.push(e),
                    e
                }
            }, {
                key: "flyToByPlotCode",
                value: function(t) {
                    var e = this.getByPlotCode(t);
                    if (e) {
                        switch (e.properties.plotType) {
                        case g.a.MARKER:
                            this.viewer.flyTo(e.markerEntity);
                            break;
                        case g.a.NORMALFENCE:
                        case g.a.DYNAMICFENCE:
                            this.viewer.flyTo(e.fenceEntity)
                        }
                        this.setSelectedPlotByCode(t)
                    }
                }
            }, {
                key: "initEvent",
                value: function() {
                    var t = this;
                    new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas).setInputAction(function(e) {
                        if (t.plotSelecteable) {
                            var n = t.viewer.scene.pick(e.position);
                            if (n && n.id) {
                                if (n.id && n.id.type && "GeoPlot" == n.id.type || t.selectedPlot && (t.selectedPlot.setSelected(!1),
                                t.selectedPlot = void 0,
                                t.selectedPlotChanged.raiseEvent(void 0)),
                                !t.selectedPlot || t.selectedPlot.properties.plotCode != n.id.plotCode) {
                                    var i = t.getByPlotCode(n.id.plotCode);
                                    i ? (t.clearSelectedPlot(),
                                    t.selectedPlot = i,
                                    t.selectedPlot.setSelected(!0),
                                    t.selectedPlotChanged.raiseEvent(i)) : (t.selectedPlot && (t.selectedPlot.setSelected(!1),
                                    t.selectedPlot = void 0),
                                    t.selectedPlotChanged.raiseEvent(void 0))
                                }
                            } else
                                t.selectedPlot && (t.selectedPlot.setSelected(!1),
                                t.selectedPlot = void 0,
                                t.selectedPlotChanged.raiseEvent(void 0))
                        }
                    }, Cesium.ScreenSpaceEventType.LEFT_CLICK)
                }
            }, {
                key: "setSelectedPlotByCode",
                value: function(t) {
                    this.clearSelectedPlot();
                    var e = this.getByPlotCode(t);
                    e && (this.selectedPlot = e,
                    this.selectedPlot.setSelected(!0),
                    this.selectedPlotChanged.raiseEvent(e))
                }
            }, {
                key: "clearSelectedPlot",
                value: function() {
                    this.selectedPlot && (this.selectedPlot.setSelected(!1),
                    this.selectedPlot = void 0)
                }
            }]),
            e
        }(f.a);
        e.a = y
    },
    GeKq: function(t, e, n) {
        "use strict";
        var i = n("SWVK")
          , r = n("Zx67")
          , o = n.n(r)
          , s = n("Zrlr")
          , a = n.n(s)
          , u = n("wxAW")
          , l = n.n(u)
          , c = n("zwoO")
          , h = n.n(c)
          , p = n("Pf15")
          , f = n.n(p)
          , d = function() {
            function t(e, n) {
                a()(this, t),
                this.viewer = e,
                this.properties = n.properties,
                this.properties.plotBase = "GeoPlot",
                this.geometry = n.geometry,
                this.coordinates = n.geometry.coordinates,
                this.style = this.properties.style,
                this.generatePositions()
            }
            return l()(t, [{
                key: "generatePositions",
                value: function() {
                    var t = this;
                    this.positions = [];
                    var e = void 0;
                    switch (this.geometry.type) {
                    case "Point":
                        e = [this.coordinates];
                        break;
                    case "LineString":
                        e = this.coordinates;
                        break;
                    case "Polygon":
                        e = this.coordinates[0]
                    }
                    e.forEach(function(e) {
                        t.positions.push(Cesium.Cartesian3.fromDegrees(e[0], e[1], e[2]))
                    })
                }
            }, {
                key: "setPositions",
                value: function(t) {
                    switch (this.positions = t || [],
                    this.coordinates = [],
                    this.geometry.type) {
                    case "Point":
                        this.setPointCoordinates();
                        break;
                    case "LineString":
                        this.setLineStringCoordinates();
                        break;
                    case "Polygon":
                        this.setPolygonCoordinates()
                    }
                    this.updatePositionAction && this.updatePositionAction()
                }
            }, {
                key: "setPointCoordinates",
                value: function() {
                    var t = Cesium.Cartographic.fromCartesian(this.positions[0]);
                    this.coordinates = [Cesium.Math.toDegrees(t.longitude), Cesium.Math.toDegrees(t.latitude), t.height]
                }
            }, {
                key: "setLineStringCoordinates",
                value: function() {
                    var t = this;
                    this.positions.forEach(function(e) {
                        var n = Cesium.Cartographic.fromCartesian(e)
                          , i = [Cesium.Math.toDegrees(n.longitude), Cesium.Math.toDegrees(n.latitude), n.height];
                        t.coordinates.push(i)
                    })
                }
            }, {
                key: "setPolygonCoordinates",
                value: function() {
                    var t = this;
                    this.coordinates.push([]),
                    this.positions.forEach(function(e) {
                        var n = Cesium.Cartographic.fromCartesian(e)
                          , i = [Cesium.Math.toDegrees(n.longitude), Cesium.Math.toDegrees(n.latitude), n.height];
                        t.coordinates[0].push(i)
                    })
                }
            }, {
                key: "getPositions",
                value: function() {
                    return this.positions.slice(0)
                }
            }, {
                key: "getPositionCount",
                value: function() {
                    return this.positions.length
                }
            }, {
                key: "setSelected",
                value: function(t) {}
            }, {
                key: "openEditMode",
                value: function(t) {}
            }, {
                key: "remove",
                value: function() {}
            }]),
            t
        }()
          , g = function(t) {
            function e(t, n) {
                a()(this, e);
                var r = h()(this, (e.__proto__ || o()(e)).call(this, t, n));
                return r.properties.plotType = i.a.MARKER,
                r.properties.plotName = "图标点",
                r.style = r.properties.style || r.getDefaultStyle(),
                r.createEntity(),
                r.fixPositionCount = 1,
                r
            }
            return f()(e, t),
            l()(e, [{
                key: "createEntity",
                value: function() {
                    var t = this;
                    this.markerEntity = this.viewer.entities.add({
                        position: new Cesium.CallbackProperty(function(e) {
                            return t.positions[0]
                        }
                        ,!1),
                        plotType: "GeoPlot",
                        plotCode: this.properties.plotCode,
                        billboard: {
                            image: this.style.img,
                            scaleByDistance: new Cesium.NearFarScalar(1300,.4,12e3,.1),
                            distanceDisplayCondition: new Cesium.DistanceDisplayCondition(0,1e4),
                            verticalOrigin: Cesium.VerticalOrigin.BOTTOM
                        },
                        point: {
                            color: Cesium.Color.DARKBLUE.withAlpha(.4),
                            pixelSize: 0,
                            outlineColor: Cesium.Color.YELLOW.withAlpha(.4),
                            outlineWidth: 0,
                            scaleByDistance: new Cesium.NearFarScalar(1e3,1,4200,.4),
                            disableDepthTestDistance: 500
                        }
                    })
                }
            }, {
                key: "setSelected",
                value: function(t) {
                    t ? (this.markerEntity.point.pixelSize = 10,
                    this.markerEntity.point.outlineWidth = 3) : (this.markerEntity.point.pixelSize = 0,
                    this.markerEntity.point.outlineWidth = 0)
                }
            }, {
                key: "getDefaultStyle",
                value: function() {
                    return {
                        img: "../../static/images/poi/sp.png"
                    }
                }
            }, {
                key: "openEditMode",
                value: function(t) {
                    var e = this;
                    this.markerEntity.position = t ? new Cesium.CallbackProperty(function(t) {
                        return e.positions[0]
                    }
                    ,!1) : this.positions[0]
                }
            }, {
                key: "toGeoJson",
                value: function() {
                    return {
                        type: "Feature",
                        properties: this.properties,
                        geometry: {
                            type: "Point",
                            coordinates: this.coordinates
                        }
                    }
                }
            }, {
                key: "remove",
                value: function() {
                    this.viewer.entities.remove(this.markerEntity)
                }
            }]),
            e
        }(d)
          , y = n("HSQo")
          , v = n.n(y);
        function m(t) {
            this._definitionChanged = new Cesium.Event,
            this._color = void 0,
            this._colorSubscription = void 0,
            this.color = t
        }
        function _(t, e) {
            this._definitionChanged = new Cesium.Event,
            this._color = void 0,
            this._colorSubscription = void 0,
            this.color = t,
            this.duration = e,
            this._time = (new Date).getTime()
        }
        v()(m.prototype, {
            isConstant: {
                get: function() {
                    return !1
                }
            },
            definitionChanged: {
                get: function() {
                    return this._definitionChanged
                }
            },
            color: Cesium.createPropertyDescriptor("color")
        }),
        m.prototype.getType = function(t) {
            return "WallGradients"
        }
        ,
        m.prototype.getValue = function(t, e) {
            return Cesium.defined(e) || (e = {}),
            e.color = Cesium.Property.getValueOrClonedDefault(this._color, t, Cesium.Color.WHITE, e.color),
            e.image = Cesium.Material.WallGradientsImage,
            e
        }
        ,
        m.prototype.equals = function(t) {
            return this === t || t instanceof m && Cesium.Property.equals(this._color, t._color)
        }
        ,
        Cesium.WallGradientsMaterialProperty = m,
        Cesium.Material.WallGradientsType = "WallGradients",
        Cesium.Material.WallGradientsImage = "../../static/images/effects/wallgradients.png",
        Cesium.Material.WallGradientsSource = "czm_material czm_getMaterial(czm_materialInput materialInput)\n{\n     czm_material material = czm_getDefaultMaterial(materialInput);\n     vec2 st = materialInput.st;\n     vec4 colorImage = texture2D(image, vec2(fract(st.t - time), st.t));\n     material.alpha = colorImage.a * color.a;\n     material.diffuse =  1.5* color.rgb  ;\n     return material;\n }",
        Cesium.Material._materialCache.addMaterial(Cesium.Material.WallGradientsType, {
            fabric: {
                type: Cesium.Material.WallGradientsType,
                uniforms: {
                    color: new Cesium.Color(1,0,0,.5),
                    image: Cesium.Material.WallGradientsImage,
                    time: 0
                },
                source: Cesium.Material.WallGradientsSource
            },
            translucent: function(t) {
                return !0
            }
        }),
        v()(_.prototype, {
            isConstant: {
                get: function() {
                    return !1
                }
            },
            definitionChanged: {
                get: function() {
                    return this._definitionChanged
                }
            },
            color: Cesium.createPropertyDescriptor("color")
        }),
        _.prototype.getType = function(t) {
            return "WallTrailVertical"
        }
        ,
        _.prototype.getValue = function(t, e) {
            return Cesium.defined(e) || (e = {}),
            e.color = Cesium.Property.getValueOrClonedDefault(this._color, t, Cesium.Color.WHITE, e.color),
            e.image = Cesium.Material.WallTrailVerticalImage,
            e.time = ((new Date).getTime() - this._time) % this.duration / this.duration,
            e
        }
        ,
        _.prototype.equals = function(t) {
            return this === t || t instanceof _ && Cesium.Property.equals(this._color, t._color)
        }
        ,
        Cesium.WallTrailVerticalMaterialProperty = _,
        Cesium.Material.WallTrailVerticalType = "WallTrailVertical",
        Cesium.Material.WallTrailVerticalImage = "data:image/octet-stream;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAABCAYAAAAo2wu9AAAAOklEQVQoU2P8//+/McMoIDsEfv/+zcLKysrOwMDAAcVg9t+/fzmYmZkxxP/9+8fBxMSEIc7AwAAWAwD/kwzHVTmPqQAAAABJRU5ErkJggg==",
        Cesium.Material.WallTrailVerticalSource = "czm_material czm_getMaterial(czm_materialInput materialInput)\n {\n      czm_material material = czm_getDefaultMaterial(materialInput);\n      vec2 st = materialInput.st;\n      vec4 colorImage = texture2D(image, vec2(fract(st.t - time), st.t));\n      material.alpha = colorImage.a * color.a;\n      material.diffuse =  1.5* color.rgb  ;\n      return material;\n  }",
        Cesium.Material._materialCache.addMaterial(Cesium.Material.WallTrailVerticalType, {
            fabric: {
                type: Cesium.Material.WallTrailVerticalType,
                uniforms: {
                    color: new Cesium.Color(1,0,0,.5),
                    image: Cesium.Material.WallTrailVerticalImage,
                    time: 0
                },
                source: Cesium.Material.WallTrailVerticalSource
            },
            translucent: function(t) {
                return !0
            }
        });
        var E = function(t) {
            function e(t, n) {
                a()(this, e);
                var r = h()(this, (e.__proto__ || o()(e)).call(this, t, n));
                return r.properties.plotType = i.a.ANIMATEWALL1,
                r.properties.plotName = "立体墙标绘类1",
                r.properties.style && r.properties.style.wallHeight || (r.style = r.getDefalutStyle()),
                r.properties.style = r.style,
                r.createEntity(),
                r.minPositionCount = 2,
                r
            }
            return f()(e, t),
            l()(e, [{
                key: "updatePositionAction",
                value: function() {
                    this.initHeights()
                }
            }, {
                key: "initHeights",
                value: function() {
                    var t = this
                      , e = []
                      , n = [];
                    this.positions.forEach(function(i) {
                        var r = Cesium.Cartographic.fromCartesian(i);
                        e.push(r.height),
                        n.push(r.height + t.style.wallHeight)
                    }),
                    this.minimumHeights = e,
                    this.maximumHeights = n
                }
            }, {
                key: "getStyle",
                value: function() {
                    return this.style
                }
            }, {
                key: "updateStyle",
                value: function() {
                    this.initHeights(),
                    this.wallEntity.wall.material.color = Cesium.Color.fromCssColorString(this.style.wallColor),
                    this.trailWallEntity.wall.material.color = Cesium.Color.fromCssColorString(this.style.wallColor)
                }
            }, {
                key: "createEntity",
                value: function() {
                    this.initHeights(),
                    this.addWall(),
                    this.addTrailWall()
                }
            }, {
                key: "addWall",
                value: function() {
                    var t = this;
                    this.wallEntity = this.viewer.entities.add({
                        plotType: this.properties.plotBase,
                        plotCode: this.properties.plotCode,
                        wall: {
                            positions: new Cesium.CallbackProperty(function(e) {
                                return t.positions
                            }
                            ,!1),
                            minimumHeights: new Cesium.CallbackProperty(function(e) {
                                return t.minimumHeights
                            }
                            ,!1),
                            maximumHeights: new Cesium.CallbackProperty(function(e) {
                                return t.maximumHeights
                            }
                            ,!1),
                            material: new Cesium.WallTrailVerticalMaterialProperty(Cesium.Color.fromCssColorString(this.style.wallColor),this.style.duration || 1e3),
                            outline: !1,
                            outlineWidth: 20,
                            outlineColor: Cesium.Color.YELLOW
                        }
                    })
                }
            }, {
                key: "addTrailWall",
                value: function() {
                    var t = this;
                    this.trailWallEntity = this.viewer.entities.add({
                        plotType: this.properties.plotBase,
                        plotCode: this.properties.plotCode,
                        wall: {
                            positions: new Cesium.CallbackProperty(function(e) {
                                return t.positions
                            }
                            ,!1),
                            minimumHeights: new Cesium.CallbackProperty(function(e) {
                                return t.minimumHeights
                            }
                            ,!1),
                            maximumHeights: new Cesium.CallbackProperty(function(e) {
                                return t.maximumHeights
                            }
                            ,!1),
                            material: new Cesium.WallGradientsMaterialProperty(Cesium.Color.fromCssColorString(this.style.wallColor)),
                            outline: !1,
                            outlineWidth: 20,
                            outlineColor: Cesium.Color.YELLOW
                        }
                    })
                }
            }, {
                key: "setSelected",
                value: function(t) {
                    this.wallEntity.wall.outline = t,
                    this.wallEntity.wall.outline = t
                }
            }, {
                key: "toGeoJson",
                value: function() {
                    return {
                        type: "Feature",
                        properties: this.properties,
                        geometry: {
                            type: "LineString",
                            coordinates: this.coordinates
                        }
                    }
                }
            }, {
                key: "getDefalutStyle",
                value: function() {
                    return {
                        wallHeight: 20,
                        wallColor: "#FF0000",
                        duration: 2e3
                    }
                }
            }, {
                key: "remove",
                value: function() {
                    this.viewer.entities.remove(this.trailWallEntity),
                    this.viewer.entities.remove(this.wallEntity)
                }
            }]),
            e
        }(d);
        function C(t, e, n) {
            this._definitionChanged = new Cesium.Event,
            this._color = void 0,
            this._colorSubscription = void 0,
            this.color = t,
            this.duration = e,
            this.count = n,
            this._time = (new Date).getTime()
        }
        v()(C.prototype, {
            isConstant: {
                get: function() {
                    return !1
                }
            },
            definitionChanged: {
                get: function() {
                    return this._definitionChanged
                }
            },
            color: Cesium.createPropertyDescriptor("color")
        }),
        C.prototype.getType = function(t) {
            return "WallTrailStripeVertical"
        }
        ,
        C.prototype.getValue = function(t, e) {
            return Cesium.defined(e) || (e = {}),
            e.color = Cesium.Property.getValueOrClonedDefault(this._color, t, Cesium.Color.WHITE, e.color),
            e.image = Cesium.Material.WallTrailStripeVerticalImage,
            e.time = ((new Date).getTime() - this._time) % this.duration / this.duration,
            e.count = this.count,
            e
        }
        ,
        C.prototype.equals = function(t) {
            return this === t || t instanceof C && Cesium.Property.equals(this._color, t._color)
        }
        ,
        Cesium.WallTrailStripeVerticalMaterialProperty = C,
        Cesium.Material.WallTrailStripeVerticalType = "WallTrailStripeVertical",
        Cesium.Material.WallTrailStripeVerticalImage = "data:image/octet-stream;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAUCAYAAAB7wJiVAAACgklEQVRoQ9WZi27DIAxFIeGX9n53//9FBTy5rSNESDC2U2mVqkQRgc7X1wczDwC/zrmQUgrzPM+3a3DOzeVzvL99L89zzmGapss953k5pnG/rAcAwXuP83rH+AAAeO+Tc27km3POaZqmRNfB9/G9rHmf1osx5hDC8ts9AJzqoHKD1xm3Eos7/iYKSxDnHBTBzKOBbYxXz5FSypjbkt/iz+fzKYSwCh45pifWqFO2xhfOIMdNDIPQkO4fDwAZnaR0htpZJFaMMZXOIPHQIT/czKUyxnXQVvCZ62GScD+arNa8WyaCyTwoyDcGKMYYNE4hsbgiNBxxcWn1XCwIOQIAkoAxS6BrVgiZk1NK6Yro63WrnKEgX0VZWuBaZjG3fDEdtMUWMdgrjnTL1y0YFhltMUcqwU6CjAJ4CZ4VQ+oyJgW7kTPMWMF1RsmQT2ZNb7qnB32la0zB7pyzyOhD50CHfBzAkK6DmAxhg13pDLUjqAzWjOkxo2YJCTJasqzG77mO1hCD3cgRSxMo6StGeyQU5L0sK1sA33o+yhDulnm0Y5eCXdmXmHfsKMibkCGc7FaNkYLdyBmHsmJv2/tqwRArp9yrY6eASPsKrbO2OnZ0CApixYRyni7Ymc5kg13pDAtHYA+0bBAkzEFBXsrAjHbsWmcwd1tisNe7L2nnfq+OHQV53jsOZ2axihWVQ1tzSU5+/13Hju5CQZ72mrvOsUm3LHHPtkiU2jFSsCv7EhJzVX5GmUOs4HbsJIgVQ5pOGRWl4UrTjp3EktT40b6is8aKWyjIo4Yh3L5i4P8grVNfNtiVzjisY+eKj4I8HHwexXEfh0FisCt3X6ujeG5wN8bt7ub+ANZIqbIlvAh5AAAAAElFTkSuQmCC",
        Cesium.Material.WallTrailStripeVerticalSource = "czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n         czm_material material = czm_getDefaultMaterial(materialInput);\n         vec2 st = materialInput.st;\n         vec4 colorImage = texture2D(image, vec2(fract(count*st.t - time), fract(st.s)));\n         material.alpha = colorImage.a * color.a;\n         material.diffuse =  1.5* color.rgb  ;\n         return material;\n     }",
        Cesium.Material._materialCache.addMaterial(Cesium.Material.WallTrailStripeVerticalType, {
            fabric: {
                type: Cesium.Material.WallTrailStripeVerticalType,
                uniforms: {
                    color: new Cesium.Color(1,0,0,.5),
                    image: Cesium.Material.WallTrailStripeVerticalImage,
                    time: 0,
                    count: 1
                },
                source: Cesium.Material.WallTrailStripeVerticalSource
            },
            translucent: function(t) {
                return !0
            }
        });
        var w = function(t) {
            function e(t, n) {
                a()(this, e);
                var r = h()(this, (e.__proto__ || o()(e)).call(this, t, n));
                return r.properties.plotType = i.a.ANIMATEWALL2,
                r.properties.plotName = "立体墙标绘类2",
                r.properties.style && r.properties.style.wallHeight || (r.style = r.getDefalutStyle()),
                r.properties.style = r.style,
                r.createEntity(),
                r.minPositionCount = 2,
                r
            }
            return f()(e, t),
            l()(e, [{
                key: "updatePositionAction",
                value: function() {
                    this.initHeights()
                }
            }, {
                key: "initHeights",
                value: function() {
                    var t = this
                      , e = []
                      , n = [];
                    this.positions.forEach(function(i) {
                        var r = Cesium.Cartographic.fromCartesian(i);
                        e.push(r.height),
                        n.push(r.height + t.style.wallHeight)
                    }),
                    this.minimumHeights = e,
                    this.maximumHeights = n
                }
            }, {
                key: "getStyle",
                value: function() {
                    return this.style
                }
            }, {
                key: "updateStyle",
                value: function() {
                    this.initHeights(),
                    this.wallEntity.wall.material.color = Cesium.Color.fromCssColorString(this.style.wallColor)
                }
            }, {
                key: "createEntity",
                value: function() {
                    this.initHeights(),
                    this.addWall()
                }
            }, {
                key: "addWall",
                value: function() {
                    var t = this;
                    this.wallEntity = this.viewer.entities.add({
                        plotType: this.properties.plotBase,
                        plotCode: this.properties.plotCode,
                        wall: {
                            positions: new Cesium.CallbackProperty(function(e) {
                                return t.positions
                            }
                            ,!1),
                            minimumHeights: new Cesium.CallbackProperty(function(e) {
                                return t.minimumHeights
                            }
                            ,!1),
                            maximumHeights: new Cesium.CallbackProperty(function(e) {
                                return t.maximumHeights
                            }
                            ,!1),
                            material: new Cesium.WallTrailStripeVerticalMaterialProperty(Cesium.Color.fromCssColorString(this.style.wallColor),this.style.duration || 2e3,this.style.count || 2),
                            outline: !1,
                            outlineWidth: 20,
                            outlineColor: Cesium.Color.YELLOW
                        }
                    })
                }
            }, {
                key: "setSelected",
                value: function(t) {
                    this.wallEntity.wall.outline = t
                }
            }, {
                key: "toGeoJson",
                value: function() {
                    return {
                        type: "Feature",
                        properties: this.properties,
                        geometry: {
                            type: "LineString",
                            coordinates: this.coordinates
                        }
                    }
                }
            }, {
                key: "getDefalutStyle",
                value: function() {
                    return {
                        wallHeight: 20,
                        wallColor: "#FF0000",
                        duration: 2e3
                    }
                }
            }, {
                key: "remove",
                value: function() {
                    this.viewer.entities.remove(this.wallEntity)
                }
            }]),
            e
        }(d)
          , b = {
            createPlot: function(t, e, n) {
                switch (e) {
                case i.a.MARKER:
                    return new g(t,n);
                case i.a.POLYLINE:
                case i.a.ANIMATEWALL1:
                    return new E(t,n);
                case i.a.ANIMATEWALL2:
                    return new w(t,n)
                }
            }
        };
        e.a = b
    },
    GsVj: function(t, e, n) {
        "use strict";
        var i = n("Zrlr")
          , r = n.n(i)
          , o = n("wxAW")
          , s = n.n(o)
          , a = n("7+uW")
          , u = {
            name: "PositionPick",
            props: {
                point: {
                    type: Object,
                    default: function() {
                        return {
                            x: 0,
                            y: 0,
                            z: 0
                        }
                    }
                }
            },
            methods: {
                closeClick: function() {
                    this.closeEvent && this.closeEvent()
                }
            }
        }
          , l = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "LocationPlot-container"
                }, [n("div", {
                    staticClass: "info-item info-item-close"
                }, [n("span", {
                    staticClass: "info-close",
                    attrs: {
                        title: "关闭"
                    },
                    on: {
                        click: t.closeClick
                    }
                }, [t._v("×")])]), t._v(" "), n("div", {
                    staticClass: "info-item"
                }, [n("span", {
                    staticClass: "info-label"
                }, [t._v("经度：")]), t._v(" "), n("span", {
                    staticClass: "info-label"
                }, [t._v(t._s(t.point.x.toFixed(10)))])]), t._v(" "), n("div", {
                    staticClass: "info-item"
                }, [n("span", {
                    staticClass: "info-label"
                }, [t._v("纬度：")]), t._v(" "), n("span", {
                    staticClass: "info-label"
                }, [t._v(t._s(t.point.y.toFixed(10)))])]), t._v(" "), n("div", {
                    staticClass: "info-item"
                }, [n("span", {
                    staticClass: "info-label"
                }, [t._v("高度：")]), t._v(" "), n("span", {
                    staticClass: "info-label"
                }, [t._v(t._s(t.point.z.toFixed(10)))])])])
            },
            staticRenderFns: []
        };
        var c = n("VU/8")(u, l, !1, function(t) {
            n("F+mF")
        }, "data-v-256f32cb", null).exports
          , h = a.default.extend(c)
          , p = function() {
            function t(e, n) {
                var i = this;
                r()(this, t),
                this.position = n,
                this.index = (new Date).getTime(),
                this.viewer = e;
                var o = Cesium.Cartographic.fromCartesian(this.position)
                  , s = {
                    x: Cesium.Math.toDegrees(o.longitude),
                    y: Cesium.Math.toDegrees(o.latitude),
                    z: o.height
                };
                this.vmInstance = new h({
                    propsData: {
                        point: s
                    }
                }).$mount(),
                this.vmInstance.closeEvent = function(t) {
                    i.remove()
                }
                ,
                e.cesiumWidget.container.appendChild(this.vmInstance.$el),
                this.addPostRender(),
                this.addBillboard(),
                this.initEvents()
            }
            return s()(t, [{
                key: "updatePosition",
                value: function(t) {
                    this.position = t;
                    var e = Cesium.Cartographic.fromCartesian(this.position)
                      , n = {
                        x: Cesium.Math.toDegrees(e.longitude),
                        y: Cesium.Math.toDegrees(e.latitude),
                        z: e.height
                    };
                    this.vmInstance.point = n
                }
            }, {
                key: "addBillboard",
                value: function() {
                    var t = this;
                    this.locationBillboard = this.viewer.entities.add({
                        position: new Cesium.CallbackProperty(function(e) {
                            return t.position
                        }
                        ,!1),
                        type: "PositionPick",
                        index: this.index,
                        billboard: {
                            image: "../../static/images/icon_location.png",
                            scaleByDistance: new Cesium.NearFarScalar(300,1,1200,.4),
                            distanceDisplayCondition: new Cesium.DistanceDisplayCondition(0,1e4),
                            verticalOrigin: Cesium.VerticalOrigin.BOTTOM
                        }
                    })
                }
            }, {
                key: "addPostRender",
                value: function() {
                    this.viewer.scene.postRender.addEventListener(this.postRender, this)
                }
            }, {
                key: "postRender",
                value: function() {
                    if (this.vmInstance.$el && this.vmInstance.$el.style) {
                        var t = this.viewer.scene.canvas.height
                          , e = new Cesium.Cartesian2;
                        Cesium.SceneTransforms.wgs84ToWindowCoordinates(this.viewer.scene, this.position, e),
                        this.vmInstance.$el.style.bottom = t - e.y + 70 + "px";
                        var n = this.vmInstance.$el.offsetWidth;
                        this.vmInstance.$el.style.left = e.x - n / 2 + "px",
                        this.viewer.camera.positionCartographic.height > 4e3 ? this.vmInstance.$el.style.display = "none" : this.vmInstance.$el.style.display = "block"
                    }
                }
            }, {
                key: "initEvents",
                value: function() {
                    this.eventHandler = new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas),
                    this.registerMouseEvents()
                }
            }, {
                key: "registerMouseEvents",
                value: function() {
                    this.initLeftDownEventHandler(),
                    this.initMouseMoveEventHandler(),
                    this.initLeftUpEventHandler()
                }
            }, {
                key: "unRegisterMouseEvents",
                value: function() {
                    this.eventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOWN),
                    this.eventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_UP),
                    this.eventHandler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE),
                    this.eventHandler.removeInputAction(Cesium.ScreenSpaceEventType.RIGHT_CLICK)
                }
            }, {
                key: "initLeftDownEventHandler",
                value: function() {
                    var t = this;
                    this.eventHandler.setInputAction(function(e) {
                        var n = t.viewer.scene.pick(e.position);
                        if (n && n.id && n.id.type && "PositionPick" == n.id.type) {
                            if (n.id.index != t.index)
                                return;
                            t.isEditing = !0,
                            t.viewer.scene.screenSpaceCameraController.enableRotate = !1,
                            t.viewer.enableCursorStyle = !1,
                            t.viewer._element.style.cursor = "",
                            document.body.style.cursor = "move"
                        }
                    }, Cesium.ScreenSpaceEventType.LEFT_DOWN)
                }
            }, {
                key: "initLeftUpEventHandler",
                value: function() {
                    var t = this;
                    this.eventHandler.setInputAction(function(e) {
                        t.isEditing = !1,
                        t.viewer.enableCursorStyle = !0,
                        document.body.style.cursor = "default",
                        t.viewer.scene.screenSpaceCameraController.enableRotate = !0
                    }, Cesium.ScreenSpaceEventType.LEFT_UP)
                }
            }, {
                key: "initMouseMoveEventHandler",
                value: function() {
                    var t = this;
                    this.eventHandler.setInputAction(function(e) {
                        var n = t.viewer.scene.pickPosition(e.endPosition);
                        n && t.isEditing && t.updatePosition(n)
                    }, Cesium.ScreenSpaceEventType.MOUSE_MOVE)
                }
            }, {
                key: "setSelected",
                value: function(t) {
                    this.vmInstance.isSelected = t || !1
                }
            }, {
                key: "remove",
                value: function() {
                    this.unRegisterMouseEvents(),
                    this.viewer.entities.remove(this.locationBillboard),
                    this.viewer.cesiumWidget.container.removeChild(this.vmInstance.$el),
                    this.viewer.scene.postRender.removeEventListener(this.postRender, this)
                }
            }]),
            t
        }();
        e.a = p
    },
    HSQo: function(t, e, n) {
        t.exports = {
            default: n("CJli"),
            __esModule: !0
        }
    },
    JOio: function(t, e, n) {
        "use strict";
        e.a = {
            ARC: "arc",
            ELLIPSE: "ellipse",
            CURVE: "curve",
            CLOSED_CURVE: "closedcurve",
            LUNE: "lune",
            SECTOR: "sector",
            GATHERING_PLACE: "gatheringplace",
            STRAIGHT_ARROW: "straightarrow",
            ASSAULT_DIRECTION: "assaultdirection",
            ATTACK_ARROW: "attackarrow",
            TAILED_ATTACK_ARROW: "tailedattackarrow",
            SQUAD_COMBAT: "squadcombat",
            TAILED_SQUAD_COMBAT: "tailedsquadcombat",
            FINE_ARROW: "finearrow",
            CIRCLE: "circle",
            DOUBLE_ARROW: "doublearrow",
            POLYLINE: "polyline",
            FREEHAND_LINE: "freehandline",
            POLYGON: "polygon",
            FREEHAND_POLYGON: "freehandpolygon",
            RECTANGLE: "rectangle",
            MARKER: "marker",
            TRIANGLE: "triangle"
        }
    },
    K1WO: function(t, e) {},
    KAFt: function(t, e) {},
    Kh5d: function(t, e, n) {
        var i = n("sB3e")
          , r = n("PzxK");
        n("uqUo")("getPrototypeOf", function() {
            return function(t) {
                return r(i(t))
            }
        })
    },
    Ml7J: function(t, e) {},
    MtvG: function(t, e) {},
    NE2f: function(t, e, n) {
        "use strict";
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var i = n("NKec")
          , r = n("i8PE")
          , o = n("qMkV")
          , s = n("sojS")
          , a = n("OGzL")
          , u = n("tnyt")
          , l = n("kKZD")
          , c = n("mvHQ")
          , h = n.n(c)
          , p = n("Dd8w")
          , f = n.n(p)
          , d = n("nJ7o");
        function g() {
            var t = new Date
              , e = t.getFullYear() + "";
            return e += t.getMonth() + 1,
            e += t.getDate(),
            e += t.getHours(),
            e += t.getMinutes(),
            e += t.getSeconds(),
            e += t.getMilliseconds()
        }
        function y(t) {
            var e = Cesium.Cartographic.fromCartesian(t);
            return {
                x: Cesium.Math.toDegrees(e.longitude),
                y: Cesium.Math.toDegrees(e.latitude),
                z: e.height
            }
        }
        function v(t, e) {
            if (!t || !e)
                return null;
            var n = y(t)
              , i = y(e)
              , r = {
                x: (n.x + i.x) / 2,
                y: (n.y + i.y) / 2,
                z: (n.z + i.z) / 2
            };
            return Cesium.Cartesian3.fromDegrees(r.x, r.y, r.z)
        }
        var m = n("1B3R")
          , _ = n("YLmF")
          , E = n("8iBj")
          , C = n("F8Mr");
        function w(t) {
            var e = Cesium.Cartographic.fromCartesian(t);
            return [Cesium.Math.toDegrees(e.longitude), Cesium.Math.toDegrees(e.latitude), e.height]
        }
        var b = {
            init: function(t, e) {
                this.viewer = new Cesium.Viewer(t,{
                    infoBox: !1,
                    selectionIndicator: !1,
                    navigation: !1,
                    animation: !1,
                    shouldAnimate: !1,
                    timeline: !1,
                    baseLayerPicker: !1,
                    geocoder: !1,
                    homeButton: !1,
                    sceneModePicker: !1,
                    navigationHelpButton: !1,
                    imageryProvider: new Cesium.ArcGisMapServerImageryProvider({
                        url: "https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"
                    })
                }),
                this.viewer.scene.globe.depthTestAgainstTerrain = !0,
                this.init3dtiles(),
                this.initLalers(e),
                this.viewer.scene.fxaa = !0,
                this.viewer.scene.postProcessStages.fxaa.enabled = !0
            },
            initLalers: function(t) {
                this.policeLayer = new m.a(this.viewer),
                this.policeCarLayer = new m.a(this.viewer),
                this.plotLayer = new _.a(this.viewer),
                this.labelLayer = new E.a(this.viewer),
                this.monitorLayer = new C.a(this.viewer),
                this.cordonLayer = new C.a(this.viewer),
                this.antiTerroristLayer = new C.a(this.viewer),
                this.initDatas(t)
            },
            initDatas: function(t) {
                var e = this;
                fetch(t).then(function(t) {
                    return t.json()
                }).then(function(t) {
                    t.features.forEach(function(t) {
                        e.addDataToLayer(t)
                    })
                }).catch(function(t) {})
            },
            addDataToLayer: function(t) {
                switch (t.properties.attr.layer) {
                case "police":
                    this.policeLayer.addPlot(t);
                    break;
                case "policeCar":
                    this.policeCarLayer.addPlot(t);
                    break;
                case "label":
                    this.labelLayer.addPlot(t);
                    break;
                case "monitor":
                    this.monitorLayer.addPlot(t);
                    break;
                case "plot":
                    this.plotLayer.addPlot(t);
                    break;
                case "cordon":
                    this.cordonLayer.addPlot(t);
                    break;
                case "antiTerrorist":
                    this.antiTerroristLayer.addPlot(t)
                }
            },
            addPolice: function(t, e) {
                var n = {
                    type: "Feature",
                    properties: {
                        plotCode: g(),
                        modelUrl: "../../../static/gltf/police.gltf",
                        style: {
                            width: 1,
                            height: 1.6,
                            scale: 2,
                            heading: 0
                        },
                        attr: f()({
                            layer: "police"
                        }, e, {
                            task: "暂无说明"
                        })
                    },
                    geometry: {
                        type: "Point",
                        coordinates: w(t)
                    }
                };
                this.policeLayer.addPlot(n)
            },
            addPoliceCar: function(t, e) {
                var n = {
                    type: "Feature",
                    properties: {
                        plotCode: g(),
                        modelUrl: "../../../static/gltf/police_car.gltf",
                        style: {
                            width: 1.4,
                            height: 1.8,
                            scale: 1.5,
                            heading: 0
                        },
                        attr: f()({
                            layer: "policeCar"
                        }, e, {
                            task: "暂无说明"
                        })
                    },
                    geometry: {
                        type: "Point",
                        coordinates: w(t)
                    }
                };
                this.policeCarLayer.addPlot(n)
            },
            addPlot: function(t) {
                t.properties.attr = {
                    layer: "plot",
                    label: "暂无备注"
                },
                this.plotLayer.addPlot(t)
            },
            addLabel: function(t, e) {
                var n = {
                    type: "Feature",
                    properties: {
                        plotCode: g(),
                        plotType: e.name,
                        attr: {
                            layer: "label",
                            name: e.label,
                            label: e.label,
                            remark: "无",
                            img: e.img
                        }
                    },
                    geometry: {
                        type: "Point",
                        coordinates: w(t)
                    }
                };
                this.labelLayer.addPlot(n)
            },
            addCordon: function(t) {
                t.properties.attr = {
                    layer: "cordon",
                    label: "暂无相关信息"
                },
                this.cordonLayer.addPlot(t)
            },
            addMonitor: function(t, e) {
                var n = {
                    type: "Feature",
                    properties: {
                        plotCode: g(),
                        plotType: "marker",
                        style: {
                            img: e.img
                        },
                        attr: {
                            layer: "monitor",
                            name: e.name,
                            address: "暂无地址信息",
                            ip: "暂无IP信息",
                            remark: "无"
                        }
                    },
                    geometry: {
                        type: "Point",
                        coordinates: w(t)
                    }
                };
                this.monitorLayer.addPlot(n)
            },
            addAntiTerrorist: function(t, e) {
                var n = {
                    type: "Feature",
                    properties: {
                        plotCode: g(),
                        plotType: "marker",
                        style: {
                            img: e.img
                        },
                        attr: {
                            layer: "antiTerrorist",
                            name: e.label,
                            label: "暂无说明",
                            remark: "无"
                        }
                    },
                    geometry: {
                        type: "Point",
                        coordinates: w(t)
                    }
                };
                this.antiTerroristLayer.addPlot(n)
            },
            saveToFile: function() {
                var t = [];
                [this.policeLayer, this.policeCarLayer, this.plotLayer, this.labelLayer, this.monitorLayer, this.cordonLayer, this.antiTerroristLayer].forEach(function(e) {
                    e.plots.forEach(function(e) {
                        t.push(e.toGeoJson())
                    })
                });
                var e = {
                    type: "FeatureCollection",
                    features: t
                }
                  , n = h()(e)
                  , i = new Blob([n],{
                    type: "text/json"
                })
                  , r = document.createEvent("MouseEvents")
                  , o = document.createElement("a");
                o.download = (new Date).getTime() + ".json",
                o.href = window.URL.createObjectURL(i),
                o.dataset.downloadurl = ["text/json", o.download, o.href].join(":"),
                r.initMouseEvent("click", !0, !1, window, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, null),
                o.dispatchEvent(r)
            },
            init3dtiles: function() {
                var t = this;
                this.viewer.scene.primitives.add(new Cesium.Cesium3DTileset({
                    url: d.a.zy3dtiles
                })).readyPromise.then(function(e) {
                    t.tileset = e,
                    t.setView(),
                    t.setTilesetHeight(55)
                }).otherwise(function(t) {})
            },
            setView: function() {
                this.viewer.scene.camera.flyTo({
                    destination: {
                        x: -1573781.743737658,
                        y: 5328168.077739355,
                        z: 3122685.184044567
                    },
                    orientation: {
                        heading: 5.988015785273554,
                        pitch: -.7775819426760133,
                        roll: 6.282008909240886
                    },
                    duration: 2
                })
            },
            setTilesetHeight: function(t) {
                var e = Cesium.Cartographic.fromCartesian(this.tileset.boundingSphere.center)
                  , n = Cesium.Cartesian3.fromRadians(e.longitude, e.latitude, e.height)
                  , i = Cesium.Cartesian3.fromRadians(e.longitude, e.latitude, t)
                  , r = Cesium.Cartesian3.subtract(i, n, new Cesium.Cartesian3);
                this.tileset.modelMatrix = Cesium.Matrix4.fromTranslation(r)
            },
            destroy: function() {
                this.viewer.entities.removeAll(),
                this.viewer.imageryLayers.removeAll(!0),
                this.viewer.destroy()
            }
        }
          , x = {
            props: {
                symbolData: {
                    type: Object
                }
            },
            data: function() {
                return {
                    deployList: []
                }
            },
            computed: {
                draggable: function() {
                    for (var t = 0; t < this.deployList.length; t++) {
                        if (this.deployList[t].properties.attr.num == this.symbolData.num)
                            return !1
                    }
                    return !0
                }
            },
            mounted: function() {
                this.deployList = b.policeLayer.plots,
                b.viewer.canvas.ondragover = function(t) {
                    t.preventDefault()
                }
                ,
                b.viewer.canvas.ondrop = function(t) {
                    t.preventDefault();
                    var e = JSON.parse(t.dataTransfer.getData("symbolData"))
                      , n = new Cesium.Cartesian2(t.offsetX,t.offsetY)
                      , i = b.viewer.scene.pickPosition(n);
                    b.addPolice(i, e)
                }
            },
            beforeDestroy: function() {
                b.viewer.canvas.ondragover = void 0,
                b.viewer.canvas.ondrop = void 0
            },
            methods: {
                dragStartEvent: function(t) {
                    this.draggable && t.dataTransfer.setData("symbolData", h()(this.symbolData))
                }
            }
        }
          , I = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "symbol-item",
                    on: {
                        dragstart: function(e) {
                            return t.dragStartEvent(e)
                        }
                    }
                }, [n("img", {
                    staticClass: "symbol-img",
                    attrs: {
                        draggable: t.draggable,
                        src: t.symbolData.img
                    }
                }), t._v(" "), n("span", {
                    staticClass: "symbol-name",
                    class: {
                        "symbol-name-disabled": !t.draggable
                    }
                }, [t._v(t._s(t.symbolData.name))])])
            },
            staticRenderFns: []
        };
        var P = n("VU/8")(x, I, !1, function(t) {
            n("5Ym9")
        }, "data-v-ecbd5cba", null).exports
          , L = {
            props: {
                clickItemCode: "",
                properties: {
                    type: Object
                }
            },
            data: function() {
                return {
                    getFocus: !1
                }
            },
            methods: {
                itemClick: function() {
                    this.$emit("update:clickItemCode", this.properties.plotCode)
                },
                delClick: function() {
                    this.$emit("delClick", this.properties.plotCode)
                },
                locationClick: function() {
                    this.$emit("locationClick", this.properties.plotCode)
                }
            }
        }
          , S = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "deploy-item",
                    class: {
                        "deplooy-item-click": t.clickItemCode == t.properties.plotCode
                    },
                    attrs: {
                        id: "deploy-item-" + t.properties.plotCode
                    },
                    on: {
                        click: t.itemClick,
                        mouseenter: function(e) {
                            t.getFocus = !0
                        },
                        mouseleave: function(e) {
                            t.getFocus = !1
                        }
                    }
                }, [n("img", {
                    staticClass: "deploy-img",
                    attrs: {
                        src: t.properties.attr.img
                    }
                }), t._v(" "), n("div", {
                    staticClass: "deploy-info"
                }, [n("div", {
                    staticClass: "deploy-name"
                }, [t._v(t._s(t.properties.attr.name))]), t._v(" "), n("div", {
                    staticClass: "deploy-label"
                }, [t._v(t._s(t.properties.attr.deptName))])]), t._v(" "), t.getFocus ? n("div", {
                    staticClass: "deploy-action"
                }, [n("el-button", {
                    attrs: {
                        type: "success",
                        icon: "el-icon-location",
                        circle: ""
                    },
                    on: {
                        click: t.locationClick
                    }
                }), t._v(" "), n("el-button", {
                    attrs: {
                        type: "danger",
                        icon: "el-icon-delete",
                        circle: ""
                    },
                    on: {
                        click: t.delClick
                    }
                })], 1) : t._e()])
            },
            staticRenderFns: []
        }
          , N = n("VU/8")(L, S, !1, null, null, null).exports
          , M = {
            props: {
                plot: {
                    type: Object
                }
            },
            methods: {
                updateHeading: function(t) {
                    this.plot.updateHeading(t)
                },
                updateScale: function(t) {
                    this.plot.setScale(t)
                }
            }
        }
          , T = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "attr-panel"
                }, [t._m(0), t._v(" "), n("div", {
                    staticClass: "attr-panel-body"
                }, [n("el-form", {
                    ref: "form",
                    attrs: {
                        model: t.plot,
                        "label-width": "80px",
                        size: "mini"
                    }
                }, [n("el-form-item", {
                    attrs: {
                        label: "警员名称"
                    }
                }, [n("el-input", {
                    attrs: {
                        readonly: ""
                    },
                    model: {
                        value: t.plot.properties.attr.name,
                        callback: function(e) {
                            t.$set(t.plot.properties.attr, "name", e)
                        },
                        expression: "plot.properties.attr.name"
                    }
                })], 1), t._v(" "), n("el-form-item", {
                    attrs: {
                        label: "警员编号"
                    }
                }, [n("el-input", {
                    attrs: {
                        readonly: ""
                    },
                    model: {
                        value: t.plot.properties.attr.num,
                        callback: function(e) {
                            t.$set(t.plot.properties.attr, "num", e)
                        },
                        expression: "plot.properties.attr.num"
                    }
                })], 1), t._v(" "), n("el-form-item", {
                    attrs: {
                        label: "所属部门"
                    }
                }, [n("el-input", {
                    attrs: {
                        readonly: ""
                    },
                    model: {
                        value: t.plot.properties.attr.deptName,
                        callback: function(e) {
                            t.$set(t.plot.properties.attr, "deptName", e)
                        },
                        expression: "plot.properties.attr.deptName"
                    }
                })], 1), t._v(" "), n("el-form-item", {
                    attrs: {
                        label: "任务说明"
                    }
                }, [n("el-input", {
                    attrs: {
                        type: "textarea"
                    },
                    model: {
                        value: t.plot.properties.attr.task,
                        callback: function(e) {
                            t.$set(t.plot.properties.attr, "task", e)
                        },
                        expression: "plot.properties.attr.task"
                    }
                })], 1), t._v(" "), n("el-form-item", {
                    attrs: {
                        label: "模型角度"
                    }
                }, [n("el-slider", {
                    attrs: {
                        min: 0,
                        max: 360
                    },
                    on: {
                        input: t.updateHeading
                    },
                    model: {
                        value: t.plot.properties.style.heading,
                        callback: function(e) {
                            t.$set(t.plot.properties.style, "heading", e)
                        },
                        expression: "plot.properties.style.heading"
                    }
                })], 1), t._v(" "), n("el-form-item", {
                    attrs: {
                        label: "模型比例"
                    }
                }, [n("el-slider", {
                    attrs: {
                        step: .2,
                        min: .5,
                        max: 10
                    },
                    on: {
                        input: t.updateScale
                    },
                    model: {
                        value: t.plot.properties.style.scale,
                        callback: function(e) {
                            t.$set(t.plot.properties.style, "scale", e)
                        },
                        expression: "plot.properties.style.scale"
                    }
                })], 1)], 1)], 1)])
            },
            staticRenderFns: [function() {
                var t = this.$createElement
                  , e = this._self._c || t;
                return e("div", {
                    staticClass: "attr-panel-header"
                }, [e("span", {
                    staticClass: "attr-panel-header-title"
                }, [this._v("警员部署信息")])])
            }
            ]
        }
          , O = n("VU/8")(M, T, !1, null, null, null).exports
          , A = n("//Fk")
          , D = n.n(A);
        function R() {
            return new D.a(function(t, e) {
                setTimeout(function() {
                    t({
                        code: 200,
                        data: [{
                            id: 0,
                            label: "XX市治安总队",
                            children: [{
                                id: 1,
                                label: "治安支队城关大队"
                            }, {
                                id: 2,
                                label: "治安支队安岭大队"
                            }, {
                                id: 3,
                                label: "治安支队森林大队"
                            }, {
                                id: 4,
                                label: "治安支队西固大队"
                            }, {
                                id: 5,
                                label: "治安支队河北大队"
                            }, {
                                id: 6,
                                label: "治安支队北京大队"
                            }]
                        }]
                    })
                }, 300)
            }
            )
        }
        var k = [{
            deptId: 0,
            deptName: "XX市治安总队",
            num: "202009800923",
            name: "李小海",
            img: "../../../static/images/polices/lxh.jpg"
        }, {
            deptId: 0,
            deptName: "XX市治安总队",
            num: "202009800924",
            name: "刘琳琳",
            img: "../../../static/images/polices/lll.jpg"
        }, {
            deptId: 0,
            deptName: "XX市治安总队",
            num: "202009800925",
            name: "李磊",
            img: "../../../static/images/polices/lilei.jpg"
        }, {
            deptId: 1,
            deptName: "治安支队城关大队",
            num: "202009800926",
            name: "张东祥",
            img: "../../../static/images/polices/zdx.jpg"
        }, {
            deptId: 1,
            deptName: "治安支队城关大队",
            num: "202009300926",
            name: "葛福年",
            img: "../../../static/images/polices/gnf.jpg"
        }, {
            deptId: 1,
            deptName: "治安支队城关大队",
            num: "202009813926",
            name: "胡海贵",
            img: "../../../static/images/polices/hhg.jpg"
        }, {
            deptId: 2,
            deptName: "治安支队安岭大队",
            num: "202009803926",
            name: "李华安",
            img: "../../../static/images/polices/lha.jpg"
        }, {
            deptId: 2,
            deptName: "治安支队安岭大队",
            num: "202009103926",
            name: "张启明",
            img: "../../../static/images/polices/zqm.jpg"
        }, {
            deptId: 3,
            deptName: "治安支队森林大队",
            num: "202009103626",
            name: "刘小农",
            img: "../../../static/images/polices/lxn.jpg"
        }];
        function F(t) {
            for (var e = [], n = 0; n < k.length; n++) {
                var i = k[n];
                i.deptId == t && e.push(i)
            }
            return new D.a(function(t, n) {
                setTimeout(function() {
                    t({
                        code: 200,
                        data: e
                    })
                }, 200)
            }
            )
        }
        var G = n("Zrlr")
          , B = n.n(G)
          , q = n("wxAW")
          , V = n.n(q)
          , U = function() {
            function t(e) {
                B()(this, t),
                this.viewer = e,
                this.addPoint()
            }
            return V()(t, [{
                key: "addPoint",
                value: function() {
                    this.mousePointEntity = this.viewer.entities.add({
                        point: {
                            pixelSize: 8,
                            color: Cesium.Color.AQUA,
                            outlineWidth: 1,
                            outlineColor: Cesium.Color.WHITE
                        }
                    })
                }
            }, {
                key: "updatePosition",
                value: function(t) {
                    this.mousePointEntity.position = t
                }
            }, {
                key: "remove",
                value: function() {
                    this.viewer.entities.remove(this.mousePointEntity)
                }
            }]),
            t
        }()
          , j = function() {
            function t(e, n) {
                B()(this, t),
                this.viewer = e,
                this.gltfPlotLayer = n,
                this.registerMouseEvents()
            }
            return V()(t, [{
                key: "registerMouseEvents",
                value: function() {
                    this.eventHandler = new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas),
                    this.initLeftDownEventHandler(),
                    this.initMouseMoveEventHandler(),
                    this.initLeftUpEventHandler()
                }
            }, {
                key: "unRegisterMouseEvents",
                value: function() {
                    this.eventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOWN),
                    this.eventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_UP),
                    this.eventHandler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE)
                }
            }, {
                key: "destroy",
                value: function() {
                    this.unRegisterMouseEvents(),
                    this.viewer = void 0,
                    this.gltfPlotLayer = void 0,
                    this.eventHandler = void 0
                }
            }, {
                key: "initLeftDownEventHandler",
                value: function() {
                    var t = this;
                    this.eventHandler.setInputAction(function(e) {
                        if (t.gltfPlotLayer.selectedPlot) {
                            var n = t.viewer.scene.pick(e.position);
                            n && n.id && "GltfPlot" === n.id.type && t.gltfPlotLayer.selectedPlot.properties.plotCode == n.id.plotCode && (t.viewer.enableCursorStyle = !1,
                            document.body.style.cursor = "move",
                            t.moveing = !0,
                            t.gltfPlotLayer.selectedPlot.setVisible(!1),
                            t.mousePoint = new U(t.viewer),
                            t.viewer.scene.screenSpaceCameraController.enableRotate = !1)
                        }
                    }, Cesium.ScreenSpaceEventType.LEFT_DOWN)
                }
            }, {
                key: "initLeftUpEventHandler",
                value: function() {
                    var t = this;
                    this.eventHandler.setInputAction(function(e) {
                        t.moveing && (t.viewer.enableCursorStyle = !0,
                        document.body.style.cursor = "default",
                        t.moveing = !1,
                        t.viewer.scene.screenSpaceCameraController.enableRotate = !0,
                        t.mousePoint.remove(),
                        t.mousePoint = void 0,
                        t.gltfPlotLayer.selectedPlot && t.gltfPlotLayer.selectedPlot.setVisible(!0))
                    }, Cesium.ScreenSpaceEventType.LEFT_UP)
                }
            }, {
                key: "initMouseMoveEventHandler",
                value: function() {
                    var t = this;
                    this.eventHandler.setInputAction(function(e) {
                        if (t.moveing) {
                            var n = t.viewer.scene.pickPosition(e.endPosition);
                            n && (t.mousePoint.updatePosition(n),
                            t.gltfPlotLayer.selectedPlot.updatePosition(n))
                        }
                    }, Cesium.ScreenSpaceEventType.MOUSE_MOVE)
                }
            }]),
            t
        }()
          , z = {
            components: {
                SymbolItem: P,
                DeployItem: N,
                DeployEdit: O
            },
            data: function() {
                return {
                    deptList: [],
                    deptListLoading: !1,
                    policeList: [],
                    policeListLoading: !1,
                    deployList: [],
                    selectedPlot: void 0,
                    clickItemCode: ""
                }
            },
            created: function() {
                var t = this;
                this.deptListLoading = !0,
                R().then(function(e) {
                    t.deptList = e.data,
                    t.deptListLoading = !1
                }),
                this.policeListLoading = !0,
                F(0).then(function(e) {
                    t.policeList = e.data,
                    t.policeListLoading = !1
                }),
                this.deployList = b.policeLayer.plots,
                this.initPlotEdit()
            },
            mounted: function() {
                b.policeLayer.setPlotSelectable(!0),
                b.policeLayer.selectedPlotChanged.addEventListener(this.selectedPlotChangedEvent, this)
            },
            beforeDestroy: function() {
                b.policeLayer.clearSelectedPlot(),
                b.policeLayer.setPlotSelectable(!1),
                b.policeLayer.selectedPlotChanged.removeEventListener(this.selectedPlotChangedEvent, this),
                this.gltfPlotEdit.destroy()
            },
            methods: {
                deptListNodeClickEvnet: function(t) {
                    var e = this;
                    this.policeList = [],
                    this.policeListLoading = !0,
                    F(t.id).then(function(t) {
                        e.policeList = t.data,
                        e.policeListLoading = !1
                    })
                },
                delClickEvent: function(t) {
                    this.SmMessageBox.confirm("删除提示", "确定从列表中删除此项？").then(function(e) {
                        b.policeLayer.removeByPlotCode(t)
                    }).catch(function(t) {})
                },
                locationClickEvent: function(t) {
                    b.policeLayer.flyToByPlotCode(t)
                },
                initPlotEdit: function() {
                    this.gltfPlotEdit = new j(b.viewer,b.policeLayer)
                },
                selectedPlotChangedEvent: function(t) {
                    if (this.selectedPlot = t,
                    this.clickItemCode = t ? t.properties.plotCode : "",
                    this.clickItemCode) {
                        var e = "deploy-item-" + this.clickItemCode
                          , n = document.getElementById(e).offsetTop - 77;
                        this.$refs.deployList.scroll({
                            top: n,
                            behavior: "smooth"
                        })
                    }
                }
            }
        }
          , Y = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "edit-feature-wrapp"
                }, [n("div", {
                    staticClass: "edit-panel"
                }, [t._m(0), t._v(" "), n("div", {
                    staticClass: "edit-panel-body"
                }, [n("div", {
                    staticClass: "dept-container"
                }, [n("div", {
                    staticClass: "list-header"
                }, [t._v("组织资源")]), t._v(" "), n("el-tree", {
                    directives: [{
                        name: "loading",
                        rawName: "v-loading",
                        value: t.deptListLoading,
                        expression: "deptListLoading"
                    }],
                    staticClass: "dept-tree",
                    attrs: {
                        "highlight-current": !0,
                        data: t.deptList,
                        "expand-on-click-node": !1,
                        "element-loading-background": "rgba(0, 0, 0, 0.4)",
                        "element-loading-text": "拼命加载中",
                        "default-expand-all": !0
                    },
                    on: {
                        "node-click": t.deptListNodeClickEvnet
                    }
                })], 1), t._v(" "), n("div", {
                    staticClass: "police-container"
                }, [n("div", {
                    staticClass: "police-header"
                }, [t._v("警员资源")]), t._v(" "), n("div", {
                    directives: [{
                        name: "loading",
                        rawName: "v-loading",
                        value: t.policeListLoading,
                        expression: "policeListLoading"
                    }],
                    staticClass: "police-list",
                    attrs: {
                        "element-loading-background": "rgba(0, 0, 0, 0.4)",
                        "element-loading-text": "拼命加载中"
                    }
                }, t._l(t.policeList, function(t) {
                    return n("SymbolItem", {
                        key: t.num,
                        attrs: {
                            symbolData: t
                        }
                    })
                }), 1)]), t._v(" "), n("div", {
                    staticClass: "deploy-container"
                }, [n("div", {
                    staticClass: "deploy-header"
                }, [t._v("已部署警员列表")]), t._v(" "), n("div", {
                    ref: "deployList",
                    staticClass: "deploy-list"
                }, t._l(t.deployList, function(e) {
                    return n("DeployItem", {
                        key: e.properties.plotCode,
                        attrs: {
                            properties: e.properties,
                            clickItemCode: t.clickItemCode
                        },
                        on: {
                            "update:clickItemCode": function(e) {
                                t.clickItemCode = e
                            },
                            "update:click-item-code": function(e) {
                                t.clickItemCode = e
                            },
                            delClick: t.delClickEvent,
                            locationClick: t.locationClickEvent
                        }
                    })
                }), 1)])])]), t._v(" "), void 0 != t.selectedPlot ? n("DeployEdit", {
                    attrs: {
                        plot: t.selectedPlot
                    }
                }) : t._e()], 1)
            },
            staticRenderFns: [function() {
                var t = this.$createElement
                  , e = this._self._c || t;
                return e("div", {
                    staticClass: "edit-panel-header"
                }, [e("span", {
                    staticClass: "edit-panel-header-title"
                }, [this._v("警员部署")])])
            }
            ]
        };
        var H = n("VU/8")(z, Y, !1, function(t) {
            n("oTt8")
        }, "data-v-b5841306", null).exports
          , X = {
            props: {
                symbolData: {
                    type: Object
                }
            },
            data: function() {
                return {
                    deployList: []
                }
            },
            computed: {
                draggable: function() {
                    for (var t = 0; t < this.deployList.length; t++) {
                        if (this.deployList[t].properties.attr.carNum == this.symbolData.carNum)
                            return !1
                    }
                    return !0
                }
            },
            mounted: function() {
                this.deployList = b.policeCarLayer.plots,
                b.viewer.canvas.ondragover = function(t) {
                    t.preventDefault()
                }
                ,
                b.viewer.canvas.ondrop = function(t) {
                    t.preventDefault();
                    var e = JSON.parse(t.dataTransfer.getData("symbolData"))
                      , n = new Cesium.Cartesian2(t.offsetX,t.offsetY)
                      , i = b.viewer.scene.pickPosition(n);
                    b.addPoliceCar(i, e)
                }
            },
            beforeDestroy: function() {
                b.viewer.canvas.ondragover = void 0,
                b.viewer.canvas.ondrop = void 0
            },
            methods: {
                dragStartEvent: function(t) {
                    t.dataTransfer.setData("symbolData", h()(this.symbolData))
                }
            }
        }
          , W = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "symbol-item",
                    on: {
                        dragstart: function(e) {
                            return t.dragStartEvent(e)
                        }
                    }
                }, [n("img", {
                    staticClass: "symbol-img",
                    attrs: {
                        draggable: t.draggable,
                        src: t.symbolData.img
                    }
                }), t._v(" "), n("span", {
                    staticClass: "symbol-name",
                    class: {
                        "symbol-name-disabled": !t.draggable
                    }
                }, [t._v(t._s(t.symbolData.carNum))])])
            },
            staticRenderFns: []
        };
        var $ = n("VU/8")(X, W, !1, function(t) {
            n("bVSB")
        }, "data-v-7d368e05", null).exports
          , K = {
            props: {
                clickItemCode: "",
                properties: {
                    type: Object
                }
            },
            data: function() {
                return {
                    getFocus: !1
                }
            },
            methods: {
                itemClick: function() {
                    this.$emit("update:clickItemCode", this.properties.plotCode)
                },
                delClick: function() {
                    this.$emit("delClick", this.properties.plotCode)
                },
                locationClick: function() {
                    this.$emit("locationClick", this.properties.plotCode)
                }
            }
        }
          , Z = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "deploy-item",
                    class: {
                        "deplooy-item-click": t.clickItemCode == t.properties.plotCode
                    },
                    attrs: {
                        id: "deploy-item-" + t.properties.plotCode
                    },
                    on: {
                        click: t.itemClick,
                        mouseenter: function(e) {
                            t.getFocus = !0
                        },
                        mouseleave: function(e) {
                            t.getFocus = !1
                        }
                    }
                }, [n("img", {
                    staticClass: "deploy-img",
                    attrs: {
                        src: t.properties.attr.img
                    }
                }), t._v(" "), n("div", {
                    staticClass: "deploy-info"
                }, [n("div", {
                    staticClass: "deploy-name"
                }, [t._v(t._s(t.properties.attr.carNum))]), t._v(" "), n("div", {
                    staticClass: "deploy-label"
                }, [t._v(t._s(t.properties.attr.deptName))])]), t._v(" "), t.getFocus ? n("div", {
                    staticClass: "deploy-action"
                }, [n("el-button", {
                    attrs: {
                        type: "success",
                        icon: "el-icon-location",
                        circle: ""
                    },
                    on: {
                        click: t.locationClick
                    }
                }), t._v(" "), n("el-button", {
                    attrs: {
                        type: "danger",
                        icon: "el-icon-delete",
                        circle: ""
                    },
                    on: {
                        click: t.delClick
                    }
                })], 1) : t._e()])
            },
            staticRenderFns: []
        }
          , Q = n("VU/8")(K, Z, !1, null, null, null).exports
          , J = {
            props: {
                plot: {
                    type: Object
                }
            },
            methods: {
                updateHeading: function(t) {
                    this.plot.updateHeading(t)
                },
                updateScale: function(t) {
                    this.plot.setScale(t)
                }
            }
        }
          , tt = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "attr-panel"
                }, [t._m(0), t._v(" "), n("div", {
                    staticClass: "attr-panel-body"
                }, [n("el-form", {
                    ref: "form",
                    attrs: {
                        model: t.plot,
                        "label-width": "80px",
                        size: "mini"
                    }
                }, [n("el-form-item", {
                    attrs: {
                        label: "警车编号"
                    }
                }, [n("el-input", {
                    attrs: {
                        readonly: ""
                    },
                    model: {
                        value: t.plot.properties.attr.carNum,
                        callback: function(e) {
                            t.$set(t.plot.properties.attr, "carNum", e)
                        },
                        expression: "plot.properties.attr.carNum"
                    }
                })], 1), t._v(" "), n("el-form-item", {
                    attrs: {
                        label: "所属部门"
                    }
                }, [n("el-input", {
                    attrs: {
                        readonly: ""
                    },
                    model: {
                        value: t.plot.properties.attr.deptName,
                        callback: function(e) {
                            t.$set(t.plot.properties.attr, "deptName", e)
                        },
                        expression: "plot.properties.attr.deptName"
                    }
                })], 1), t._v(" "), n("el-form-item", {
                    attrs: {
                        label: "任务说明"
                    }
                }, [n("el-input", {
                    attrs: {
                        type: "textarea"
                    },
                    model: {
                        value: t.plot.properties.attr.task,
                        callback: function(e) {
                            t.$set(t.plot.properties.attr, "task", e)
                        },
                        expression: "plot.properties.attr.task"
                    }
                })], 1), t._v(" "), n("el-form-item", {
                    attrs: {
                        label: "模型角度"
                    }
                }, [n("el-slider", {
                    attrs: {
                        min: 0,
                        max: 360
                    },
                    on: {
                        input: t.updateHeading
                    },
                    model: {
                        value: t.plot.properties.style.heading,
                        callback: function(e) {
                            t.$set(t.plot.properties.style, "heading", e)
                        },
                        expression: "plot.properties.style.heading"
                    }
                })], 1), t._v(" "), n("el-form-item", {
                    attrs: {
                        label: "模型比例"
                    }
                }, [n("el-slider", {
                    attrs: {
                        step: .2,
                        min: .5,
                        max: 10
                    },
                    on: {
                        input: t.updateScale
                    },
                    model: {
                        value: t.plot.properties.style.scale,
                        callback: function(e) {
                            t.$set(t.plot.properties.style, "scale", e)
                        },
                        expression: "plot.properties.style.scale"
                    }
                })], 1)], 1)], 1)])
            },
            staticRenderFns: [function() {
                var t = this.$createElement
                  , e = this._self._c || t;
                return e("div", {
                    staticClass: "attr-panel-header"
                }, [e("span", {
                    staticClass: "attr-panel-header-title"
                }, [this._v("车辆信息")])])
            }
            ]
        }
          , et = [{
            deptId: 0,
            deptName: "XX市治安总队",
            carNum: "甘A00001",
            img: "../../../static/images/policeCars/14549f.jpg"
        }, {
            deptId: 0,
            deptName: "XX市治安总队",
            carNum: "甘A00002",
            img: "../../../static/images/policeCars/14549c.jpg"
        }, {
            deptId: 0,
            deptName: "XX市治安总队",
            carNum: "甘A00003",
            img: "../../../static/images/policeCars/14549e.jpg"
        }, {
            deptId: 1,
            deptName: "治安支队城关大队",
            carNum: "甘A00011",
            img: "../../../static/images/policeCars/14549f.jpg"
        }, {
            deptId: 1,
            deptName: "治安支队城关大队",
            carNum: "甘A00004",
            img: "../../../static/images/policeCars/14549c.jpg"
        }, {
            deptId: 1,
            deptName: "治安支队城关大队",
            carNum: "甘A00021",
            img: "../../../static/images/policeCars/14549f.jpg"
        }, {
            deptId: 2,
            deptName: "治安支队安岭大队",
            carNum: "甘A00005",
            img: "../../../static/images/policeCars/14549c.jpg"
        }, {
            deptId: 2,
            deptName: "治安支队安岭大队",
            carNum: "甘A00006",
            img: "../../../static/images/policeCars/14549f.jpg"
        }, {
            deptId: 3,
            deptName: "治安支队森林大队",
            carNum: "甘A00007",
            img: "../../../static/images/policeCars/14549c.jpg"
        }];
        function nt(t) {
            for (var e = [], n = 0; n < et.length; n++) {
                var i = et[n];
                i.deptId == t && e.push(i)
            }
            return new D.a(function(t, n) {
                setTimeout(function() {
                    t({
                        code: 200,
                        data: e
                    })
                }, 200)
            }
            )
        }
        var it = {
            components: {
                SymbolItem: $,
                DeployItem: Q,
                DeployEdit: n("VU/8")(J, tt, !1, null, null, null).exports
            },
            data: function() {
                return {
                    deptListLoading: !1,
                    deptList: [],
                    policeCarListLoading: !1,
                    policeCarList: [],
                    deployList: [],
                    selectedPlot: void 0,
                    clickItemCode: ""
                }
            },
            created: function() {
                var t = this;
                this.deptListLoading = !0,
                R().then(function(e) {
                    t.deptList = e.data,
                    t.deptListLoading = !1
                }),
                this.policeCarListLoading = !0,
                nt(0).then(function(e) {
                    t.policeCarList = e.data,
                    t.policeCarListLoading = !1
                }),
                this.deployList = b.policeCarLayer.plots,
                this.initPlotEdit()
            },
            mounted: function() {
                b.policeCarLayer.setPlotSelectable(!0),
                b.policeCarLayer.selectedPlotChanged.addEventListener(this.selectedPlotChangedEvent, this)
            },
            beforeDestroy: function() {
                b.policeCarLayer.clearSelectedPlot(),
                b.policeCarLayer.setPlotSelectable(!1),
                b.policeCarLayer.selectedPlotChanged.removeEventListener(this.selectedPlotChangedEvent, this),
                this.gltfPlotEdit.destroy()
            },
            methods: {
                deptListNodeClickEvnet: function(t) {
                    var e = this;
                    this.policeCarList = [],
                    this.policeCarListLoading = !0,
                    nt(t.id).then(function(t) {
                        e.policeCarList = t.data,
                        e.policeCarListLoading = !1
                    })
                },
                initPlotEdit: function() {
                    this.gltfPlotEdit = new j(b.viewer,b.policeCarLayer)
                },
                delClickEvent: function(t) {
                    this.SmMessageBox.confirm("删除提示", "确定从列表中删除此项？").then(function(e) {
                        b.policeCarLayer.removeByPlotCode(t)
                    }).catch(function(t) {})
                },
                locationClickEvent: function(t) {
                    b.policeCarLayer.flyToByPlotCode(t)
                },
                selectedPlotChangedEvent: function(t) {
                    if (this.selectedPlot = t,
                    this.clickItemCode = t ? t.properties.plotCode : "",
                    this.clickItemCode) {
                        var e = "deploy-item-" + this.clickItemCode
                          , n = document.getElementById(e).offsetTop - 77;
                        this.$refs.deployList.scroll({
                            top: n,
                            behavior: "smooth"
                        })
                    }
                }
            }
        }
          , rt = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "edit-feature-wrapp"
                }, [n("div", {
                    staticClass: "edit-panel"
                }, [t._m(0), t._v(" "), n("div", {
                    staticClass: "edit-panel-body"
                }, [n("div", {
                    staticClass: "dept-container"
                }, [n("div", {
                    staticClass: "list-header"
                }, [t._v("组织资源")]), t._v(" "), n("el-tree", {
                    directives: [{
                        name: "loading",
                        rawName: "v-loading",
                        value: t.deptListLoading,
                        expression: "deptListLoading"
                    }],
                    staticClass: "dept-tree",
                    attrs: {
                        data: t.deptList,
                        "expand-on-click-node": !1,
                        "element-loading-background": "rgba(0, 0, 0, 0.4)",
                        "element-loading-text": "拼命加载中",
                        "default-expand-all": !0
                    },
                    on: {
                        "node-click": t.deptListNodeClickEvnet
                    }
                })], 1), t._v(" "), n("div", {
                    staticClass: "police-container"
                }, [n("div", {
                    staticClass: "police-header"
                }, [t._v("警车资源")]), t._v(" "), n("div", {
                    directives: [{
                        name: "loading",
                        rawName: "v-loading",
                        value: t.policeCarListLoading,
                        expression: "policeCarListLoading"
                    }],
                    staticClass: "police-list",
                    attrs: {
                        "element-loading-background": "rgba(0, 0, 0, 0.4)",
                        "element-loading-text": "拼命加载中"
                    }
                }, t._l(t.policeCarList, function(t) {
                    return n("SymbolItem", {
                        key: t.carNumb,
                        attrs: {
                            symbolData: t
                        }
                    })
                }), 1)]), t._v(" "), n("div", {
                    staticClass: "deploy-container"
                }, [n("div", {
                    staticClass: "deploy-header"
                }, [t._v("已部署警车列表")]), t._v(" "), n("div", {
                    ref: "deployList",
                    staticClass: "deploy-list"
                }, t._l(t.deployList, function(e) {
                    return n("DeployItem", {
                        key: e.properties.plotCode,
                        attrs: {
                            properties: e.properties,
                            clickItemCode: t.clickItemCode
                        },
                        on: {
                            "update:clickItemCode": function(e) {
                                t.clickItemCode = e
                            },
                            "update:click-item-code": function(e) {
                                t.clickItemCode = e
                            },
                            delClick: t.delClickEvent,
                            locationClick: t.locationClickEvent
                        }
                    })
                }), 1)])])]), t._v(" "), void 0 != t.selectedPlot ? n("DeployEdit", {
                    attrs: {
                        plot: t.selectedPlot
                    }
                }) : t._e()], 1)
            },
            staticRenderFns: [function() {
                var t = this.$createElement
                  , e = this._self._c || t;
                return e("div", {
                    staticClass: "edit-panel-header"
                }, [e("span", {
                    staticClass: "edit-panel-header-title"
                }, [this._v("警车部署")])])
            }
            ]
        };
        var ot = n("VU/8")(it, rt, !1, function(t) {
            n("2jsV")
        }, "data-v-3ef075e4", null).exports
          , st = {
            props: {
                symbolData: {
                    type: Object
                }
            },
            methods: {
                clickEvent: function() {
                    this.$emit("clickEvent", this.symbolData)
                }
            }
        }
          , at = {
            render: function() {
                var t = this.$createElement
                  , e = this._self._c || t;
                return e("div", {
                    staticClass: "plot-symbol-item",
                    on: {
                        click: this.clickEvent
                    }
                }, [e("img", {
                    staticClass: "plot-symbol-img",
                    attrs: {
                        src: this.symbolData.img
                    }
                }), this._v(" "), e("div", {
                    staticClass: "plot-symbol-label"
                }, [this._v(this._s(this.symbolData.label))])])
            },
            staticRenderFns: []
        };
        var ut = n("VU/8")(st, at, !1, function(t) {
            n("BjUo")
        }, "data-v-5d734356", null).exports
          , lt = {
            props: {
                clickItemCode: "",
                properties: {
                    type: Object
                }
            },
            computed: {
                imgUrl: function() {
                    return "../../../static/images/plotSymbols/" + this.properties.plotType + ".jpg"
                }
            },
            data: function() {
                return {
                    getFocus: !1
                }
            },
            methods: {
                itemClick: function() {
                    this.$emit("update:clickItemCode", this.properties.plotCode)
                },
                delClick: function() {
                    this.$emit("delClick", this.properties.plotCode)
                },
                locationClick: function() {
                    this.$emit("locationClick", this.properties.plotCode)
                }
            }
        }
          , ct = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "deploy-item",
                    class: {
                        "deplooy-item-click": t.clickItemCode == t.properties.plotCode
                    },
                    attrs: {
                        id: "deploy-item-" + t.properties.plotCode
                    },
                    on: {
                        click: t.itemClick,
                        mouseenter: function(e) {
                            t.getFocus = !0
                        },
                        mouseleave: function(e) {
                            t.getFocus = !1
                        }
                    }
                }, [n("img", {
                    staticClass: "deploy-img",
                    attrs: {
                        src: t.imgUrl
                    }
                }), t._v(" "), n("div", {
                    staticClass: "deploy-info"
                }, [n("div", {
                    staticClass: "deploy-name"
                }, [t._v(t._s(t.properties.plotName))]), t._v(" "), n("div", {
                    staticClass: "deploy-label"
                }, [t._v(t._s(t.properties.attr.label))])]), t._v(" "), t.getFocus ? n("div", {
                    staticClass: "deploy-action"
                }, [n("el-button", {
                    attrs: {
                        type: "success",
                        icon: "el-icon-location",
                        circle: ""
                    },
                    on: {
                        click: t.locationClick
                    }
                }), t._v(" "), n("el-button", {
                    attrs: {
                        type: "danger",
                        icon: "el-icon-delete",
                        circle: ""
                    },
                    on: {
                        click: t.delClick
                    }
                })], 1) : t._e()])
            },
            staticRenderFns: []
        }
          , ht = n("VU/8")(lt, ct, !1, null, null, null).exports
          , pt = {
            props: {
                plot: {
                    type: Object
                }
            },
            methods: {}
        }
          , ft = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "attr-panel"
                }, [t._m(0), t._v(" "), n("div", {
                    staticClass: "attr-panel-body"
                }, [n("el-form", {
                    ref: "form",
                    attrs: {
                        model: t.plot,
                        "label-width": "80px",
                        size: "mini"
                    }
                }, [n("el-form-item", {
                    attrs: {
                        label: "标号名称"
                    }
                }, [n("el-input", {
                    attrs: {
                        readonly: ""
                    },
                    model: {
                        value: t.plot.properties.plotName,
                        callback: function(e) {
                            t.$set(t.plot.properties, "plotName", e)
                        },
                        expression: "plot.properties.plotName"
                    }
                })], 1), t._v(" "), n("el-form-item", {
                    attrs: {
                        label: "备注信息"
                    }
                }, [n("el-input", {
                    model: {
                        value: t.plot.properties.attr.label,
                        callback: function(e) {
                            t.$set(t.plot.properties.attr, "label", e)
                        },
                        expression: "plot.properties.attr.label"
                    }
                })], 1)], 1)], 1)])
            },
            staticRenderFns: [function() {
                var t = this.$createElement
                  , e = this._self._c || t;
                return e("div", {
                    staticClass: "attr-panel-header"
                }, [e("span", {
                    staticClass: "attr-panel-header-title"
                }, [this._v("标绘信息")])])
            }
            ]
        }
          , dt = n("VU/8")(pt, ft, !1, null, null, null).exports
          , gt = n("7+uW")
          , yt = {
            name: "PlotDrawTip",
            props: {
                contents: {
                    type: Array
                }
            }
        }
          , vt = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "plot-draw-tip-container"
                }, t._l(t.contents, function(e, i) {
                    return n("div", {
                        key: i
                    }, [t._v(t._s(e))])
                }), 0)
            },
            staticRenderFns: []
        };
        var mt = n("VU/8")(yt, vt, !1, function(t) {
            n("xFXL")
        }, "data-v-0f5730e1", null).exports
          , _t = gt.default.extend(mt)
          , Et = function() {
            function t(e) {
                B()(this, t),
                this.viewer = e,
                this.vmInstance = new _t({
                    propsData: {
                        contents: []
                    }
                }).$mount(),
                e.cesiumWidget.container.appendChild(this.vmInstance.$el),
                this.addPostRender()
            }
            return V()(t, [{
                key: "setContent",
                value: function(t) {
                    this.vmInstance.contents = t
                }
            }, {
                key: "updatePosition",
                value: function(t) {
                    this.position = t
                }
            }, {
                key: "addPostRender",
                value: function() {
                    this.viewer.scene.postRender.addEventListener(this.postRender, this)
                }
            }, {
                key: "postRender",
                value: function() {
                    if (this.vmInstance.$el && this.vmInstance.$el.style && this.position) {
                        var t = this.viewer.scene.canvas.height
                          , e = new Cesium.Cartesian2;
                        Cesium.SceneTransforms.wgs84ToWindowCoordinates(this.viewer.scene, this.position, e),
                        this.vmInstance.$el.style.bottom = t - e.y - 20 + "px";
                        this.vmInstance.$el.offsetWidth;
                        this.vmInstance.$el.style.left = e.x + 50 + "px"
                    }
                }
            }, {
                key: "remove",
                value: function() {
                    this.viewer.cesiumWidget.container.removeChild(this.vmInstance.$el),
                    this.viewer.scene.postRender.removeEventListener(this.postRender, this)
                }
            }]),
            t
        }()
          , Ct = n("T3HZ")
          , wt = n("JOio")
          , bt = n("c7sX")
          , xt = n("T2KQ")
          , It = n("Z9Vd")
          , Pt = function() {
            function t(e) {
                B()(this, t),
                this.viewer = e,
                this.viewer.cesiumWidget.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),
                this.initEvents()
            }
            return V()(t, [{
                key: "activate",
                value: function(t) {
                    this.plotType = t,
                    this.clear(),
                    this.points = [],
                    this.plotDrawTip = new Et(this.viewer),
                    this.MousePoint = new U(this.viewer),
                    this.registerEvents(),
                    this.viewer.enableCursorStyle = !1,
                    this.viewer._element.style.cursor = "default",
                    this.initMouseTip(),
                    this.PlotDrawStartEvent.raiseEvent()
                }
            }, {
                key: "initMouseTip",
                value: function() {
                    var t = this.getPlotNam();
                    switch (this.plotType) {
                    case wt.a.MARKER:
                        this.plotDrawTip.setContent(["当前绘制类型：" + t + "，需要1个点", "按下鼠标左键确定位置", "按下鼠标右键取消绘制"]);
                        break;
                    case wt.a.POLYLINE:
                    case wt.a.SQUAD_COMBAT:
                    case wt.a.TAILED_SQUAD_COMBAT:
                        this.plotDrawTip.setContent(["当前绘制类型：" + t + "，最少需要2个点", "按下鼠标左键确定第一个点的位置", "按下鼠标右键取消绘制"]);
                        break;
                    case wt.a.ELLIPSE:
                    case wt.a.CIRCLE:
                    case wt.a.RECTANGLE:
                    case wt.a.FINE_ARROW:
                    case wt.a.ASSAULT_DIRECTION:
                        this.plotDrawTip.setContent(["当前绘制类型：" + t + "，需要2个点", "按下鼠标左键确定第一个点的位置", "按下鼠标右键取消绘制"]);
                        break;
                    case wt.a.POLYGON:
                    case wt.a.ATTACK_ARROW:
                    case wt.a.TAILED_ATTACK_ARROW:
                    case wt.a.CLOSED_CURVE:
                        this.plotDrawTip.setContent(["当前绘制类型：" + t + "，最少需要3个点", "按下鼠标左键确定第一个点的位置", "按下鼠标右键取消绘制"]);
                        break;
                    case wt.a.GATHERING_PLACE:
                    case wt.a.SECTOR:
                        this.plotDrawTip.setContent(["当前绘制类型：" + t + "，需要3个点", "按下鼠标左键确定第一个点的位置", "按下鼠标右键取消绘制"]);
                        break;
                    case wt.a.DOUBLE_ARROW:
                        this.plotDrawTip.setContent(["当前绘制类型：" + t + "，需要4个点", "按下鼠标左键确定第一个点的位置", "按下鼠标右键取消绘制"])
                    }
                }
            }, {
                key: "getPlotNam",
                value: function() {
                    switch (this.plotType) {
                    case wt.a.MARKER:
                        return "点";
                    case wt.a.POLYLINE:
                        return "线";
                    case wt.a.POLYGON:
                        return "面";
                    case wt.a.ELLIPSE:
                        return "椭圆";
                    case wt.a.CIRCLE:
                        return "正圆";
                    case wt.a.RECTANGLE:
                        return "矩形";
                    case wt.a.CLOSED_CURVE:
                        return "曲线面";
                    case wt.a.SECTOR:
                        return "扇形";
                    case wt.a.FINE_ARROW:
                        return "直箭头";
                    case wt.a.ASSAULT_DIRECTION:
                        return "突击方向";
                    case wt.a.ATTACK_ARROW:
                        return "点进攻方向";
                    case wt.a.TAILED_ATTACK_ARROW:
                        return "进攻方向尾";
                    case wt.a.GATHERING_PLACE:
                        return "集结地";
                    case wt.a.SQUAD_COMBAT:
                        return "分队作战";
                    case wt.a.TAILED_SQUAD_COMBAT:
                        return "分队作战尾";
                    case wt.a.DOUBLE_ARROW:
                        return "钳击"
                    }
                }
            }, {
                key: "deactivate",
                value: function() {
                    this.unRegisterEvents(),
                    this.plotType = void 0,
                    this.viewer._element.style.cursor = "pointer",
                    this.viewer.enableCursorStyle = !0,
                    this.plotDrawTip && (this.plotDrawTip.remove(),
                    this.MousePoint.remove(),
                    this.plotDrawTip = void 0,
                    this.MousePoint = void 0)
                }
            }, {
                key: "clear",
                value: function() {
                    this.plot && (this.plot.remove(),
                    this.plot = void 0)
                }
            }, {
                key: "generatePlot",
                value: function(t, e) {
                    var n = {
                        type: "Feature",
                        properties: {
                            plotCode: g(),
                            style: {
                                height: e
                            }
                        },
                        geometry: {
                            type: "Polygon",
                            coordinates: [t]
                        }
                    };
                    this.plot = Ct.a.createPlot(this.viewer, this.plotType, n),
                    this.plot.openEditMode(!0)
                }
            }, {
                key: "initEvents",
                value: function() {
                    this.handler = new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas),
                    this.PlotDrawStartEvent = new Cesium.Event,
                    this.PlotDrawEndEvent = new Cesium.Event
                }
            }, {
                key: "registerEvents",
                value: function() {
                    this.leftClickEvent(),
                    this.rightClickEvent(),
                    this.mouseMoveEvent()
                }
            }, {
                key: "leftClickEvent",
                value: function() {
                    var t = this;
                    this.handler.setInputAction(function(e) {
                        t.viewer._element.style.cursor = "default";
                        var n = t.viewer.scene.pickPosition(e.position);
                        if (n || (n = t.viewer.scene.camera.pickEllipsoid(e.position, t.viewer.scene.globe.ellipsoid)),
                        n) {
                            var i = Object(bt.b)(n)
                              , r = Cesium.Cartographic.fromCartesian(n);
                            if (0 == t.points.length)
                                t.points.push(i),
                                t.generatePlot(t.points, r.height);
                            else {
                                if (Object(It.a)(i, t.points[t.points.length - 1]) < xt.e)
                                    return;
                                t.points.push(i),
                                t.plot.setPoints(t.points)
                            }
                            t.setMouseTipContent(),
                            t.plot.fixPointCount == t.points.length && (t.drawEnd(),
                            t.deactivate())
                        }
                    }, Cesium.ScreenSpaceEventType.LEFT_CLICK)
                }
            }, {
                key: "setMouseTipContent",
                value: function() {
                    var t = this.getPlotNam();
                    switch (this.plotType) {
                    case wt.a.POLYLINE:
                    case wt.a.SQUAD_COMBAT:
                    case wt.a.TAILED_SQUAD_COMBAT:
                        this.plotDrawTip.setContent(["当前绘制类型：" + t + "，最少需要2个点", "已有" + this.points.length + "个点，按下鼠标左键确定第" + (this.points.length + 1) + "个点", , this.points.length < 2 ? "按下鼠标右键取消绘制" : "按下鼠标右键结束绘制"]);
                        break;
                    case wt.a.ELLIPSE:
                    case wt.a.CIRCLE:
                    case wt.a.RECTANGLE:
                    case wt.a.FINE_ARROW:
                    case wt.a.ASSAULT_DIRECTION:
                        this.plotDrawTip.setContent(["当前绘制类型：" + t + "，需要2个点", "已有" + this.points.length + "个点，按下鼠标左键确定第" + (this.points.length + 1) + "个点", , "按下鼠标右键取消绘制"]);
                        break;
                    case wt.a.POLYGON:
                    case wt.a.ATTACK_ARROW:
                    case wt.a.TAILED_ATTACK_ARROW:
                    case wt.a.CLOSED_CURVE:
                        this.plotDrawTip.setContent(["当前绘制类型：" + t + "，最少需要3个点", "已有" + this.points.length + "个点，按下鼠标左键确定第" + (this.points.length + 1) + "个点", , this.points.length < 3 ? "按下鼠标右键取消绘制" : "按下鼠标右键结束绘制"]);
                        break;
                    case wt.a.GATHERING_PLACE:
                    case wt.a.SECTOR:
                        this.plotDrawTip.setContent(["当前绘制类型：" + t + "，需要3个点", "已有" + this.points.length + "个点，按下鼠标左键确定第" + (this.points.length + 1) + "个点", , "按下鼠标右键取消绘制"]);
                        break;
                    case wt.a.DOUBLE_ARROW:
                        this.plotDrawTip.setContent(["当前绘制类型：" + t + "，需要4个点", "已有" + this.points.length + "个点，按下鼠标左键确定第" + (this.points.length + 1) + "个点", , "按下鼠标右键取消绘制"])
                    }
                }
            }, {
                key: "mouseMoveEvent",
                value: function() {
                    var t = this;
                    this.handler.setInputAction(function(e) {
                        var n = t.viewer.scene.pickPosition(e.endPosition);
                        if (n || (n = t.viewer.scene.camera.pickEllipsoid(e.endPosition, t.viewer.scene.globe.ellipsoid)),
                        n && (t.plotDrawTip.updatePosition(n),
                        t.MousePoint.updatePosition(n),
                        t.plot)) {
                            var i = Object(bt.b)(n);
                            if (!(Object(It.a)(i, t.points[t.points.length - 1]) < xt.e)) {
                                var r = t.points.concat([i]);
                                t.plot.setPoints(r)
                            }
                        }
                    }, Cesium.ScreenSpaceEventType.MOUSE_MOVE)
                }
            }, {
                key: "rightClickEvent",
                value: function() {
                    var t = this;
                    this.handler.setInputAction(function(e) {
                        0 != t.points.length ? t.plot.fixPointCount ? t.points.length == t.plot.fixPointCount ? (t.plot.setPoints(t.points),
                        t.drawEnd(),
                        t.deactivate()) : (t.deactivate(),
                        t.clear()) : t.points.length >= t.plot.minPointCount ? (t.plot.setPoints(t.points),
                        t.drawEnd(),
                        t.deactivate()) : (t.deactivate(),
                        t.clear()) : t.deactivate()
                    }, Cesium.ScreenSpaceEventType.RIGHT_CLICK)
                }
            }, {
                key: "unRegisterEvents",
                value: function() {
                    this.handler.removeInputAction(Cesium.ScreenSpaceEventType.RIGHT_CLICK),
                    this.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),
                    this.handler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE),
                    this.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK)
                }
            }, {
                key: "drawEnd",
                value: function() {
                    this.plot.openEditMode(!1),
                    this.PlotDrawEndEvent.raiseEvent(this.plot, this.plotType)
                }
            }]),
            t
        }()
          , Lt = n("fyjX")
          , St = function() {
            function t(e, n) {
                B()(this, t),
                this.viewer = e,
                this.militaryPlotLayer = n,
                this.initEventHandler()
            }
            return V()(t, [{
                key: "initEventHandler",
                value: function() {
                    this.eventHandler = new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas),
                    this.PlotEditEndEvent = new Cesium.Event
                }
            }, {
                key: "activate",
                value: function() {
                    this.deactivate(),
                    this.initLeftClickEventHandler()
                }
            }, {
                key: "deactivate",
                value: function() {
                    this.eventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),
                    this.clear()
                }
            }, {
                key: "clear",
                value: function() {
                    this.clearEditVertex()
                }
            }, {
                key: "initLeftClickEventHandler",
                value: function() {
                    var t = this;
                    this.eventHandler.setInputAction(function(e) {
                        var n = t.viewer.scene.pick(e.position);
                        n && n.id && "MilitaryPlot" == n.id.plotType ? t.militaryPlot && t.militaryPlot.plotCode == n.id.plotCode || (t.handleEditMilitaryPlot(),
                        t.handlePickMilitaryPlot(n.id)) : t.handleEditMilitaryPlot()
                    }, Cesium.ScreenSpaceEventType.LEFT_CLICK)
                }
            }, {
                key: "handleEditMilitaryPlot",
                value: function() {
                    this.clear();
                    var t = this.militaryPlot;
                    t && (this.militaryPlot = void 0,
                    t.openEditMode(!1),
                    this.isEdited && (this.PlotEditEndEvent.raiseEvent(t),
                    this.isEdited = !1,
                    this.isEditing = !1))
                }
            }, {
                key: "handlePickMilitaryPlot",
                value: function(t) {
                    this.militaryPlot = this.militaryPlotLayer.getByPlotCode(t.plotCode),
                    this.militaryPlot && (this.isEditing = !1,
                    this.isEdited = !1,
                    this.militaryPlot.openEditMode(!0),
                    this.editPositions = this.plotPointsToPositions(),
                    this.EditMoveCenterPositoin = this.getMilitaryPlotCenterPosition(),
                    this.clear(),
                    this.createEditVertex(),
                    this.registerEvents())
                }
            }, {
                key: "registerEvents",
                value: function() {
                    this.initLeftDownEventHandler(),
                    this.initMouseMoveEventHandler(),
                    this.initLeftUpEventHandler()
                }
            }, {
                key: "unRegisterEvents",
                value: function() {
                    this.eventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOWN),
                    this.eventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_UP),
                    this.eventHandler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE)
                }
            }, {
                key: "initLeftDownEventHandler",
                value: function() {
                    var t = this;
                    this.eventHandler.setInputAction(function(e) {
                        var n = t.viewer.scene.pick(e.position);
                        n && n.id && n.id.type && ("MilitaryPlotEditVertex" != n.id.type && "MilitaryPlotEditMoveVertex" != n.id.type || (t.isEditing = !0,
                        t.viewer.scene.screenSpaceCameraController.enableRotate = !1,
                        t.viewer.enableCursorStyle = !1,
                        t.viewer._element.style.cursor = "",
                        document.body.style.cursor = "move",
                        t.editVertext = n.id,
                        t.editVertext.show = !1))
                    }, Cesium.ScreenSpaceEventType.LEFT_DOWN)
                }
            }, {
                key: "initLeftUpEventHandler",
                value: function() {
                    var t = this;
                    this.eventHandler.setInputAction(function(e) {
                        t.isEditing && (t.viewer.enableCursorStyle = !0,
                        document.body.style.cursor = "default",
                        t.viewer.scene.screenSpaceCameraController.enableRotate = !0,
                        t.editVertext.show = !0,
                        t.isEditing = !1)
                    }, Cesium.ScreenSpaceEventType.LEFT_UP)
                }
            }, {
                key: "initMouseMoveEventHandler",
                value: function() {
                    var t = this;
                    this.eventHandler.setInputAction(function(e) {
                        var n = t.viewer.scene.pickPosition(e.endPosition);
                        if (n || (n = t.viewer.scene.camera.pickEllipsoid(e.endPosition, t.viewer.scene.globe.ellipsoid)),
                        n && t.isEditing) {
                            if ("MilitaryPlotEditMoveVertex" == t.editVertext.type) {
                                var i = t.EditMoveCenterPositoin;
                                if (!i)
                                    return;
                                t.moveEntityByOffset(i, n)
                            } else
                                t.editPositions[t.editVertext.vertexIndex] = n,
                                t.militaryPlot.properties.plotType == wt.a.MARKER && t.militaryPlot.setHeight(t.getPositionHeight(t.editPositions[0])),
                                t.militaryPlot.setPoints(Object(bt.c)(t.editPositions));
                            t.isEdited = !0,
                            t.EditMoveCenterPositoin = t.getMilitaryPlotCenterPosition()
                        }
                    }, Cesium.ScreenSpaceEventType.MOUSE_MOVE)
                }
            }, {
                key: "getMilitaryPlotCenterPosition",
                value: function() {
                    switch (this.militaryPlot.properties.plotType) {
                    case wt.a.CIRCLE:
                    case wt.a.MARKER:
                        return this.editPositions[0]
                    }
                    var t = Lt.lineString(this.militaryPlot.getPoints())
                      , e = Lt.bbox(t)
                      , n = Lt.bboxPolygon(e)
                      , i = Lt.center(n).geometry.coordinates;
                    return Cesium.Cartesian3.fromDegrees(i[0], i[1], this.militaryPlot.getHeight())
                }
            }, {
                key: "moveEntityByOffset",
                value: function(t, e) {
                    for (var n = y(t), i = y(e), r = i.x - n.x, o = i.y - n.y, s = void 0, a = 0; a < this.editPositions.length; a++)
                        (s = y(this.editPositions[a])).x += r,
                        s.y += o,
                        this.editPositions[a] = Cesium.Cartesian3.fromDegrees(s.x, s.y, s.z);
                    this.militaryPlot.setPoints(Object(bt.c)(this.editPositions))
                }
            }, {
                key: "getPositionHeight",
                value: function(t) {
                    return Cesium.Cartographic.fromCartesian(t).height
                }
            }, {
                key: "plotPointsToPositions",
                value: function() {
                    for (var t = this.militaryPlot.getPoints(), e = this.militaryPlot.getHeight(), n = [], i = 0; i < t.length; i++) {
                        var r = t[i];
                        n.push(r[0]),
                        n.push(r[1]),
                        n.push(e)
                    }
                    return Cesium.Cartesian3.fromDegreesArrayHeights(n)
                }
            }, {
                key: "createEditVertex",
                value: function() {
                    var t = this;
                    this.vertexEntities = [];
                    var e = this.plotPointsToPositions();
                    if (this.militaryPlot.properties.plotName == wt.a.CIRCLE)
                        return this.createCircleEditVertex(),
                        void this.createEditMoveCenterEntity();
                    e.forEach(function(e, n) {
                        var i = t.viewer.entities.add({
                            position: new Cesium.CallbackProperty(function(e) {
                                return t.editPositions[n]
                            }
                            ,!1),
                            type: "MilitaryPlotEditVertex",
                            vertexIndex: n,
                            point: {
                                color: Cesium.Color.DARKBLUE.withAlpha(.4),
                                pixelSize: 10,
                                outlineColor: Cesium.Color.YELLOW.withAlpha(.4),
                                outlineWidth: 3,
                                disableDepthTestDistance: 2e3
                            }
                        });
                        t.vertexEntities.push(i)
                    }),
                    1 != this.editPositions.length && this.createEditMoveCenterEntity()
                }
            }, {
                key: "createCircleEditVertex",
                value: function() {
                    var t = this
                      , e = this.viewer.entities.add({
                        position: new Cesium.CallbackProperty(function(e) {
                            return t.editPositions[1]
                        }
                        ,!1),
                        type: "MilitaryPlotEditVertex",
                        vertexIndex: 1,
                        point: {
                            color: Cesium.Color.DARKBLUE.withAlpha(.4),
                            pixelSize: 10,
                            outlineColor: Cesium.Color.YELLOW.withAlpha(.4),
                            outlineWidth: 3,
                            disableDepthTestDistance: 2e3
                        }
                    });
                    this.vertexEntities.push(e)
                }
            }, {
                key: "createEditMoveCenterEntity",
                value: function() {
                    var t = this;
                    this.EditMoveCenterEntity = this.viewer.entities.add({
                        position: new Cesium.CallbackProperty(function(e) {
                            return t.EditMoveCenterPositoin
                        }
                        ,!1),
                        type: "MilitaryPlotEditMoveVertex",
                        point: {
                            color: Cesium.Color.RED.withAlpha(.4),
                            pixelSize: 10,
                            outlineColor: Cesium.Color.WHITE.withAlpha(.3),
                            outlineWidth: 3,
                            disableDepthTestDistance: 2e3
                        }
                    })
                }
            }, {
                key: "clearEditVertex",
                value: function() {
                    var t = this;
                    this.vertexEntities && this.vertexEntities.forEach(function(e) {
                        t.viewer.entities.remove(e)
                    }),
                    this.vertexEntities = [],
                    this.viewer.entities.remove(this.EditMoveCenterEntity)
                }
            }]),
            t
        }()
          , Nt = {
            components: {
                SymbolItem: ut,
                DeployItem: ht,
                DeployEdit: dt
            },
            data: function() {
                return {
                    selectedPlot: void 0,
                    deployList: [],
                    clickItemCode: "",
                    symbolList: [{
                        name: "circle",
                        label: "正圆",
                        img: "../../../static/images/plotSymbols/circle.jpg"
                    }, {
                        name: "rectangle",
                        label: "矩形",
                        img: "../../../static/images/plotSymbols/rectangle.jpg"
                    }, {
                        name: "sector",
                        label: "扇形",
                        img: "../../../static/images/plotSymbols/sector.jpg"
                    }, {
                        name: "ellipse",
                        label: "椭圆",
                        img: "../../../static/images/plotSymbols/ellipse.jpg"
                    }, {
                        name: "polygon",
                        label: "多边形",
                        img: "../../../static/images/plotSymbols/polygon.jpg"
                    }, {
                        name: "assaultdirection",
                        label: "突击方向",
                        img: "../../../static/images/plotSymbols/assaultdirection.jpg"
                    }, {
                        name: "finearrow",
                        label: "细箭头",
                        img: "../../../static/images/plotSymbols/finearrow.jpg"
                    }, {
                        name: "attackarrow",
                        label: "进攻方向",
                        img: "../../../static/images/plotSymbols/attackarrow.jpg"
                    }, {
                        name: "tailedattackarrow",
                        label: "进攻方向尾",
                        img: "../../../static/images/plotSymbols/tailedattackarrow.jpg"
                    }, {
                        name: "gatheringplace",
                        label: "集结地",
                        img: "../../../static/images/plotSymbols/gatheringplace.jpg"
                    }, {
                        name: "closedcurve",
                        label: "曲线面",
                        img: "../../../static/images/plotSymbols/closedcurve.jpg"
                    }, {
                        name: "doublearrow",
                        label: "钳击",
                        img: "../../../static/images/plotSymbols/doublearrow.jpg"
                    }, {
                        name: "squadcombat",
                        label: "分队作战",
                        img: "../../../static/images/plotSymbols/squadcombat.jpg"
                    }, {
                        name: "tailedsquadcombat",
                        label: "分队作战尾",
                        img: "../../../static/images/plotSymbols/tailedsquadcombat.jpg"
                    }]
                }
            },
            mounted: function() {
                this.deployList = b.plotLayer.plots,
                b.plotLayer.setPlotSelectable(!0),
                this.plotDraw = new Pt(b.viewer),
                this.plotDraw.PlotDrawEndEvent.addEventListener(function(t, e) {
                    t.remove(),
                    b.addPlot(t.toGeoJson())
                }),
                b.plotLayer.selectedPlotChanged.addEventListener(this.selectedPlotChangedEvent, this),
                this.militaryEdit = new St(b.viewer,b.plotLayer),
                this.militaryEdit.activate()
            },
            beforeDestroy: function() {
                b.plotLayer.clearSelectedPlot(),
                b.plotLayer.setPlotSelectable(!1),
                this.militaryEdit.deactivate(),
                this.militaryEdit = void 0,
                this.plotDraw.deactivate(),
                this.plotDraw = void 0
            },
            methods: {
                clickEvent: function(t) {
                    this.plotDraw.activate(t.name)
                },
                delClickEvent: function(t) {
                    this.SmMessageBox.confirm("删除提示", "确定从列表中删除此项？").then(function(e) {
                        b.plotLayer.removeByPlotCode(t)
                    }).catch(function(t) {})
                },
                locationClickEvent: function(t) {
                    b.plotLayer.flyToByPlotCode(t)
                },
                selectedPlotChangedEvent: function(t) {
                    if (this.selectedPlot = t,
                    this.clickItemCode = t ? t.properties.plotCode : "",
                    this.clickItemCode) {
                        var e = "deploy-item-" + this.clickItemCode
                          , n = document.getElementById(e).offsetTop - 77;
                        this.$refs.deployList.scroll({
                            top: n,
                            behavior: "smooth"
                        })
                    }
                }
            }
        }
          , Mt = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "edit-feature-wrapp"
                }, [n("div", {
                    staticClass: "edit-panel"
                }, [t._m(0), t._v(" "), n("div", {
                    staticClass: "edit-panel-body"
                }, [n("div", {
                    staticClass: "plot-container"
                }, [n("div", {
                    staticClass: "plot-header"
                }, [t._v("标号资源")]), t._v(" "), n("div", {
                    staticClass: "plot-list"
                }, t._l(t.symbolList, function(e) {
                    return n("SymbolItem", {
                        key: e.name,
                        attrs: {
                            symbolData: e
                        },
                        on: {
                            clickEvent: t.clickEvent
                        }
                    })
                }), 1)]), t._v(" "), n("div", {
                    staticClass: "deploy-container"
                }, [n("div", {
                    staticClass: "deploy-header"
                }, [t._v("已部署标号列表")]), t._v(" "), n("div", {
                    ref: "deployList",
                    staticClass: "plot-depoly-list"
                }, t._l(t.deployList, function(e) {
                    return n("DeployItem", {
                        key: e.properties.plotCode,
                        attrs: {
                            properties: e.properties,
                            clickItemCode: t.clickItemCode
                        },
                        on: {
                            "update:clickItemCode": function(e) {
                                t.clickItemCode = e
                            },
                            "update:click-item-code": function(e) {
                                t.clickItemCode = e
                            },
                            delClick: t.delClickEvent,
                            locationClick: t.locationClickEvent
                        }
                    })
                }), 1)])])]), t._v(" "), void 0 != t.selectedPlot ? n("DeployEdit", {
                    attrs: {
                        plot: t.selectedPlot
                    }
                }) : t._e()], 1)
            },
            staticRenderFns: [function() {
                var t = this.$createElement
                  , e = this._self._c || t;
                return e("div", {
                    staticClass: "edit-panel-header"
                }, [e("span", {
                    staticClass: "edit-panel-header-title"
                }, [this._v("标绘部署")])])
            }
            ]
        };
        var Tt = n("VU/8")(Nt, Mt, !1, function(t) {
            n("XGln")
        }, "data-v-35e6e976", null).exports
          , Ot = {
            props: {
                symbolData: {
                    type: Object
                }
            },
            mounted: function() {
                b.viewer.canvas.ondragover = function(t) {
                    t.preventDefault()
                }
                ,
                b.viewer.canvas.ondrop = function(t) {
                    t.preventDefault();
                    var e = JSON.parse(t.dataTransfer.getData("labelData"))
                      , n = new Cesium.Cartesian2(t.offsetX,t.offsetY)
                      , i = b.viewer.scene.pickPosition(n);
                    b.addLabel(i, e)
                }
            },
            beforeDestroy: function() {
                b.viewer.canvas.ondragover = void 0,
                b.viewer.canvas.ondrop = void 0
            },
            methods: {
                dragStartEvent: function(t) {
                    t.dataTransfer.setData("labelData", h()(this.symbolData))
                }
            }
        }
          , At = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "label-symbol-item",
                    on: {
                        dragstart: function(e) {
                            return t.dragStartEvent(e)
                        }
                    }
                }, [n("img", {
                    staticClass: "label-symbol-img",
                    attrs: {
                        src: t.symbolData.img
                    }
                }), t._v(" "), n("div", {
                    staticClass: "label-symbol-label"
                }, [t._v(t._s(t.symbolData.label))])])
            },
            staticRenderFns: []
        };
        var Dt = n("VU/8")(Ot, At, !1, function(t) {
            n("MtvG")
        }, "data-v-ecd6edf8", null).exports
          , Rt = {
            props: {
                clickItemCode: "",
                properties: {
                    type: Object
                }
            },
            data: function() {
                return {
                    getFocus: !1
                }
            },
            methods: {
                itemClick: function() {
                    this.$emit("update:clickItemCode", this.properties.plotCode)
                },
                delClick: function() {
                    this.$emit("delClick", this.properties.plotCode)
                },
                locationClick: function() {
                    this.$emit("locationClick", this.properties.plotCode)
                }
            }
        }
          , kt = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "deploy-item",
                    class: {
                        "deplooy-item-click": t.clickItemCode == t.properties.plotCode
                    },
                    attrs: {
                        id: "deploy-item-" + t.properties.plotCode
                    },
                    on: {
                        click: t.itemClick,
                        mouseenter: function(e) {
                            t.getFocus = !0
                        },
                        mouseleave: function(e) {
                            t.getFocus = !1
                        }
                    }
                }, [n("img", {
                    staticClass: "deploy-img",
                    attrs: {
                        src: t.properties.attr.img
                    }
                }), t._v(" "), n("div", {
                    staticClass: "deploy-info"
                }, [n("div", {
                    staticClass: "deploy-name"
                }, [t._v(t._s(t.properties.attr.name))]), t._v(" "), n("div", {
                    staticClass: "deploy-label"
                }, [t._v(t._s(t.properties.attr.label))])]), t._v(" "), t.getFocus ? n("div", {
                    staticClass: "deploy-action"
                }, [n("el-button", {
                    attrs: {
                        type: "success",
                        icon: "el-icon-location",
                        circle: ""
                    },
                    on: {
                        click: t.locationClick
                    }
                }), t._v(" "), n("el-button", {
                    attrs: {
                        type: "danger",
                        icon: "el-icon-delete",
                        circle: ""
                    },
                    on: {
                        click: t.delClick
                    }
                })], 1) : t._e()])
            },
            staticRenderFns: []
        }
          , Ft = n("VU/8")(Rt, kt, !1, null, null, null).exports
          , Gt = {
            props: {
                plot: {
                    type: Object
                }
            },
            methods: {
                updateLabel: function(t) {
                    this.plot.updateLabel(t)
                }
            }
        }
          , Bt = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "attr-panel"
                }, [t._m(0), t._v(" "), n("div", {
                    staticClass: "attr-panel-body"
                }, [n("el-form", {
                    ref: "form",
                    attrs: {
                        model: t.plot,
                        "label-width": "80px",
                        size: "mini"
                    }
                }, [n("el-form-item", {
                    attrs: {
                        label: "标绘内容"
                    }
                }, [n("el-input", {
                    on: {
                        input: t.updateLabel
                    },
                    model: {
                        value: t.plot.properties.attr.label,
                        callback: function(e) {
                            t.$set(t.plot.properties.attr, "label", e)
                        },
                        expression: "plot.properties.attr.label"
                    }
                })], 1), t._v(" "), n("el-form-item", {
                    attrs: {
                        label: "备注信息"
                    }
                }, [n("el-input", {
                    model: {
                        value: t.plot.properties.attr.remark,
                        callback: function(e) {
                            t.$set(t.plot.properties.attr, "remark", e)
                        },
                        expression: "plot.properties.attr.remark"
                    }
                })], 1)], 1)], 1)])
            },
            staticRenderFns: [function() {
                var t = this.$createElement
                  , e = this._self._c || t;
                return e("div", {
                    staticClass: "attr-panel-header"
                }, [e("span", {
                    staticClass: "attr-panel-header-title"
                }, [this._v("标注信息")])])
            }
            ]
        }
          , qt = n("VU/8")(Gt, Bt, !1, null, null, null).exports
          , Vt = function() {
            function t(e, n) {
                B()(this, t),
                this.viewer = e,
                this.htmlPlotLayer = n,
                this.registerMouseEvents()
            }
            return V()(t, [{
                key: "registerMouseEvents",
                value: function() {
                    this.eventHandler = new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas),
                    this.initLeftDownEventHandler(),
                    this.initMouseMoveEventHandler(),
                    this.initLeftUpEventHandler()
                }
            }, {
                key: "unRegisterMouseEvents",
                value: function() {
                    this.eventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOWN),
                    this.eventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_UP),
                    this.eventHandler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE)
                }
            }, {
                key: "destroy",
                value: function() {
                    this.unRegisterMouseEvents(),
                    this.viewer = void 0,
                    this.htmlPlotLayer = void 0,
                    this.eventHandler = void 0
                }
            }, {
                key: "initLeftDownEventHandler",
                value: function() {
                    var t = this;
                    this.eventHandler.setInputAction(function(e) {
                        if (t.htmlPlotLayer.selectedPlot) {
                            var n = t.viewer.scene.pick(e.position);
                            n && n.id && "HtmlPlot" === n.id.type && t.htmlPlotLayer.selectedPlot.properties.plotCode == n.id.plotCode && (t.viewer.enableCursorStyle = !1,
                            document.body.style.cursor = "move",
                            t.moveing = !0,
                            t.mousePoint = new U(t.viewer),
                            t.viewer.scene.screenSpaceCameraController.enableRotate = !1)
                        }
                    }, Cesium.ScreenSpaceEventType.LEFT_DOWN)
                }
            }, {
                key: "initLeftUpEventHandler",
                value: function() {
                    var t = this;
                    this.eventHandler.setInputAction(function(e) {
                        t.moveing && (t.viewer.enableCursorStyle = !0,
                        document.body.style.cursor = "default",
                        t.moveing = !1,
                        t.viewer.scene.screenSpaceCameraController.enableRotate = !0,
                        t.mousePoint.remove(),
                        t.mousePoint = void 0)
                    }, Cesium.ScreenSpaceEventType.LEFT_UP)
                }
            }, {
                key: "initMouseMoveEventHandler",
                value: function() {
                    var t = this;
                    this.eventHandler.setInputAction(function(e) {
                        if (t.moveing) {
                            var n = t.viewer.scene.pickPosition(e.endPosition);
                            n && (t.mousePoint.updatePosition(n),
                            t.htmlPlotLayer.selectedPlot.updatePosition(n))
                        }
                    }, Cesium.ScreenSpaceEventType.MOUSE_MOVE)
                }
            }]),
            t
        }()
          , Ut = {
            components: {
                SymbolItem: Dt,
                DeployItem: Ft,
                DeployEdit: qt
            },
            data: function() {
                return {
                    deployList: [],
                    clickItemCode: "",
                    selectedPlot: void 0,
                    symbolList: [{
                        name: "simplelabel",
                        label: "简单文本标注",
                        img: "../../../static/images/labelSymbols/simple.jpg"
                    }, {
                        name: "gradientslabel",
                        label: "渐变文本标注",
                        img: "../../../static/images/labelSymbols/gradients.jpg"
                    }, {
                        name: "locationlabel",
                        label: "位置信息标注",
                        img: "../../../static/images/labelSymbols/location.jpg"
                    }]
                }
            },
            mounted: function() {
                this.deployList = b.labelLayer.plots,
                b.labelLayer.setPlotSelectable(!0),
                this.htmlPlotEdit = new Vt(b.viewer,b.labelLayer),
                b.labelLayer.selectedPlotChanged.addEventListener(this.selectedPlotChangedEvent, this)
            },
            beforeDestroy: function() {
                b.labelLayer.clearSelectedPlot(),
                b.labelLayer.setPlotSelectable(!1),
                b.labelLayer.selectedPlotChanged.removeEventListener(this.selectedPlotChangedEvent, this)
            },
            methods: {
                clickEvent: function(t) {},
                delClickEvent: function(t) {
                    this.SmMessageBox.confirm("删除提示", "确定从列表中删除此项？").then(function(e) {
                        b.labelLayer.removeByPlotCode(t)
                    }).catch(function(t) {})
                },
                locationClickEvent: function(t) {
                    b.labelLayer.flyToByPlotCode(t)
                },
                selectedPlotChangedEvent: function(t) {
                    if (this.selectedPlot = t,
                    this.clickItemCode = t ? t.properties.plotCode : "",
                    this.clickItemCode) {
                        var e = "deploy-item-" + this.clickItemCode
                          , n = document.getElementById(e).offsetTop - 77;
                        this.$refs.deployList.scroll({
                            top: n,
                            behavior: "smooth"
                        })
                    }
                }
            }
        }
          , jt = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "edit-feature-wrapp"
                }, [n("div", {
                    staticClass: "edit-panel"
                }, [t._m(0), t._v(" "), n("div", {
                    staticClass: "edit-panel-body"
                }, [n("div", {
                    staticClass: "label-container"
                }, [n("div", {
                    staticClass: "label-header"
                }, [t._v("标注资源")]), t._v(" "), n("div", {
                    staticClass: "label-list"
                }, t._l(t.symbolList, function(e) {
                    return n("SymbolItem", {
                        key: e.name,
                        attrs: {
                            symbolData: e
                        },
                        on: {
                            clickEvent: t.clickEvent
                        }
                    })
                }), 1)]), t._v(" "), n("div", {
                    staticClass: "deploy-container"
                }, [n("div", {
                    staticClass: "deploy-header"
                }, [t._v("已部署标注列表")]), t._v(" "), n("div", {
                    ref: "deployList",
                    staticClass: "label-depoly-list"
                }, t._l(t.deployList, function(e) {
                    return n("DeployItem", {
                        key: e.num,
                        attrs: {
                            properties: e.properties,
                            clickItemCode: t.clickItemCode
                        },
                        on: {
                            "update:clickItemCode": function(e) {
                                t.clickItemCode = e
                            },
                            "update:click-item-code": function(e) {
                                t.clickItemCode = e
                            },
                            delClick: t.delClickEvent,
                            locationClick: t.locationClickEvent
                        }
                    })
                }), 1)])])]), t._v(" "), void 0 != t.selectedPlot ? n("DeployEdit", {
                    attrs: {
                        plot: t.selectedPlot
                    }
                }) : t._e()], 1)
            },
            staticRenderFns: [function() {
                var t = this.$createElement
                  , e = this._self._c || t;
                return e("div", {
                    staticClass: "edit-panel-header"
                }, [e("span", {
                    staticClass: "edit-panel-header-title"
                }, [this._v("标注部署")])])
            }
            ]
        };
        var zt = n("VU/8")(Ut, jt, !1, function(t) {
            n("azFC")
        }, "data-v-10fdb316", null).exports
          , Yt = {
            props: {
                symbolData: {
                    type: Object
                }
            },
            methods: {
                clickEvent: function() {
                    this.$emit("clickEvent", this.symbolData.name)
                }
            }
        }
          , Ht = {
            render: function() {
                var t = this.$createElement
                  , e = this._self._c || t;
                return e("div", {
                    staticClass: "plot-symbol-item",
                    on: {
                        click: this.clickEvent
                    }
                }, [e("img", {
                    staticClass: "plot-symbol-img",
                    attrs: {
                        src: this.symbolData.img
                    }
                }), this._v(" "), e("div", {
                    staticClass: "plot-symbol-label"
                }, [this._v(this._s(this.symbolData.label))])])
            },
            staticRenderFns: []
        };
        var Xt = n("VU/8")(Yt, Ht, !1, function(t) {
            n("AC/S")
        }, "data-v-f8d630ec", null).exports
          , Wt = {
            props: {
                clickItemCode: "",
                properties: {
                    type: Object
                }
            },
            computed: {
                imgUrl: function() {
                    return "../../../static/images/cordonSymbols/" + this.properties.plotType + ".gif"
                }
            },
            data: function() {
                return {
                    getFocus: !1
                }
            },
            methods: {
                itemClick: function() {
                    this.$emit("update:clickItemCode", this.properties.plotCode)
                },
                delClick: function() {
                    this.$emit("delClick", this.properties.plotCode)
                },
                locationClick: function() {
                    this.$emit("locationClick", this.properties.plotCode)
                }
            }
        }
          , $t = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "deploy-item",
                    class: {
                        "deplooy-item-click": t.clickItemCode == t.properties.plotCode
                    },
                    attrs: {
                        id: "deploy-item-" + t.properties.plotCode
                    },
                    on: {
                        click: t.itemClick,
                        mouseenter: function(e) {
                            t.getFocus = !0
                        },
                        mouseleave: function(e) {
                            t.getFocus = !1
                        }
                    }
                }, [n("img", {
                    staticClass: "deploy-img",
                    attrs: {
                        src: t.imgUrl
                    }
                }), t._v(" "), n("div", {
                    staticClass: "deploy-info"
                }, [n("div", {
                    staticClass: "deploy-name"
                }, [t._v(t._s(t.properties.plotName))]), t._v(" "), n("div", {
                    staticClass: "deploy-label"
                }, [t._v(t._s(t.properties.attr.label))])]), t._v(" "), t.getFocus ? n("div", {
                    staticClass: "deploy-action"
                }, [n("el-button", {
                    attrs: {
                        type: "success",
                        icon: "el-icon-location",
                        circle: ""
                    },
                    on: {
                        click: t.locationClick
                    }
                }), t._v(" "), n("el-button", {
                    attrs: {
                        type: "danger",
                        icon: "el-icon-delete",
                        circle: ""
                    },
                    on: {
                        click: t.delClick
                    }
                })], 1) : t._e()])
            },
            staticRenderFns: []
        }
          , Kt = n("VU/8")(Wt, $t, !1, null, null, null).exports
          , Zt = {
            props: {
                plot: {
                    type: Object
                }
            },
            methods: {
                styleChange: function() {
                    this.plot.updateStyle()
                }
            }
        }
          , Qt = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "attr-panel"
                }, [t._m(0), t._v(" "), n("div", {
                    staticClass: "attr-panel-body"
                }, [n("el-form", {
                    ref: "form",
                    attrs: {
                        model: t.plot,
                        "label-width": "90px",
                        size: "mini"
                    }
                }, [n("el-form-item", {
                    attrs: {
                        label: "警戒区类型"
                    }
                }, [n("el-input", {
                    attrs: {
                        readonly: ""
                    },
                    model: {
                        value: t.plot.properties.plotName,
                        callback: function(e) {
                            t.$set(t.plot.properties, "plotName", e)
                        },
                        expression: "plot.properties.plotName"
                    }
                })], 1), t._v(" "), n("el-form-item", {
                    attrs: {
                        label: "警戒区说明"
                    }
                }, [n("el-input", {
                    attrs: {
                        type: "textarea"
                    },
                    model: {
                        value: t.plot.properties.attr.label,
                        callback: function(e) {
                            t.$set(t.plot.properties.attr, "label", e)
                        },
                        expression: "plot.properties.attr.label"
                    }
                })], 1), t._v(" "), n("el-form-item", {
                    attrs: {
                        label: "警戒区备注"
                    }
                }, [n("el-input", {
                    attrs: {
                        type: "textarea"
                    },
                    model: {
                        value: t.plot.properties.attr.remark,
                        callback: function(e) {
                            t.$set(t.plot.properties.attr, "remark", e)
                        },
                        expression: "plot.properties.attr.remark"
                    }
                })], 1), t._v(" "), n("el-form-item", {
                    attrs: {
                        label: "颜色"
                    }
                }, [n("el-color-picker", {
                    on: {
                        change: t.styleChange
                    },
                    model: {
                        value: t.plot.properties.style.wallColor,
                        callback: function(e) {
                            t.$set(t.plot.properties.style, "wallColor", e)
                        },
                        expression: "plot.properties.style.wallColor"
                    }
                })], 1), t._v(" "), n("el-form-item", {
                    attrs: {
                        label: "高度"
                    }
                }, [n("el-input-number", {
                    attrs: {
                        min: 1,
                        max: 200
                    },
                    on: {
                        change: t.styleChange
                    },
                    model: {
                        value: t.plot.properties.style.wallHeight,
                        callback: function(e) {
                            t.$set(t.plot.properties.style, "wallHeight", e)
                        },
                        expression: "plot.properties.style.wallHeight"
                    }
                })], 1)], 1)], 1)])
            },
            staticRenderFns: [function() {
                var t = this.$createElement
                  , e = this._self._c || t;
                return e("div", {
                    staticClass: "attr-panel-header"
                }, [e("span", {
                    staticClass: "attr-panel-header-title"
                }, [this._v("警戒区信息")])])
            }
            ]
        }
          , Jt = n("VU/8")(Zt, Qt, !1, null, null, null).exports
          , te = n("GeKq")
          , ee = n("SWVK")
          , ne = function() {
            function t(e) {
                B()(this, t),
                this.viewer = e,
                this.viewer.cesiumWidget.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),
                this.initEvents()
            }
            return V()(t, [{
                key: "activate",
                value: function(t) {
                    this.deactivate(),
                    this.clear(),
                    this.plotType = t,
                    this.positions = [],
                    this.plotDrawTip = new Et(this.viewer),
                    this.MousePoint = new U(this.viewer),
                    this.registerEvents(),
                    this.viewer.enableCursorStyle = !1,
                    this.viewer._element.style.cursor = "default",
                    this.initTip()
                }
            }, {
                key: "initTip",
                value: function() {
                    switch (this.plotType) {
                    case ee.a.MARKER:
                        this.plotDrawTip.setContent(["当前绘制类型：点，需要1个点", "按下鼠标左键确定位置", "按下鼠标右键取消绘制"]);
                        break;
                    case ee.a.POLYLINE:
                        this.plotDrawTip.setContent(["当前绘制类型：线，最少需要2个点", "按下鼠标左键确定第1个点", "按下鼠标右键取消绘制"]);
                        break;
                    case ee.a.POLYGON:
                        this.plotDrawTip.setContent(["当前绘制类型：面，最少需要3个点", "按下鼠标左键确定第1个点", "按下鼠标右键取消绘制"]);
                        break;
                    case ee.a.CIRCLE:
                        this.plotDrawTip.setContent(["当前绘制类型：圆，需要2个点", "按下鼠标左键确定第1个点", "按下鼠标右键取消绘制"]);
                        break;
                    case ee.a.RECTANGLE:
                        this.plotDrawTip.setContent(["当前绘制类型：矩形，需要2个点", "按下鼠标左键确定第1个点", "按下鼠标右键取消绘制"]);
                        break;
                    case ee.a.DYNAMICFENCE:
                        this.plotDrawTip.setContent(["当前绘制类型：动态围栏，最少需要2个点", "按下鼠标左键确定第1个点", "按下鼠标右键取消绘制"]);
                        break;
                    case ee.a.ANIMATEWALL1:
                        this.plotDrawTip.setContent(["当前绘制类型：动态墙体1，最少需要2个点", "按下鼠标左键确定第1个点", "按下鼠标右键取消绘制"]);
                        break;
                    case ee.a.ANIMATEWALL2:
                        this.plotDrawTip.setContent(["当前绘制类型：动态墙体2，最少需要2个点", "按下鼠标左键确定第1个点", "按下鼠标右键取消绘制"])
                    }
                }
            }, {
                key: "deactivate",
                value: function() {
                    this.unRegisterEvents(),
                    this.plotType = void 0,
                    this.viewer._element.style.cursor = "pointer",
                    this.viewer.enableCursorStyle = !0,
                    this.plotDrawTip && (this.plotDrawTip.remove(),
                    this.MousePoint.remove(),
                    this.plotDrawTip = void 0,
                    this.MousePoint = void 0)
                }
            }, {
                key: "clear",
                value: function() {
                    this.plot && (this.plot.remove(),
                    this.plot = void 0)
                }
            }, {
                key: "generatePlot",
                value: function(t) {
                    var e = g()
                      , n = [];
                    t.forEach(function(t) {
                        var e = Cesium.Cartographic.fromCartesian(t)
                          , i = [Cesium.Math.toDegrees(e.longitude), Cesium.Math.toDegrees(e.latitude), e.height];
                        n.push(i)
                    });
                    var i = {
                        type: "Feature",
                        properties: {
                            plotCode: e,
                            style: {}
                        },
                        geometry: {
                            type: "LineString",
                            coordinates: n
                        }
                    };
                    this.plot = te.a.createPlot(this.viewer, this.plotType, i),
                    this.plot.openEditMode(!0)
                }
            }, {
                key: "initEvents",
                value: function() {
                    this.handler = new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas),
                    this.PlotDrawStartEvent = new Cesium.Event,
                    this.PlotDrawEndEvent = new Cesium.Event
                }
            }, {
                key: "registerEvents",
                value: function() {
                    this.leftClickEvent(),
                    this.rightClickEvent(),
                    this.mouseMoveEvent()
                }
            }, {
                key: "leftClickEvent",
                value: function() {
                    var t = this;
                    this.handler.setInputAction(function(e) {
                        t.viewer._element.style.cursor = "default";
                        var n = t.viewer.scene.pickPosition(e.position);
                        n && (t.positions.push(n),
                        1 == t.positions.length ? t.generatePlot(t.positions) : t.plot.setPositions(t.positions),
                        t.setTipContent(),
                        t.plot.fixPositionCount == t.positions.length && (t.drawEnd(),
                        t.deactivate()))
                    }, Cesium.ScreenSpaceEventType.LEFT_CLICK)
                }
            }, {
                key: "setTipContent",
                value: function() {
                    switch (this.plotType) {
                    case ee.a.POLYLINE:
                        this.plotDrawTip.setContent(["当前绘制类型：Polyline，最少需要2个点。", "已有" + this.positions.length + "个点，按下鼠标左键确定第" + (this.positions.length + 1) + "个点", this.positions.length < 2 ? "按下鼠标右键取消绘制" : "按下鼠标右键结束绘制"]);
                        break;
                    case ee.a.POLYGON:
                        this.plotDrawTip.setContent(["当前绘制类型：Polygon，最少需要3个点。", "已有" + this.positions.length + "个点，按下鼠标左键确定第" + (this.positions.length + 1) + "个点", this.positions.length < 3 ? "按下鼠标右键取消绘制" : "按下鼠标右键结束绘制"]);
                        break;
                    case ee.a.CIRCLE:
                        this.plotDrawTip.setContent(["当前绘制类型：Circle，需要2个点。", "已有" + this.positions.length + "个点，按下鼠标左键确定第" + (this.positions.length + 1) + "个点", "按下鼠标右键取消绘制"]);
                        break;
                    case ee.a.RECTANGLE:
                        this.plotDrawTip.setContent(["当前绘制类型：Rectangle，需要2个点。", "已有" + this.positions.length + "个点，按下鼠标左键确定第" + (this.positions.length + 1) + "个点", "按下鼠标右键取消绘制"]);
                        break;
                    case ee.a.ANIMATEWALL1:
                        this.plotDrawTip.setContent(["当前绘制类型：动态墙体1，最少需要2个点。", "已有" + this.positions.length + "个点，按下鼠标左键确定第" + (this.positions.length + 1) + "个点", this.positions.length < 2 ? "按下鼠标右键取消绘制" : "按下鼠标右键结束绘制"]);
                        break;
                    case ee.a.ANIMATEWALL2:
                    case ee.a.POLYLINEVOLUME:
                        this.plotDrawTip.setContent(["当前绘制类型：动态墙体2，最少需要2个点。", "已有" + this.positions.length + "个点，按下鼠标左键确定第" + (this.positions.length + 1) + "个点", this.positions.length < 2 ? "按下鼠标右键取消绘制" : "按下鼠标右键结束绘制"])
                    }
                }
            }, {
                key: "mouseMoveEvent",
                value: function() {
                    var t = this;
                    this.handler.setInputAction(function(e) {
                        t.viewer._element.style.cursor = "default";
                        var n = t.viewer.scene.pickPosition(e.endPosition);
                        if (n && (t.plotDrawTip.updatePosition(n),
                        t.MousePoint.updatePosition(n),
                        t.plot)) {
                            var i = t.positions.concat([n]);
                            t.plot.setPositions(i)
                        }
                    }, Cesium.ScreenSpaceEventType.MOUSE_MOVE)
                }
            }, {
                key: "rightClickEvent",
                value: function() {
                    var t = this;
                    this.handler.setInputAction(function(e) {
                        0 != t.positions.length ? t.plot.fixPositionCount ? t.positions.length == t.plot.fixPositionCount ? (t.plot.setPositions(t.positions),
                        t.drawEnd(),
                        t.deactivate()) : (t.deactivate(),
                        t.clear()) : t.positions.length >= t.plot.minPositionCount ? (t.plot.setPositions(t.positions),
                        t.drawEnd(),
                        t.deactivate()) : (t.deactivate(),
                        t.clear()) : t.deactivate()
                    }, Cesium.ScreenSpaceEventType.RIGHT_CLICK)
                }
            }, {
                key: "unRegisterEvents",
                value: function() {
                    this.handler.removeInputAction(Cesium.ScreenSpaceEventType.RIGHT_CLICK),
                    this.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),
                    this.handler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE),
                    this.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK)
                }
            }, {
                key: "drawEnd",
                value: function() {
                    this.plot.openEditMode(!1),
                    this.PlotDrawEndEvent.raiseEvent(this.plot, this.plotType)
                }
            }]),
            t
        }()
          , ie = function() {
            function t(e, n) {
                B()(this, t),
                this.viewer = e,
                this.geoPlotLayer = n,
                this.initEventHandler()
            }
            return V()(t, [{
                key: "initEventHandler",
                value: function() {
                    this.eventHandler = new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas)
                }
            }, {
                key: "activate",
                value: function() {
                    this.deactivate(),
                    this.initLeftClickEventHandler()
                }
            }, {
                key: "deactivate",
                value: function() {
                    this.eventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),
                    this.unRegisterEvents(),
                    this.clear()
                }
            }, {
                key: "clear",
                value: function() {
                    this.editGeoPlot && this.editGeoPlot.openEditMode(!0),
                    this.clearEditVertex(),
                    this.clearMidVertex()
                }
            }, {
                key: "initLeftClickEventHandler",
                value: function() {
                    var t = this;
                    this.eventHandler.setInputAction(function(e) {
                        var n = t.viewer.scene.pick(e.position);
                        n ? n.id && "GeoPlot" == n.id.plotType ? t.editGeoPlot && t.editGeoPlot.plotCode == n.id.plotCode || (t.handleEditGeoPlot(),
                        t.handlePickGeoPlot(n.id)) : t.clear() : t.handleEditGeoPlot()
                    }, Cesium.ScreenSpaceEventType.LEFT_CLICK)
                }
            }, {
                key: "handleEditGeoPlot",
                value: function() {
                    this.clear();
                    this.editGeoPlot;
                    this.editGeoPlot = void 0,
                    this.isEdited && (this.isEdited = !1,
                    this.isEditing = !1)
                }
            }, {
                key: "handlePickGeoPlot",
                value: function(t) {
                    this.editGeoPlot = this.geoPlotLayer.getByPlotCode(t.plotCode),
                    this.editGeoPlot && (this.isEditing = !1,
                    this.isEdited = !1,
                    this.editGeoPlot.openEditMode(!0),
                    this.editPositions = this.editGeoPlot.getPositions(),
                    this.EditMoveCenterPositoin = this.getGeoPlotCenterPosition(),
                    this.clear(),
                    this.createEditVertex(),
                    this.createMidVertex(),
                    this.registerEvents())
                }
            }, {
                key: "registerEvents",
                value: function() {
                    this.initLeftDownEventHandler(),
                    this.initMouseMoveEventHandler(),
                    this.initLeftUpEventHandler()
                }
            }, {
                key: "unRegisterEvents",
                value: function() {
                    this.eventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOWN),
                    this.eventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_UP),
                    this.eventHandler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE)
                }
            }, {
                key: "initLeftDownEventHandler",
                value: function() {
                    var t = this;
                    this.eventHandler.setInputAction(function(e) {
                        var n = t.viewer.scene.pick(e.position);
                        n && n.id && n.id.type && ("GeoPlotEditVertex" == n.id.type || "GeoPlotEditMove" == n.id.type ? (t.isEditing = !0,
                        t.viewer.scene.screenSpaceCameraController.enableRotate = !1,
                        t.viewer.enableCursorStyle = !1,
                        t.viewer._element.style.cursor = "",
                        document.body.style.cursor = "move",
                        t.editVertext = n.id,
                        t.editVertext.show = !1,
                        t.clearMidVertex()) : "GeoPlotEditMidVertex" == n.id.type && (t.editPositions.splice(n.id.vertexIndex, 0, n.id.position._value),
                        t.editGeoPlot.setPositions(t.editPositions),
                        t.clear(),
                        t.createEditVertex(),
                        t.createMidVertex(),
                        t.isEdited = !0))
                    }, Cesium.ScreenSpaceEventType.LEFT_DOWN)
                }
            }, {
                key: "initLeftUpEventHandler",
                value: function() {
                    var t = this;
                    this.eventHandler.setInputAction(function(e) {
                        t.isEditing && (t.viewer.enableCursorStyle = !0,
                        document.body.style.cursor = "default",
                        t.viewer.scene.screenSpaceCameraController.enableRotate = !0,
                        t.editVertext.show = !0,
                        t.isEditing = !1,
                        t.clearMidVertex(),
                        t.createMidVertex(),
                        "FencePlot" == t.editGeoPlot.PlotType && t.editGeoPlot.initHeights())
                    }, Cesium.ScreenSpaceEventType.LEFT_UP)
                }
            }, {
                key: "initMouseMoveEventHandler",
                value: function() {
                    var t = this;
                    this.eventHandler.setInputAction(function(e) {
                        var n = t.viewer.scene.pickPosition(e.endPosition);
                        if (n && t.isEditing) {
                            if ("GeoPlotEditMove" == t.editVertext.type) {
                                var i = t.EditMoveCenterPositoin;
                                if (!i)
                                    return;
                                t.moveEntityByOffset(i, n)
                            } else
                                t.editPositions[t.editVertext.vertexIndex] = n,
                                t.editGeoPlot.setPositions(t.editPositions);
                            t.isEdited = !0,
                            t.EditMoveCenterPositoin = t.getGeoPlotCenterPosition()
                        }
                    }, Cesium.ScreenSpaceEventType.MOUSE_MOVE)
                }
            }, {
                key: "getGeoPlotCenterPosition",
                value: function() {
                    var t = []
                      , e = 0;
                    switch (this.editGeoPlot.properties.plotName) {
                    case ee.a.CIRCLE:
                    case ee.a.MARKER:
                        return this.editPositions[0]
                    }
                    this.editPositions.forEach(function(n) {
                        var i = y(n);
                        t.push([i.x, i.y]),
                        e < i.z && (e = i.z)
                    });
                    var n = Lt.lineString(t)
                      , i = Lt.bbox(n)
                      , r = Lt.bboxPolygon(i)
                      , o = Lt.center(r).geometry.coordinates;
                    return Cesium.Cartesian3.fromDegrees(o[0], o[1], e)
                }
            }, {
                key: "moveEntityByOffset",
                value: function(t, e) {
                    for (var n = y(t), i = y(e), r = i.x - n.x, o = i.y - n.y, s = void 0, a = 0; a < this.editPositions.length; a++)
                        (s = y(this.editPositions[a])).x += r,
                        s.y += o,
                        this.editPositions[a] = Cesium.Cartesian3.fromDegrees(s.x, s.y, s.z);
                    this.editGeoPlot.setPositions(this.editPositions)
                }
            }, {
                key: "createEditVertex",
                value: function() {
                    var t = this;
                    this.vertexEntities = [];
                    var e = this.editGeoPlot.getPositions();
                    if (this.editGeoPlot.properties.plotName == ee.a.CIRCLE)
                        return this.createCircleEditVertex(),
                        void this.createEditMoveCenterEntity();
                    e.forEach(function(e, n) {
                        var i = t.viewer.entities.add({
                            position: new Cesium.CallbackProperty(function(e) {
                                return t.editPositions[n]
                            }
                            ,!1),
                            type: "GeoPlotEditVertex",
                            vertexIndex: n,
                            point: {
                                color: Cesium.Color.DARKBLUE.withAlpha(.4),
                                pixelSize: 10,
                                outlineColor: Cesium.Color.YELLOW.withAlpha(.4),
                                outlineWidth: 3,
                                disableDepthTestDistance: 2e3
                            }
                        });
                        t.vertexEntities.push(i)
                    }),
                    1 != this.editPositions.length && this.createEditMoveCenterEntity()
                }
            }, {
                key: "createCircleEditVertex",
                value: function() {
                    var t = this
                      , e = this.viewer.entities.add({
                        position: new Cesium.CallbackProperty(function(e) {
                            return t.editPositions[1]
                        }
                        ,!1),
                        type: "GeoPlotEditVertex",
                        vertexIndex: 1,
                        point: {
                            color: Cesium.Color.DARKBLUE.withAlpha(.4),
                            pixelSize: 10,
                            outlineColor: Cesium.Color.YELLOW.withAlpha(.4),
                            outlineWidth: 3,
                            disableDepthTestDistance: 2e3
                        }
                    });
                    this.vertexEntities.push(e)
                }
            }, {
                key: "createEditMoveCenterEntity",
                value: function() {
                    var t = this;
                    this.EditMoveCenterEntity = this.viewer.entities.add({
                        position: new Cesium.CallbackProperty(function(e) {
                            return t.EditMoveCenterPositoin
                        }
                        ,!1),
                        type: "GeoPlotEditMove",
                        point: {
                            color: Cesium.Color.RED.withAlpha(.4),
                            pixelSize: 10,
                            outlineColor: Cesium.Color.WHITE.withAlpha(.3),
                            outlineWidth: 3,
                            disableDepthTestDistance: 2e3
                        }
                    })
                }
            }, {
                key: "clearEditVertex",
                value: function() {
                    var t = this;
                    this.vertexEntities && this.vertexEntities.forEach(function(e) {
                        t.viewer.entities.remove(e)
                    }),
                    this.vertexEntities = [],
                    this.viewer.entities.remove(this.EditMoveCenterEntity)
                }
            }, {
                key: "createMidVertex",
                value: function() {
                    if (this.editGeoPlot.properties.plotName != ee.a.RECTANGLE && this.editGeoPlot.properties.plotName != ee.a.CIRCLE) {
                        this.midVertexEntities = [];
                        for (var t = 0; t < this.editPositions.length; t++) {
                            var e = v(this.editPositions[t], this.editPositions[t + 1])
                              , n = this.viewer.entities.add({
                                position: e,
                                type: "GeoPlotEditMidVertex",
                                vertexIndex: t + 1,
                                point: {
                                    color: Cesium.Color.LIMEGREEN.withAlpha(.4),
                                    pixelSize: 10,
                                    outlineColor: Cesium.Color.YELLOW.withAlpha(.4),
                                    outlineWidth: 3,
                                    disableDepthTestDistance: 2e3
                                }
                            });
                            this.midVertexEntities.push(n)
                        }
                    }
                }
            }, {
                key: "clearMidVertex",
                value: function() {
                    var t = this;
                    this.midVertexEntities && this.midVertexEntities.forEach(function(e) {
                        t.viewer.entities.remove(e)
                    }),
                    this.midVertexEntities = []
                }
            }]),
            t
        }()
          , re = {
            components: {
                SymbolItem: Xt,
                DeployItem: Kt,
                DeployEdit: Jt
            },
            data: function() {
                return {
                    selectedPlot: void 0,
                    deployList: [],
                    clickItemCode: "",
                    symboList: [{
                        name: "animatewall1",
                        label: "动态墙体1",
                        img: "../../../static/images/cordonSymbols/animatewall1.gif"
                    }, {
                        name: "animatewall2",
                        label: "动态墙体2",
                        img: "../../../static/images/cordonSymbols/animatewall2.gif"
                    }]
                }
            },
            mounted: function() {
                this.deployList = b.cordonLayer.plots,
                b.cordonLayer.setPlotSelectable(!0),
                this.plotDraw = new ne(b.viewer),
                this.plotDraw.PlotDrawEndEvent.addEventListener(function(t, e) {
                    t.remove(),
                    b.addCordon(t.toGeoJson())
                }),
                b.cordonLayer.selectedPlotChanged.addEventListener(this.selectedPlotChangedEvent, this),
                this.plotEdit = new ie(b.viewer,b.cordonLayer),
                this.plotEdit.activate()
            },
            beforeDestroy: function() {
                b.cordonLayer.setPlotSelectable(!1),
                b.cordonLayer.selectedPlotChanged.removeEventListener(this.selectedPlotChangedEvent, this),
                this.plotDraw.deactivate(),
                this.plotDraw = void 0,
                this.plotEdit.deactivate(),
                this.plotEdit = void 0
            },
            methods: {
                clickEvent: function(t) {
                    this.plotDraw.activate(t)
                },
                delClickEvent: function(t) {
                    this.SmMessageBox.confirm("删除提示", "确定从列表中删除此项？").then(function(e) {
                        b.cordonLayer.removeByPlotCode(t)
                    }).catch(function(t) {})
                },
                locationClickEvent: function(t) {
                    b.cordonLayer.flyToByPlotCode(t)
                },
                selectedPlotChangedEvent: function(t) {
                    if (this.selectedPlot = t,
                    this.clickItemCode = t ? t.properties.plotCode : "",
                    this.clickItemCode) {
                        var e = "deploy-item-" + this.clickItemCode
                          , n = document.getElementById(e).offsetTop - 77;
                        this.$refs.deployList.scroll({
                            top: n,
                            behavior: "smooth"
                        })
                    }
                }
            }
        }
          , oe = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "edit-feature-wrapp"
                }, [n("div", {
                    staticClass: "edit-panel"
                }, [t._m(0), t._v(" "), n("div", {
                    staticClass: "edit-panel-body"
                }, [n("div", {
                    staticClass: "cordon-container"
                }, [n("div", {
                    staticClass: "cordon-header"
                }, [t._v("警戒区列表")]), t._v(" "), n("div", {
                    staticClass: "cordon-list"
                }, t._l(t.symboList, function(e) {
                    return n("SymbolItem", {
                        key: e.name,
                        attrs: {
                            symbolData: e
                        },
                        on: {
                            clickEvent: t.clickEvent
                        }
                    })
                }), 1)]), t._v(" "), n("div", {
                    staticClass: "deploy-container"
                }, [n("div", {
                    staticClass: "deploy-header"
                }, [t._v("已部署警戒区列表")]), t._v(" "), n("div", {
                    ref: "deployList",
                    staticClass: "cordon-depoly-list"
                }, t._l(t.deployList, function(e) {
                    return n("DeployItem", {
                        key: e.properties.plotCode,
                        attrs: {
                            properties: e.properties,
                            clickItemCode: t.clickItemCode
                        },
                        on: {
                            "update:clickItemCode": function(e) {
                                t.clickItemCode = e
                            },
                            "update:click-item-code": function(e) {
                                t.clickItemCode = e
                            },
                            delClick: t.delClickEvent,
                            locationClick: t.locationClickEvent
                        }
                    })
                }), 1)])])]), t._v(" "), void 0 != t.selectedPlot ? n("DeployEdit", {
                    attrs: {
                        plot: t.selectedPlot
                    }
                }) : t._e()], 1)
            },
            staticRenderFns: [function() {
                var t = this.$createElement
                  , e = this._self._c || t;
                return e("div", {
                    staticClass: "edit-panel-header"
                }, [e("span", {
                    staticClass: "edit-panel-header-title"
                }, [this._v("警戒区部署")])])
            }
            ]
        };
        var se = n("VU/8")(re, oe, !1, function(t) {
            n("g/FX")
        }, "data-v-927ab944", null).exports
          , ae = {
            props: {
                symbolData: {
                    type: Object
                }
            },
            mounted: function() {
                b.viewer.canvas.ondragover = function(t) {
                    t.preventDefault()
                }
                ,
                b.viewer.canvas.ondrop = function(t) {
                    t.preventDefault();
                    var e = JSON.parse(t.dataTransfer.getData("antiTerroristData"))
                      , n = new Cesium.Cartesian2(t.offsetX,t.offsetY)
                      , i = b.viewer.scene.pickPosition(n);
                    b.addAntiTerrorist(i, e)
                }
            },
            beforeDestroy: function() {
                b.viewer.canvas.ondragover = void 0,
                b.viewer.canvas.ondrop = void 0
            },
            methods: {
                dragStartEvent: function(t) {
                    t.dataTransfer.setData("antiTerroristData", h()(this.symbolData))
                }
            }
        }
          , ue = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "anti-terrorsit-symbol-item",
                    on: {
                        dragstart: function(e) {
                            return t.dragStartEvent(e)
                        }
                    }
                }, [n("img", {
                    staticClass: "anti-terrorsit-symbol-img",
                    attrs: {
                        src: t.symbolData.img
                    }
                }), t._v(" "), n("div", {
                    staticClass: "anti-terrorsit-symbol-label"
                }, [t._v(t._s(t.symbolData.label))])])
            },
            staticRenderFns: []
        };
        var le = n("VU/8")(ae, ue, !1, function(t) {
            n("7ZFy")
        }, "data-v-1428c430", null).exports
          , ce = {
            props: {
                clickItemCode: "",
                properties: {
                    type: Object
                }
            },
            data: function() {
                return {
                    getFocus: !1
                }
            },
            methods: {
                itemClick: function() {
                    this.$emit("update:clickItemCode", this.properties.plotCode)
                },
                delClick: function() {
                    this.$emit("delClick", this.properties.plotCode)
                },
                locationClick: function() {
                    this.$emit("locationClick", this.properties.plotCode)
                }
            }
        }
          , he = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "deploy-item",
                    class: {
                        "deplooy-item-click": t.clickItemCode == t.properties.plotCode
                    },
                    attrs: {
                        id: "deploy-item-" + t.properties.plotCode
                    },
                    on: {
                        click: t.itemClick,
                        mouseenter: function(e) {
                            t.getFocus = !0
                        },
                        mouseleave: function(e) {
                            t.getFocus = !1
                        }
                    }
                }, [n("img", {
                    staticClass: "deploy-img",
                    attrs: {
                        src: t.properties.style.img
                    }
                }), t._v(" "), n("div", {
                    staticClass: "deploy-info"
                }, [n("div", {
                    staticClass: "deploy-name"
                }, [t._v(t._s(t.properties.attr.name))]), t._v(" "), n("div", {
                    staticClass: "deploy-label"
                }, [t._v(t._s(t.properties.attr.label))])]), t._v(" "), t.getFocus ? n("div", {
                    staticClass: "deploy-action"
                }, [n("el-button", {
                    attrs: {
                        type: "success",
                        icon: "el-icon-location",
                        circle: ""
                    },
                    on: {
                        click: t.locationClick
                    }
                }), t._v(" "), n("el-button", {
                    attrs: {
                        type: "danger",
                        icon: "el-icon-delete",
                        circle: ""
                    },
                    on: {
                        click: t.delClick
                    }
                })], 1) : t._e()])
            },
            staticRenderFns: []
        };
        var pe = n("VU/8")(ce, he, !1, function(t) {
            n("KAFt")
        }, "data-v-81a9e3ea", null).exports
          , fe = {
            props: {
                plot: {
                    type: Object
                }
            },
            methods: {}
        }
          , de = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "attr-panel"
                }, [t._m(0), t._v(" "), n("div", {
                    staticClass: "attr-panel-body"
                }, [n("el-form", {
                    ref: "form",
                    attrs: {
                        model: t.plot,
                        "label-width": "80px",
                        size: "mini"
                    }
                }, [n("el-form-item", {
                    attrs: {
                        label: "任务说明"
                    }
                }, [n("el-input", {
                    model: {
                        value: t.plot.properties.attr.label,
                        callback: function(e) {
                            t.$set(t.plot.properties.attr, "label", e)
                        },
                        expression: "plot.properties.attr.label"
                    }
                })], 1), t._v(" "), n("el-form-item", {
                    attrs: {
                        label: "备注信息"
                    }
                }, [n("el-input", {
                    model: {
                        value: t.plot.properties.attr.remark,
                        callback: function(e) {
                            t.$set(t.plot.properties.attr, "remark", e)
                        },
                        expression: "plot.properties.attr.remark"
                    }
                })], 1)], 1)], 1)])
            },
            staticRenderFns: [function() {
                var t = this.$createElement
                  , e = this._self._c || t;
                return e("div", {
                    staticClass: "attr-panel-header"
                }, [e("span", {
                    staticClass: "attr-panel-header-title"
                }, [this._v("反恐点信息")])])
            }
            ]
        }
          , ge = n("VU/8")(fe, de, !1, null, null, null).exports
          , ye = function() {
            function t(e, n) {
                B()(this, t),
                this.viewer = e,
                this.geoPlotLayer = n,
                this.registerMouseEvents()
            }
            return V()(t, [{
                key: "registerMouseEvents",
                value: function() {
                    this.eventHandler = new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas),
                    this.initLeftDownEventHandler(),
                    this.initMouseMoveEventHandler(),
                    this.initLeftUpEventHandler()
                }
            }, {
                key: "unRegisterMouseEvents",
                value: function() {
                    this.eventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOWN),
                    this.eventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_UP),
                    this.eventHandler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE)
                }
            }, {
                key: "destroy",
                value: function() {
                    this.unRegisterMouseEvents(),
                    this.viewer = void 0,
                    this.geoPlotLayer = void 0,
                    this.eventHandler = void 0
                }
            }, {
                key: "initLeftDownEventHandler",
                value: function() {
                    var t = this;
                    this.eventHandler.setInputAction(function(e) {
                        if (t.geoPlotLayer.selectedPlot) {
                            var n = t.viewer.scene.pick(e.position);
                            n && n.id && "GeoPlot" === n.id.plotType && t.geoPlotLayer.selectedPlot.properties.plotCode == n.id.plotCode && (t.viewer.enableCursorStyle = !1,
                            document.body.style.cursor = "move",
                            t.moveing = !0,
                            t.mousePoint = new U(t.viewer),
                            t.viewer.scene.screenSpaceCameraController.enableRotate = !1)
                        }
                    }, Cesium.ScreenSpaceEventType.LEFT_DOWN)
                }
            }, {
                key: "initLeftUpEventHandler",
                value: function() {
                    var t = this;
                    this.eventHandler.setInputAction(function(e) {
                        t.moveing && (t.viewer.enableCursorStyle = !0,
                        document.body.style.cursor = "default",
                        t.moveing = !1,
                        t.viewer.scene.screenSpaceCameraController.enableRotate = !0,
                        t.mousePoint.remove(),
                        t.mousePoint = void 0)
                    }, Cesium.ScreenSpaceEventType.LEFT_UP)
                }
            }, {
                key: "initMouseMoveEventHandler",
                value: function() {
                    var t = this;
                    this.eventHandler.setInputAction(function(e) {
                        if (t.moveing) {
                            var n = t.viewer.scene.pickPosition(e.endPosition);
                            n && (t.mousePoint.updatePosition(n),
                            t.geoPlotLayer.selectedPlot.setPositions([n]))
                        }
                    }, Cesium.ScreenSpaceEventType.MOUSE_MOVE)
                }
            }]),
            t
        }()
          , ve = {
            components: {
                SymbolItem: le,
                DeployItem: pe,
                DeployEdit: ge
            },
            data: function() {
                return {
                    selectedPlot: void 0,
                    deployList: [],
                    clickItemCode: "",
                    symbolList: [{
                        name: "sniping",
                        label: "狙击点",
                        img: "../../../static/images/anti-terroristSymbols/sniping.png"
                    }, {
                        name: "guard",
                        label: "值守点",
                        img: "../../../static/images/anti-terroristSymbols/guard.png"
                    }, {
                        name: "intercept",
                        label: "拦截点",
                        img: "../../../static/images/anti-terroristSymbols/intercept.png"
                    }, {
                        name: "await",
                        label: "待命点",
                        img: "../../../static/images/anti-terroristSymbols/await.png"
                    }]
                }
            },
            mounted: function() {
                this.deployList = b.antiTerroristLayer.plots,
                b.antiTerroristLayer.setPlotSelectable(!0),
                b.antiTerroristLayer.selectedPlotChanged.addEventListener(this.selectedPlotChangedEvent, this),
                this.geoPlotEdit = new ye(b.viewer,b.antiTerroristLayer)
            },
            beforeDestroy: function() {
                b.antiTerroristLayer.clearSelectedPlot(),
                b.antiTerroristLayer.setPlotSelectable(!1),
                b.antiTerroristLayer.selectedPlotChanged.removeEventListener(this.selectedPlotChangedEvent, this)
            },
            methods: {
                delClickEvent: function(t) {
                    this.SmMessageBox.confirm("删除提示", "确定从列表中删除此项？").then(function(e) {
                        b.antiTerroristLayer.removeByPlotCode(t)
                    }).catch(function(t) {})
                },
                locationClickEvent: function(t) {
                    b.antiTerroristLayer.flyToByPlotCode(t)
                },
                selectedPlotChangedEvent: function(t) {
                    if (this.selectedPlot = t,
                    this.clickItemCode = t ? t.properties.plotCode : "",
                    this.clickItemCode) {
                        var e = "deploy-item-" + this.clickItemCode
                          , n = document.getElementById(e).offsetTop - 77;
                        this.$refs.deployList.scroll({
                            top: n,
                            behavior: "smooth"
                        })
                    }
                }
            }
        }
          , me = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "edit-feature-wrapp"
                }, [n("div", {
                    staticClass: "edit-panel"
                }, [t._m(0), t._v(" "), n("div", {
                    staticClass: "edit-panel-body"
                }, [n("div", {
                    staticClass: "anti-terrorist-container"
                }, [n("div", {
                    staticClass: "anti-terrorist-header"
                }, [t._v("反恐资源")]), t._v(" "), n("div", {
                    staticClass: "anti-terrorist-list"
                }, t._l(t.symbolList, function(t) {
                    return n("SymbolItem", {
                        key: t.name,
                        attrs: {
                            symbolData: t
                        }
                    })
                }), 1)]), t._v(" "), n("div", {
                    staticClass: "deploy-container"
                }, [n("div", {
                    staticClass: "deploy-header"
                }, [t._v("已部署反恐列表")]), t._v(" "), n("div", {
                    ref: "deployList",
                    staticClass: "anti-terrorist-depoly-list"
                }, t._l(t.deployList, function(e) {
                    return n("DeployItem", {
                        key: e.properties.plotCode,
                        attrs: {
                            properties: e.properties,
                            clickItemCode: t.clickItemCode
                        },
                        on: {
                            "update:clickItemCode": function(e) {
                                t.clickItemCode = e
                            },
                            "update:click-item-code": function(e) {
                                t.clickItemCode = e
                            },
                            delClick: t.delClickEvent,
                            locationClick: t.locationClickEvent
                        }
                    })
                }), 1)])])]), t._v(" "), void 0 != t.selectedPlot ? n("DeployEdit", {
                    attrs: {
                        plot: t.selectedPlot
                    }
                }) : t._e()], 1)
            },
            staticRenderFns: [function() {
                var t = this.$createElement
                  , e = this._self._c || t;
                return e("div", {
                    staticClass: "edit-panel-header"
                }, [e("span", {
                    staticClass: "edit-panel-header-title"
                }, [this._v("反恐部署")])])
            }
            ]
        };
        var _e = n("VU/8")(ve, me, !1, function(t) {
            n("Ml7J")
        }, "data-v-26caa539", null).exports
          , Ee = {
            props: {
                symbolData: {
                    type: Object
                }
            },
            mounted: function() {
                b.viewer.canvas.ondragover = function(t) {
                    t.preventDefault()
                }
                ,
                b.viewer.canvas.ondrop = function(t) {
                    t.preventDefault();
                    var e = JSON.parse(t.dataTransfer.getData("monitorData"))
                      , n = new Cesium.Cartesian2(t.offsetX,t.offsetY)
                      , i = b.viewer.scene.pickPosition(n);
                    b.addMonitor(i, e)
                }
            },
            beforeDestroy: function() {
                b.viewer.canvas.ondragover = void 0,
                b.viewer.canvas.ondrop = void 0
            },
            methods: {
                dragStartEvent: function(t) {
                    t.dataTransfer.setData("monitorData", h()(this.symbolData))
                }
            }
        }
          , Ce = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "monitor-symbol-item",
                    on: {
                        dragstart: function(e) {
                            return t.dragStartEvent(e)
                        }
                    }
                }, [n("img", {
                    staticClass: "monitor-symbol-img",
                    attrs: {
                        src: t.symbolData.img
                    }
                }), t._v(" "), n("div", {
                    staticClass: "monitor-symbol-label"
                }, [t._v(t._s(t.symbolData.label))])])
            },
            staticRenderFns: []
        };
        var we = n("VU/8")(Ee, Ce, !1, function(t) {
            n("c9Vf")
        }, "data-v-556a8df9", null).exports
          , be = {
            props: {
                clickItemCode: "",
                properties: {
                    type: Object
                }
            },
            data: function() {
                return {
                    getFocus: !1
                }
            },
            methods: {
                itemClick: function() {
                    this.$emit("update:clickItemCode", this.properties.plotCode)
                },
                delClick: function() {
                    this.$emit("delClick", this.properties.plotCode)
                },
                locationClick: function() {
                    this.$emit("locationClick", this.properties.plotCode)
                }
            }
        }
          , xe = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "deploy-item",
                    class: {
                        "deplooy-item-click": t.clickItemCode == t.properties.plotCode
                    },
                    attrs: {
                        id: "deploy-item-" + t.properties.plotCode
                    },
                    on: {
                        click: t.itemClick,
                        mouseenter: function(e) {
                            t.getFocus = !0
                        },
                        mouseleave: function(e) {
                            t.getFocus = !1
                        }
                    }
                }, [n("img", {
                    staticClass: "deploy-img",
                    attrs: {
                        src: t.properties.style.img
                    }
                }), t._v(" "), n("div", {
                    staticClass: "deploy-info"
                }, [n("div", {
                    staticClass: "deploy-name"
                }, [t._v(t._s(t.properties.attr.name))]), t._v(" "), n("div", {
                    staticClass: "deploy-label"
                }, [t._v(t._s(t.properties.attr.address))])]), t._v(" "), t.getFocus ? n("div", {
                    staticClass: "deploy-action"
                }, [n("el-button", {
                    attrs: {
                        type: "success",
                        icon: "el-icon-location",
                        circle: ""
                    },
                    on: {
                        click: t.locationClick
                    }
                }), t._v(" "), n("el-button", {
                    attrs: {
                        type: "danger",
                        icon: "el-icon-delete",
                        circle: ""
                    },
                    on: {
                        click: t.delClick
                    }
                })], 1) : t._e()])
            },
            staticRenderFns: []
        };
        var Ie = n("VU/8")(be, xe, !1, function(t) {
            n("ejvL")
        }, "data-v-8cb20788", null).exports
          , Pe = {
            props: {
                plot: {
                    type: Object
                }
            },
            methods: {}
        }
          , Le = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "attr-panel"
                }, [t._m(0), t._v(" "), n("div", {
                    staticClass: "attr-panel-body"
                }, [n("el-form", {
                    ref: "form",
                    attrs: {
                        model: t.plot,
                        "label-width": "80px",
                        size: "mini"
                    }
                }, [n("el-form-item", {
                    attrs: {
                        label: "监控类型"
                    }
                }, [n("el-input", {
                    attrs: {
                        readonly: ""
                    },
                    model: {
                        value: t.plot.properties.attr.name,
                        callback: function(e) {
                            t.$set(t.plot.properties.attr, "name", e)
                        },
                        expression: "plot.properties.attr.name"
                    }
                })], 1), t._v(" "), n("el-form-item", {
                    attrs: {
                        label: "监控名称"
                    }
                }, [n("el-input", {
                    model: {
                        value: t.plot.properties.attr.address,
                        callback: function(e) {
                            t.$set(t.plot.properties.attr, "address", e)
                        },
                        expression: "plot.properties.attr.address"
                    }
                })], 1), t._v(" "), n("el-form-item", {
                    attrs: {
                        label: "IP地址"
                    }
                }, [n("el-input", {
                    model: {
                        value: t.plot.properties.attr.ip,
                        callback: function(e) {
                            t.$set(t.plot.properties.attr, "ip", e)
                        },
                        expression: "plot.properties.attr.ip"
                    }
                })], 1)], 1)], 1)])
            },
            staticRenderFns: [function() {
                var t = this.$createElement
                  , e = this._self._c || t;
                return e("div", {
                    staticClass: "attr-panel-header"
                }, [e("span", {
                    staticClass: "attr-panel-header-title"
                }, [this._v("监控信息")])])
            }
            ]
        }
          , Se = {
            components: {
                SymbolItem: we,
                DeployItem: Ie,
                DeployEdit: n("VU/8")(Pe, Le, !1, null, null, null).exports
            },
            data: function() {
                return {
                    selectedPlot: void 0,
                    deployList: [],
                    clickItemCode: "",
                    symbolList: [{
                        name: "高清枪机",
                        label: "高清枪机",
                        img: "../../../static/images/monitorSymbols/monitor1.png"
                    }, {
                        name: "高清云台",
                        label: "高清云台",
                        img: "../../../static/images/monitorSymbols/monitor2.png"
                    }, {
                        name: "高清人脸",
                        label: "高清人脸",
                        img: "../../../static/images/monitorSymbols/monitor3.png"
                    }, {
                        name: "高清全景",
                        label: "高清全景",
                        img: "../../../static/images/monitorSymbols/monitor4.png"
                    }]
                }
            },
            mounted: function() {
                this.deployList = b.monitorLayer.plots,
                b.monitorLayer.setPlotSelectable(!0),
                b.monitorLayer.selectedPlotChanged.addEventListener(this.selectedPlotChangedEvent, this),
                this.geoPlotEdit = new ye(b.viewer,b.monitorLayer)
            },
            beforeDestroy: function() {
                b.monitorLayer.clearSelectedPlot(),
                b.monitorLayer.setPlotSelectable(!1),
                b.monitorLayer.selectedPlotChanged.removeEventListener(this.selectedPlotChangedEvent, this)
            },
            methods: {
                delClickEvent: function(t) {
                    this.SmMessageBox.confirm("删除提示", "确定从列表中删除此项？").then(function(e) {
                        b.monitorLayer.removeByPlotCode(t)
                    }).catch(function(t) {})
                },
                locationClickEvent: function(t) {
                    b.monitorLayer.flyToByPlotCode(t)
                },
                selectedPlotChangedEvent: function(t) {
                    if (this.selectedPlot = t,
                    this.clickItemCode = t ? t.properties.plotCode : "",
                    this.clickItemCode) {
                        var e = "deploy-item-" + this.clickItemCode
                          , n = document.getElementById(e).offsetTop - 77;
                        this.$refs.deployList.scroll({
                            top: n,
                            behavior: "smooth"
                        })
                    }
                }
            }
        }
          , Ne = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "edit-feature-wrapp"
                }, [n("div", {
                    staticClass: "edit-panel"
                }, [t._m(0), t._v(" "), n("div", {
                    staticClass: "edit-panel-body"
                }, [n("div", {
                    staticClass: "monitor-container"
                }, [n("div", {
                    staticClass: "monitor-header"
                }, [t._v("监控资源")]), t._v(" "), n("div", {
                    staticClass: "monitor-list"
                }, t._l(t.symbolList, function(t) {
                    return n("SymbolItem", {
                        key: t.name,
                        attrs: {
                            symbolData: t
                        }
                    })
                }), 1)]), t._v(" "), n("div", {
                    staticClass: "deploy-container"
                }, [n("div", {
                    staticClass: "deploy-header"
                }, [t._v("已部署监控列表")]), t._v(" "), n("div", {
                    ref: "deployList",
                    staticClass: "monitor-depoly-list"
                }, t._l(t.deployList, function(e) {
                    return n("DeployItem", {
                        key: e.properties.plotCode,
                        attrs: {
                            properties: e.properties,
                            clickItemCode: t.clickItemCode
                        },
                        on: {
                            "update:clickItemCode": function(e) {
                                t.clickItemCode = e
                            },
                            "update:click-item-code": function(e) {
                                t.clickItemCode = e
                            },
                            delClick: t.delClickEvent,
                            locationClick: t.locationClickEvent
                        }
                    })
                }), 1)])])]), t._v(" "), void 0 != t.selectedPlot ? n("DeployEdit", {
                    attrs: {
                        plot: t.selectedPlot
                    }
                }) : t._e()], 1)
            },
            staticRenderFns: [function() {
                var t = this.$createElement
                  , e = this._self._c || t;
                return e("div", {
                    staticClass: "edit-panel-header"
                }, [e("span", {
                    staticClass: "edit-panel-header-title"
                }, [this._v("监控部署")])])
            }
            ]
        };
        var Me = n("VU/8")(Se, Ne, !1, function(t) {
            n("TS5/")
        }, "data-v-5919283e", null).exports
          , Te = n("yKCR")
          , Oe = n("GsVj")
          , Ae = n("6Vxk")
          , De = n("RQqr")
          , Re = {
            components: {
                AppHeader: i.a,
                AppLogo: o.a,
                AppTitle: r.a,
                Actions: s.a,
                MenuNav: a.a,
                PlanTitle: u.a,
                FileAction: l.a
            },
            data: function() {
                return {
                    currentMenu: "",
                    currentComponent: "",
                    planInfo: {}
                }
            },
            created: function() {
                var t = this;
                Object(Ae.a)(202009270909891).then(function(e) {
                // Object(Ae.a)(this.$route.query.id).then(function(e) {
                    t.planInfo = e.data
                })
            },
            mounted: function() {
                // var t = "../static/data/" + this.$route.query.data + ".json";
                var t = "../static/data/" + '1606025205334' + ".json";
                b.init("cesium-container", t),
                this.initEntityDraw()
            },
            watch: {
                currentMenu: function(t) {
                    switch (t) {
                    case "police":
                        this.currentComponent = H;
                        break;
                    case "policecar":
                        this.currentComponent = ot;
                        break;
                    case "plot":
                        this.currentComponent = Tt;
                        break;
                    case "label":
                        this.currentComponent = zt;
                        break;
                    case "cordon":
                        this.currentComponent = se;
                        break;
                    case "anti-terrorist":
                        this.currentComponent = _e;
                        break;
                    case "monitor":
                        this.currentComponent = Me;
                        break;
                    default:
                        this.currentComponent = ""
                    }
                }
            },
            methods: {
                addPosition: function() {
                    this.entityDraw.activate("Point")
                },
                initEntityDraw: function() {
                    this.entityDraw = new Te.a(b.viewer),
                    this.entityDraw.DrawEndEvent.addEventListener(function(t, e, n) {
                        t.remove(),
                        new Oe.a(b.viewer,e[0])
                    })
                },
                drawActivate: function(t) {
                    this.entityDraw.activate(t)
                },
                logoClick: function() {
                    this.$router.push({
                        path: "/"
                    })
                },
                importFile: function() {
                    this.SmMessageBox.confirm("提示", "演示环境下该功能不可用").then(function(t) {}).catch(function(t) {});
                    Object(De.a)(b.viewer)
                },
                exportFile: function() {
                    b.saveToFile()
                }
            }
        }
          , ke = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "app-home"
                }, [n("div", {
                    staticClass: "cesium-container",
                    attrs: {
                        id: "cesium-container"
                    }
                }), t._v(" "), n("AppHeader"), t._v(" "), n("Actions"), t._v(" "), n("AppLogo", {
                    on: {
                        logoClick: t.logoClick
                    }
                }), t._v(" "), n("AppTitle"), t._v(" "), n("PlanTitle", {
                    attrs: {
                        planData: t.planInfo
                    }
                }), t._v(" "), n("MenuNav", {
                    attrs: {
                        currentMenu: t.currentMenu
                    },
                    on: {
                        "update:currentMenu": function(e) {
                            t.currentMenu = e
                        },
                        "update:current-menu": function(e) {
                            t.currentMenu = e
                        }
                    }
                }), t._v(" "), n(t.currentComponent, {
                    tag: "component"
                }), t._v(" "), n("FileAction", {
                    on: {
                        importFile: t.importFile,
                        exportFile: t.exportFile
                    }
                })], 1)
            },
            staticRenderFns: []
        };
        var Fe = n("VU/8")(Re, ke, !1, function(t) {
            n("nlO7")
        }, "data-v-21c351b9", null);
        e.default = Fe.exports
    },
    OGzL: function(t, e, n) {
        "use strict";
        var i = {
            props: {
                currentMenu: "",
                menuData: {
                    type: Object
                }
            },
            methods: {
                menuClickEvent: function() {
                    this.$emit("menuClickEvent", this.menuData.name)
                }
            }
        }
          , r = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "menu-item",
                    class: {
                        "menu-item-active": t.currentMenu == t.menuData.name
                    },
                    on: {
                        click: t.menuClickEvent
                    }
                }, [n("svg-icon", {
                    staticClass: "menu-icon",
                    attrs: {
                        "icon-class": t.menuData.class
                    }
                }), t._v(" "), n("span", {
                    staticClass: "menu-label"
                }, [t._v(t._s(t.menuData.label))])], 1)
            },
            staticRenderFns: []
        };
        var o = {
            props: {
                currentMenu: ""
            },
            data: function() {
                return {
                    menuList: [{
                        name: "police",
                        label: "警员",
                        class: "police"
                    }, {
                        name: "policecar",
                        label: "警车",
                        class: "policecar"
                    }, {
                        name: "label",
                        label: "标注",
                        class: "label"
                    }, {
                        name: "plot",
                        label: "标绘",
                        class: "military"
                    }, {
                        name: "cordon",
                        label: "警戒区",
                        class: "fence"
                    }, {
                        name: "anti-terrorist",
                        label: "反恐",
                        class: "anti-terrorist"
                    }, {
                        name: "monitor",
                        label: "监控",
                        class: "camera"
                    }]
                }
            },
            components: {
                MenuItem: n("VU/8")(i, r, !1, function(t) {
                    n("K1WO")
                }, "data-v-16e54f8c", null).exports
            },
            methods: {
                menuClickEvent: function(t) {
                    this.currentMenu != t ? this.$emit("update:currentMenu", t) : this.$emit("update:currentMenu", "")
                }
            }
        }
          , s = {
            render: function() {
                var t = this
                  , e = t.$createElement
                  , n = t._self._c || e;
                return n("div", {
                    staticClass: "edit-menu-container"
                }, t._l(t.menuList, function(e) {
                    return n("MenuItem", {
                        key: e.name,
                        attrs: {
                            menuData: e,
                            currentMenu: t.currentMenu
                        },
                        on: {
                            menuClickEvent: t.menuClickEvent
                        }
                    })
                }), 1)
            },
            staticRenderFns: []
        };
        var a = n("VU/8")(o, s, !1, function(t) {
            n("/zFh")
        }, "data-v-80d7784e", null);
        e.a = a.exports
    },
    OvRC: function(t, e, n) {
        t.exports = {
            default: n("oM7Q"),
            __esModule: !0
        }
    },
    Pf15: function(t, e, n) {
        "use strict";
        e.__esModule = !0;
        var i = s(n("kiBT"))
          , r = s(n("OvRC"))
          , o = s(n("pFYg"));
        function s(t) {
            return t && t.__esModule ? t : {
                default: t
            }
        }
        e.default = function(t, e) {
            if ("function" != typeof e && null !== e)
                throw new TypeError("Super expression must either be null or a function, not " + (void 0 === e ? "undefined" : (0,
                o.default)(e)));
            t.prototype = (0,
            r.default)(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }),
            e && (i.default ? (0,
            i.default)(t, e) : t.__proto__ = e)
        }
    },
    RQqr: function(t, e, n) {
        "use strict";
        e.a = function(t) {
            return {
                heading: t.camera.heading,
                pitch: t.camera.pitch,
                roll: t.camera.roll,
                x: t.camera.position.x,
                y: t.camera.position.y,
                z: t.camera.position.z
            }
        }
    },
    SWVK: function(t, e, n) {
        "use strict";
        e.a = {
            MARKER: "marker",
            POLYLINE: "polyline",
            POLYGON: "polygon",
            CIRCLE: "circle",
            RECTANGLE: "rectangle",
            DYNAMICFENCE: "dynamicfence",
            NORMALFENCE: "normalfence",
            CORRIDOR: "corridor",
            POLYLINEVOLUME: "polylinevolume",
            ANIMATEWALL1: "animatewall1",
            ANIMATEWALL2: "animatewall2"
        }
    },
    T2KQ: function(t, e, n) {
        "use strict";
        n.d(e, "b", function() {
            return i
        }),
        n.d(e, "c", function() {
            return r
        }),
        n.d(e, "e", function() {
            return o
        }),
        n.d(e, "a", function() {
            return s
        }),
        n.d(e, "d", function() {
            return a
        });
        var i = 100
          , r = Math.PI / 2
          , o = 3e-6
          , s = (Math.PI,
        6378137)
          , a = 6356725
    },
    T3HZ: function(t, e, n) {
        "use strict";
        var i = n("JOio")
          , r = n("Zx67")
          , o = n.n(r)
          , s = n("Zrlr")
          , a = n.n(s)
          , u = n("wxAW")
          , l = n.n(u)
          , c = n("zwoO")
          , h = n.n(c)
          , p = n("Pf15")
          , f = n.n(p)
          , d = n("c7sX")
          , g = function() {
            function t(e, n) {
                a()(this, t),
                this.viewer = e,
                this.properties = n.properties,
                this.properties.plotBase = "MilitaryPlot",
                this.coordinates = n.geometry.coordinates,
                this.style = this.properties.style,
                this.initConsts(),
                this.setPoints(this.coordinates[0])
            }
            return l()(t, [{
                key: "initConsts",
                value: function() {}
            }, {
                key: "setPlotCode",
                value: function(t) {
                    this.baseInfo.plotCode = t
                }
            }, {
                key: "openEditMode",
                value: function(t) {}
            }, {
                key: "setHeight",
                value: function(t) {
                    this.style.height = t
                }
            }, {
                key: "getHeight",
                value: function() {
                    return this.style.height
                }
            }, {
                key: "setPoints",
                value: function(t) {
                    this.coordinates[0] = t || [],
                    this.coordinates[0].length >= 1 && this.generate()
                }
            }, {
                key: "getPoints",
                value: function() {
                    return this.coordinates[0].slice(0)
                }
            }, {
                key: "getPointCount",
                value: function() {
                    return this.coordinates[0].length
                }
            }, {
                key: "generate",
                value: function() {}
            }, {
                key: "generatePositions",
                value: function(t) {
                    this.positions = Object(d.a)(t, this.getHeight())
                }
            }]),
            t
        }()
          , y = function(t) {
            function e(t, n) {
                a()(this, e);
                var r = h()(this, (e.__proto__ || o()(e)).call(this, t, n));
                return r.properties.plotType = i.a.POLYGON,
                r.properties.plotName = "面",
                r.generateEntity(),
                r.minPointCount = 3,
                r
            }
            return f()(e, t),
            l()(e, [{
                key: "generateEntity",
                value: function() {
                    this.polygonEntity = this.viewer.entities.add({
                        plotType: this.properties.plotBase,
                        plotCode: this.properties.plotCode,
                        polygon: {
                            hierarchy: new Cesium.PolygonHierarchy(this.positions || []),
                            material: Cesium.Color.YELLOW.withAlpha(.6),
                            classificationType: Cesium.ClassificationType.BOTH
                        }
                    })
                }
            }, {
                key: "setSelected",
                value: function(t) {
                    this.polygonEntity.polygon.material = t ? Cesium.Color.RED.withAlpha(.8) : Cesium.Color.YELLOW.withAlpha(.6)
                }
            }, {
                key: "generate",
                value: function() {
                    this.getPointCount() < 2 || this.generatePositions(this.coordinates[0])
                }
            }, {
                key: "openEditMode",
                value: function(t) {
                    var e = this;
                    t ? (this.polygonEntity.polygon.hierarchy = new Cesium.CallbackProperty(function(t) {
                        return new Cesium.PolygonHierarchy(e.positions || [])
                    }
                    ,!1),
                    this.polygonEntity.polyline = {
                        positions: new Cesium.CallbackProperty(function(t) {
                            return e.positions && e.positions.length > 0 ? e.positions.concat(e.positions[0]) : []
                        }
                        ,!1),
                        width: 2,
                        clampToGround: !0,
                        material: new Cesium.PolylineDashMaterialProperty({
                            color: Cesium.Color.YELLOW
                        }),
                        depthFailMaterial: new Cesium.PolylineDashMaterialProperty({
                            color: Cesium.Color.YELLOW
                        })
                    }) : (this.polygonEntity.polygon.hierarchy = new Cesium.PolygonHierarchy(this.positions || []),
                    this.polygonEntity.polyline && (this.polygonEntity.polyline.width = 0))
                }
            }, {
                key: "toGeoJson",
                value: function() {
                    return {
                        type: "Feature",
                        properties: this.properties,
                        geometry: {
                            type: "Polygon",
                            coordinates: this.coordinates
                        }
                    }
                }
            }, {
                key: "remove",
                value: function() {
                    this.viewer.entities.remove(this.polygonEntity)
                }
            }]),
            e
        }(g)
          , v = n("Z9Vd")
          , m = n("T2KQ")
          , _ = function(t) {
            function e(t, n) {
                a()(this, e);
                var r = h()(this, (e.__proto__ || o()(e)).call(this, t, n));
                return r.properties.plotType = i.a.CLOSED_CURVE,
                r.properties.plotName = "曲线面",
                r
            }
            return f()(e, t),
            l()(e, [{
                key: "initConsts",
                value: function() {
                    this.t = .3
                }
            }, {
                key: "generate",
                value: function() {
                    if (!((t = this.getPointCount()) < 2))
                        if (2 == t)
                            this.generatePositions(this.coordinates[0]);
                        else {
                            var t, e = this.getPoints();
                            e.push(e[0], e[1]);
                            for (var n = [], i = 0; i < e.length - 2; i++) {
                                var r = v.f(this.t, e[i], e[i + 1], e[i + 2]);
                                n = n.concat(r)
                            }
                            n = [n[(t = n.length) - 1]].concat(n.slice(0, t - 1));
                            var o = [];
                            for (i = 0; i < e.length - 2; i++) {
                                var s = e[i]
                                  , a = e[i + 1];
                                o.push(s);
                                for (var u = 0; u <= m.b; u++) {
                                    var l = v.g(u / m.b, s, n[2 * i], n[2 * i + 1], a);
                                    o.push(l)
                                }
                                o.push(a)
                            }
                            this.generatePositions(o)
                        }
                }
            }]),
            e
        }(y)
          , E = function(t) {
            function e(t, n) {
                a()(this, e);
                var r = h()(this, (e.__proto__ || o()(e)).call(this, t, n));
                return r.properties.plotType = i.a.CIRCLE,
                r.properties.plotName = "正圆",
                r.fixPointCount = 2,
                r
            }
            return f()(e, t),
            l()(e, [{
                key: "generate",
                value: function() {
                    if (!(this.getPointCount() < 2)) {
                        var t = this.coordinates[0][0]
                          , e = this.distance(t, this.coordinates[0][1]);
                        this.generatePositions(this.generateCirclePoints(t, e))
                    }
                }
            }, {
                key: "distance",
                value: function(t, e) {
                    var n = t[1] * Math.PI / 180
                      , i = e[1] * Math.PI / 180
                      , r = n - i
                      , o = t[0] * Math.PI / 180 - e[0] * Math.PI / 180
                      , s = 2 * Math.asin(Math.sqrt(Math.pow(Math.sin(r / 2), 2) + Math.cos(n) * Math.cos(i) * Math.pow(Math.sin(o / 2), 2)));
                    return s *= 6378.137,
                    s = Math.round(1e4 * s) / 10
                }
            }, {
                key: "generateCirclePoints",
                value: function(t, e) {
                    for (var n = [], i = 0; i < 360; i += 2)
                        n.push(this.getCirclePoint(t[0], t[1], i, e));
                    return n
                }
            }, {
                key: "getCirclePoint",
                value: function(t, e, n, i) {
                    var r = i * Math.sin(n * Math.PI / 180)
                      , o = i * Math.cos(n * Math.PI / 180)
                      , s = m.d + (m.a - m.d) * (90 - e) / 90;
                    return [180 * (r / (s * Math.cos(e * Math.PI / 180)) + t * Math.PI / 180) / Math.PI, 180 * (o / s + e * Math.PI / 180) / Math.PI]
                }
            }]),
            e
        }(y)
          , C = function(t) {
            function e(t, n) {
                a()(this, e);
                var r = h()(this, (e.__proto__ || o()(e)).call(this, t, n));
                return r.properties.plotType = i.a.ELLIPSE,
                r.properties.plotName = "椭圆",
                r
            }
            return f()(e, t),
            l()(e, [{
                key: "initConsts",
                value: function() {
                    this.fixPointCount = 2
                }
            }, {
                key: "generate",
                value: function() {
                    if (!(this.getPointCount() < 2)) {
                        var t = this.coordinates[0][0]
                          , e = this.coordinates[0][1]
                          , n = v.k(t, e)
                          , i = Math.abs((t[0] - e[0]) / 2)
                          , r = Math.abs((t[1] - e[1]) / 2);
                        this.generatePositions(this.generatePoints(n, i, r))
                    }
                }
            }, {
                key: "generatePoints",
                value: function(t, e, n) {
                    for (var i, r, o, s = [], a = 0; a <= m.b; a++)
                        o = 2 * Math.PI * a / m.b,
                        i = t[0] + e * Math.cos(o),
                        r = t[1] + n * Math.sin(o),
                        s.push([i, r]);
                    return s
                }
            }]),
            e
        }(y)
          , w = function(t) {
            function e(t, n) {
                a()(this, e);
                var r = h()(this, (e.__proto__ || o()(e)).call(this, t, n));
                return r.properties.plotType = i.a.SECTOR,
                r.properties.plotName = "扇形",
                r
            }
            return f()(e, t),
            l()(e, [{
                key: "initConsts",
                value: function() {
                    this.fixPointCount = 3
                }
            }, {
                key: "generate",
                value: function() {
                    if (!(this.getPointCount() < 2))
                        if (2 == this.getPointCount())
                            this.generatePositions(this.coordinates[0]);
                        else {
                            var t = this.getPoints()
                              , e = t[0]
                              , n = t[1]
                              , i = t[2]
                              , r = (v.a(n, e),
                            180 * v.c(n, e) / 3.14)
                              , o = 180 * v.c(i, e) / 3.14
                              , s = this.distance(n, e)
                              , a = this.generatSectorPoints(e, s, r, o);
                            a.push(e, a[0]),
                            this.generatePositions(a)
                        }
                }
            }, {
                key: "distance",
                value: function(t, e) {
                    var n = t[1] * Math.PI / 180
                      , i = e[1] * Math.PI / 180
                      , r = n - i
                      , o = t[0] * Math.PI / 180 - e[0] * Math.PI / 180
                      , s = 2 * Math.asin(Math.sqrt(Math.pow(Math.sin(r / 2), 2) + Math.cos(n) * Math.cos(i) * Math.pow(Math.sin(o / 2), 2)));
                    return s *= 6378.137,
                    s = Math.round(1e4 * s) / 10
                }
            }, {
                key: "generatSectorPoints",
                value: function(t, e, n, i) {
                    var r = [];
                    if ((n = 90 - n) < (i = 90 - i))
                        for (var o = n; o < i; o += 2)
                            r.push(this.getCirclePoint(t[0], t[1], o, e));
                    else
                        for (var s = n; s > i; s -= 2)
                            r.push(this.getCirclePoint(t[0], t[1], s, e));
                    return r
                }
            }, {
                key: "getCirclePoint",
                value: function(t, e, n, i) {
                    var r = i * Math.sin(n * Math.PI / 180)
                      , o = i * Math.cos(n * Math.PI / 180)
                      , s = m.d + (m.a - m.d) * (90 - e) / 90;
                    return [180 * (r / (s * Math.cos(e * Math.PI / 180)) + t * Math.PI / 180) / Math.PI, 180 * (o / s + e * Math.PI / 180) / Math.PI]
                }
            }]),
            e
        }(y)
          , b = function(t) {
            function e(t, n) {
                a()(this, e);
                var r = h()(this, (e.__proto__ || o()(e)).call(this, t, n));
                return r.properties.plotType = i.a.RECTANGLE,
                r.properties.plotName = "矩形",
                r
            }
            return f()(e, t),
            l()(e, [{
                key: "initConsts",
                value: function() {
                    this.fixPointCount = 2
                }
            }, {
                key: "generate",
                value: function() {
                    if (!(this.getPointCount() < 2)) {
                        var t = this.coordinates[0][0]
                          , e = this.coordinates[0][1]
                          , n = Math.min(t[0], e[0])
                          , i = Math.max(t[0], e[0])
                          , r = Math.min(t[1], e[1])
                          , o = Math.max(t[1], e[1])
                          , s = [n, o]
                          , a = [i, o]
                          , u = [i, r]
                          , l = [n, r];
                        this.generatePositions([s, a, u, l])
                    }
                }
            }]),
            e
        }(y)
          , x = function(t) {
            function e(t, n) {
                a()(this, e);
                var r = h()(this, (e.__proto__ || o()(e)).call(this, t, n));
                return r.properties.plotType = i.a.FINE_ARROW,
                r.properties.plotName = "直箭头",
                r
            }
            return f()(e, t),
            l()(e, [{
                key: "initConsts",
                value: function() {
                    this.tailWidthFactor = .1,
                    this.neckWidthFactor = .2,
                    this.headWidthFactor = .25,
                    this.headAngle = Math.PI / 8.5,
                    this.neckAngle = Math.PI / 13,
                    this.fixPointCount = 2
                }
            }, {
                key: "generate",
                value: function() {
                    if (!(this.getPointCount() < 2)) {
                        var t = this.getPoints()
                          , e = t[0]
                          , n = t[1]
                          , i = v.d(t)
                          , r = i * this.tailWidthFactor
                          , o = i * this.neckWidthFactor
                          , s = i * this.headWidthFactor
                          , a = v.i(n, e, m.c, r, !0)
                          , u = v.i(n, e, m.c, r, !1)
                          , l = v.i(e, n, this.headAngle, s, !1)
                          , c = v.i(e, n, this.headAngle, s, !0)
                          , h = [a, v.i(e, n, this.neckAngle, o, !1), l, n, c, v.i(e, n, this.neckAngle, o, !0), u];
                        this.generatePositions(h)
                    }
                }
            }]),
            e
        }(y)
          , I = function(t) {
            function e(t, n) {
                a()(this, e);
                var r = h()(this, (e.__proto__ || o()(e)).call(this, t, n));
                return r.properties.plotType = i.a.ASSAULT_DIRECTION,
                r.properties.plotName = "突击方向",
                r
            }
            return f()(e, t),
            l()(e, [{
                key: "initConsts",
                value: function() {
                    this.tailWidthFactor = .2,
                    this.neckWidthFactor = .25,
                    this.headWidthFactor = .3,
                    this.headAngle = Math.PI / 4,
                    this.neckAngle = .17741 * Math.PI,
                    this.fixPointCount = 2
                }
            }]),
            e
        }(x)
          , P = function(t) {
            function e(t, n) {
                a()(this, e);
                var r = h()(this, (e.__proto__ || o()(e)).call(this, t, n));
                return r.properties.plotType = i.a.ATTACK_ARROW,
                r.properties.plotName = "进攻方向",
                r
            }
            return f()(e, t),
            l()(e, [{
                key: "initConsts",
                value: function() {
                    this.headHeightFactor = .18,
                    this.headWidthFactor = .3,
                    this.neckHeightFactor = .85,
                    this.neckWidthFactor = .15,
                    this.headTailFactor = .8
                }
            }, {
                key: "generate",
                value: function() {
                    if (!(this.getPointCount() < 2))
                        if (2 != this.getPointCount()) {
                            var t = this.getPoints()
                              , e = t[0]
                              , n = t[1];
                            v.j(t[0], t[1], t[2]) && (e = t[1],
                            n = t[0]);
                            var i = [v.k(e, n)].concat(t.slice(2))
                              , r = this.getArrowHeadPoints(i, e, n)
                              , o = r[0]
                              , s = r[4]
                              , a = v.a(e, n) / v.d(i)
                              , u = this.getArrowBodyPoints(i, o, s, a)
                              , l = u.length
                              , c = [e].concat(u.slice(0, l / 2));
                            c.push(o);
                            var h = [n].concat(u.slice(l / 2, l));
                            h.push(s),
                            c = v.h(c),
                            h = v.h(h),
                            this.generatePositions(c.concat(r, h.reverse()))
                        } else
                            this.generatePositions(this.coordinates[0])
                }
            }, {
                key: "getArrowHeadPoints",
                value: function(t, e, n) {
                    var i = v.d(t)
                      , r = i * this.headHeightFactor
                      , o = t[t.length - 1];
                    i = v.a(o, t[t.length - 2]);
                    var s = v.a(e, n);
                    r > s * this.headTailFactor && (r = s * this.headTailFactor);
                    var a = r * this.headWidthFactor
                      , u = r * this.neckWidthFactor
                      , l = (r = r > i ? i : r) * this.neckHeightFactor
                      , c = v.i(t[t.length - 2], o, 0, r, !0)
                      , h = v.i(t[t.length - 2], o, 0, l, !0)
                      , p = v.i(o, c, m.c, a, !1)
                      , f = v.i(o, c, m.c, a, !0);
                    return [v.i(o, h, m.c, u, !1), p, o, f, v.i(o, h, m.c, u, !0)]
                }
            }, {
                key: "getArrowBodyPoints",
                value: function(t, e, n, i) {
                    for (var r = v.l(t), o = v.d(t) * i, s = (o - v.a(e, n)) / 2, a = 0, u = [], l = [], c = 1; c < t.length - 1; c++) {
                        var h = v.b(t[c - 1], t[c], t[c + 1]) / 2
                          , p = (o / 2 - (a += v.a(t[c - 1], t[c])) / r * s) / Math.sin(h)
                          , f = v.i(t[c - 1], t[c], Math.PI - h, p, !0)
                          , d = v.i(t[c - 1], t[c], h, p, !1);
                        u.push(f),
                        l.push(d)
                    }
                    return u.concat(l)
                }
            }]),
            e
        }(y)
          , L = function(t) {
            function e(t, n) {
                a()(this, e);
                var r = h()(this, (e.__proto__ || o()(e)).call(this, t, n));
                return r.properties.plotType = i.a.TAILED_ATTACK_ARROW,
                r.properties.plotName = "进攻方向尾",
                r
            }
            return f()(e, t),
            l()(e, [{
                key: "initConsts",
                value: function() {
                    this.headHeightFactor = .18,
                    this.headWidthFactor = .3,
                    this.neckHeightFactor = .85,
                    this.neckWidthFactor = .15,
                    this.tailWidthFactor = .1,
                    this.headTailFactor = .8,
                    this.swallowTailFactor = 1,
                    this.swallowTailPnt = null
                }
            }, {
                key: "generate",
                value: function() {
                    if (!((p = this.getPointCount()) < 2))
                        if (2 != this.getPointCount()) {
                            var t = this.getPoints()
                              , e = t[0]
                              , n = t[1];
                            v.j(t[0], t[1], t[2]) && (e = t[1],
                            n = t[0]);
                            var i = [v.k(e, n)].concat(t.slice(2))
                              , r = this.getArrowHeadPoints(i, e, n)
                              , o = r[0]
                              , s = r[4]
                              , a = v.a(e, n)
                              , u = v.d(i)
                              , l = u * this.tailWidthFactor * this.swallowTailFactor;
                            this.swallowTailPnt = v.i(i[1], i[0], 0, l, !0);
                            var c = a / u
                              , h = this.getArrowBodyPoints(i, o, s, c)
                              , p = h.length
                              , f = [e].concat(h.slice(0, p / 2));
                            f.push(o);
                            var d = [n].concat(h.slice(p / 2, p));
                            d.push(s),
                            f = v.h(f),
                            d = v.h(d),
                            this.generatePositions(f.concat(r, d.reverse(), [this.swallowTailPnt, f[0]]))
                        } else
                            this.generatePositions(this.coordinates[0])
                }
            }]),
            e
        }(P)
          , S = function(t) {
            function e(t, n) {
                a()(this, e);
                var r = h()(this, (e.__proto__ || o()(e)).call(this, t, n));
                return r.properties.plotType = i.a.DOUBLE_ARROW,
                r.properties.plotName = "钳击",
                r
            }
            return f()(e, t),
            l()(e, [{
                key: "initConsts",
                value: function() {
                    this.headHeightFactor = .25,
                    this.headWidthFactor = .3,
                    this.neckHeightFactor = .85,
                    this.neckWidthFactor = .15,
                    this.connPoint = null,
                    this.tempPoint4 = null,
                    this.fixPointCount = 4
                }
            }, {
                key: "generate",
                value: function() {
                    if (!((o = this.getPointCount()) < 2))
                        if (2 != o) {
                            var t, e, n = this.coordinates[0][0], i = this.coordinates[0][1], r = this.coordinates[0][2], o = this.getPointCount();
                            this.tempPoint4 = 3 == o ? this.getTempPoint4(n, i, r) : this.coordinates[0][3],
                            this.connPoint = 3 == o || 4 == o ? v.k(n, i) : this.coordinates[0][4],
                            v.j(n, i, r) ? (t = this.getArrowPoints(n, this.connPoint, this.tempPoint4, !1),
                            e = this.getArrowPoints(this.connPoint, i, r, !0)) : (t = this.getArrowPoints(i, this.connPoint, r, !1),
                            e = this.getArrowPoints(this.connPoint, n, this.tempPoint4, !0));
                            var s = t.length
                              , a = (s - 5) / 2
                              , u = t.slice(0, a)
                              , l = t.slice(a, a + 5)
                              , c = t.slice(a + 5, s)
                              , h = e.slice(0, a)
                              , p = e.slice(a, a + 5)
                              , f = e.slice(a + 5, s);
                            h = v.e(h);
                            var d = v.e(f.concat(u.slice(1)));
                            c = v.e(c);
                            var g = h.concat(p, d, l, c);
                            this.generatePositions(g)
                        } else
                            this.generatePositions(this.coordinates[0])
                }
            }, {
                key: "getArrowPoints",
                value: function(t, e, n, i) {
                    var r = v.k(t, e)
                      , o = v.a(r, n)
                      , s = v.i(n, r, 0, .3 * o, !0)
                      , a = v.i(n, r, 0, .5 * o, !0)
                      , u = [r, s = v.i(r, s, m.c, o / 5, i), a = v.i(r, a, m.c, o / 4, i), n]
                      , l = this.getArrowHeadPoints(u, this.headHeightFactor, this.headWidthFactor, this.neckHeightFactor, this.neckWidthFactor)
                      , c = l[0]
                      , h = l[4]
                      , p = v.a(t, e) / v.d(u) / 2
                      , f = this.getArrowBodyPoints(u, c, h, p)
                      , d = f.length
                      , g = f.slice(0, d / 2)
                      , y = f.slice(d / 2, d);
                    return g.push(c),
                    y.push(h),
                    (g = g.reverse()).push(e),
                    (y = y.reverse()).push(t),
                    g.reverse().concat(l, y)
                }
            }, {
                key: "getArrowHeadPoints",
                value: function(t, e, n) {
                    var i = v.d(t) * this.headHeightFactor
                      , r = t[t.length - 1]
                      , o = (v.a(e, n),
                    i * this.headWidthFactor)
                      , s = i * this.neckWidthFactor
                      , a = i * this.neckHeightFactor
                      , u = v.i(t[t.length - 2], r, 0, i, !0)
                      , l = v.i(t[t.length - 2], r, 0, a, !0)
                      , c = v.i(r, u, m.c, o, !1)
                      , h = v.i(r, u, m.c, o, !0);
                    return [v.i(r, l, m.c, s, !1), c, r, h, v.i(r, l, m.c, s, !0)]
                }
            }, {
                key: "getArrowBodyPoints",
                value: function(t, e, n, i) {
                    for (var r = v.l(t), o = v.d(t) * i, s = (o - v.a(e, n)) / 2, a = 0, u = [], l = [], c = 1; c < t.length - 1; c++) {
                        var h = v.b(t[c - 1], t[c], t[c + 1]) / 2
                          , p = (o / 2 - (a += v.a(t[c - 1], t[c])) / r * s) / Math.sin(h)
                          , f = v.i(t[c - 1], t[c], Math.PI - h, p, !0)
                          , d = v.i(t[c - 1], t[c], h, p, !1);
                        u.push(f),
                        l.push(d)
                    }
                    return u.concat(l)
                }
            }, {
                key: "getTempPoint4",
                value: function(t, e, n) {
                    var i, r, o, s, a = v.k(t, e), u = v.a(a, n), l = v.b(t, a, n);
                    return l < m.c ? (r = u * Math.sin(l),
                    o = u * Math.cos(l),
                    s = v.i(t, a, m.c, r, !1),
                    i = v.i(a, s, m.c, o, !0)) : l >= m.c && l < Math.PI ? (r = u * Math.sin(Math.PI - l),
                    o = u * Math.cos(Math.PI - l),
                    s = v.i(t, a, m.c, r, !1),
                    i = v.i(a, s, m.c, o, !1)) : l >= Math.PI && l < 1.5 * Math.PI ? (r = u * Math.sin(l - Math.PI),
                    o = u * Math.cos(l - Math.PI),
                    s = v.i(t, a, m.c, r, !0),
                    i = v.i(a, s, m.c, o, !0)) : (r = u * Math.sin(2 * Math.PI - l),
                    o = u * Math.cos(2 * Math.PI - l),
                    s = v.i(t, a, m.c, r, !0),
                    i = v.i(a, s, m.c, o, !1)),
                    i
                }
            }]),
            e
        }(y)
          , N = function(t) {
            function e(t, n) {
                a()(this, e);
                var r = h()(this, (e.__proto__ || o()(e)).call(this, t, n));
                return r.properties.plotType = i.a.GATHERING_PLACE,
                r.properties.plotName = "集结地",
                r
            }
            return f()(e, t),
            l()(e, [{
                key: "initConsts",
                value: function() {
                    this.t = .4,
                    this.fixPointCount = 3
                }
            }, {
                key: "generate",
                value: function() {
                    var t = this.getPoints();
                    if (!(t.length < 2)) {
                        if (2 == this.getPointCount()) {
                            var e = v.k(t[0], t[1])
                              , n = v.a(t[0], e) / .9
                              , i = v.i(t[0], e, m.c, n, !0);
                            t = [t[0], i, t[1]]
                        }
                        e = v.k(t[0], t[2]);
                        t.push(e, t[0], t[1]);
                        for (var r = [], o = 0; o < t.length - 2; o++) {
                            var s = t[o]
                              , a = t[o + 1]
                              , u = t[o + 2]
                              , l = v.f(this.t, s, a, u);
                            r = r.concat(l)
                        }
                        var c = r.length;
                        r = [r[c - 1]].concat(r.slice(0, c - 1));
                        var h = [];
                        for (o = 0; o < t.length - 2; o++) {
                            s = t[o],
                            a = t[o + 1],
                            h.push(s);
                            for (var p = 0; p <= m.b; p++) {
                                i = v.g(p / m.b, s, r[2 * o], r[2 * o + 1], a);
                                h.push(i)
                            }
                            h.push(a)
                        }
                        this.generatePositions(h)
                    }
                }
            }]),
            e
        }(y)
          , M = function(t) {
            function e(t, n, r) {
                a()(this, e);
                var s = h()(this, (e.__proto__ || o()(e)).call(this, t, n, r));
                return s.properties.plotType = i.a.SQUAD_COMBAT,
                s.properties.plotName = "分队战斗",
                s.minPointCount = 2,
                s
            }
            return f()(e, t),
            l()(e, [{
                key: "initConsts",
                value: function() {
                    this.headHeightFactor = .18,
                    this.headWidthFactor = .3,
                    this.neckHeightFactor = .85,
                    this.neckWidthFactor = .15,
                    this.tailWidthFactor = .1
                }
            }, {
                key: "generate",
                value: function() {
                    if (!((s = this.getPointCount()) < 2)) {
                        var t = this.getPoints()
                          , e = this.getTailPoints(t)
                          , n = this.getArrowHeadPoints(t, e[0], e[1])
                          , i = n[0]
                          , r = n[4]
                          , o = this.getArrowBodyPoints(t, i, r, this.tailWidthFactor)
                          , s = o.length
                          , a = [e[0]].concat(o.slice(0, s / 2));
                        a.push(i);
                        var u = [e[1]].concat(o.slice(s / 2, s));
                        u.push(r),
                        a = v.h(a),
                        u = v.h(u),
                        this.generatePositions(a.concat(n, u.reverse()))
                    }
                }
            }, {
                key: "getTailPoints",
                value: function(t) {
                    var e = v.d(t) * this.tailWidthFactor;
                    return [v.i(t[1], t[0], m.c, e, !1), v.i(t[1], t[0], m.c, e, !0)]
                }
            }]),
            e
        }(P)
          , T = function(t) {
            function e(t, n) {
                a()(this, e);
                var r = h()(this, (e.__proto__ || o()(e)).call(this, t, n));
                return r.properties.plotType = i.a.TAILED_SQUAD_COMBAT,
                r.properties.plotName = "分队战斗尾",
                r.minPointCount = 2,
                r
            }
            return f()(e, t),
            l()(e, [{
                key: "initConsts",
                value: function() {
                    this.headHeightFactor = .18,
                    this.headWidthFactor = .3,
                    this.neckHeightFactor = .85,
                    this.neckWidthFactor = .15,
                    this.tailWidthFactor = .1,
                    this.swallowTailFactor = 1,
                    this.swallowTailPnt = null
                }
            }, {
                key: "generate",
                value: function() {
                    if (!((s = this.getPointCount()) < 2)) {
                        var t = this.getPoints()
                          , e = this.getTailPoints(t)
                          , n = this.getArrowHeadPoints(t, e[0], e[2])
                          , i = n[0]
                          , r = n[4]
                          , o = this.getArrowBodyPoints(t, i, r, this.tailWidthFactor)
                          , s = o.length
                          , a = [e[0]].concat(o.slice(0, s / 2));
                        a.push(i);
                        var u = [e[2]].concat(o.slice(s / 2, s));
                        u.push(r),
                        a = v.h(a),
                        u = v.h(u),
                        this.generatePositions(a.concat(n, u.reverse(), [e[1], a[0]]))
                    }
                }
            }, {
                key: "getTailPoints",
                value: function(t) {
                    var e = v.d(t) * this.tailWidthFactor
                      , n = v.i(t[1], t[0], m.c, e, !1)
                      , i = v.i(t[1], t[0], m.c, e, !0)
                      , r = e * this.swallowTailFactor;
                    return [n, v.i(t[1], t[0], 0, r, !0), i]
                }
            }]),
            e
        }(P)
          , O = function(t) {
            function e(t, n) {
                a()(this, e);
                var r = h()(this, (e.__proto__ || o()(e)).call(this, t, n));
                return r.properties.plotType = i.a.MARKER,
                r.properties.plotName = "Marker",
                r.generateEntity(),
                r.fixPointCount = 1,
                r
            }
            return f()(e, t),
            l()(e, [{
                key: "generateEntity",
                value: function() {
                    var t = this;
                    this.markerEntity = this.viewer.entities.add({
                        plotType: this.properties.plotBase,
                        plotCode: this.properties.plotCode,
                        position: new Cesium.CallbackProperty(function(e) {
                            return t.positions[0]
                        }
                        ,!1),
                        billboard: {
                            image: "../../../static/images/Plot/location.png",
                            scaleByDistance: new Cesium.NearFarScalar(300,1,1200,.4),
                            distanceDisplayCondition: new Cesium.DistanceDisplayCondition(0,1e4),
                            verticalOrigin: Cesium.VerticalOrigin.BOTTOM
                        }
                    })
                }
            }, {
                key: "toGeoJson",
                value: function() {
                    return {
                        type: "Feature",
                        properties: this.properties,
                        geometry: {
                            type: "Point",
                            coordinates: this.coordinates
                        }
                    }
                }
            }, {
                key: "generate",
                value: function() {
                    this.getPointCount() < 1 || this.generatePositions(this.coordinates[0])
                }
            }, {
                key: "remove",
                value: function() {
                    this.viewer.entities.remove(this.markerEntity)
                }
            }]),
            e
        }(g)
          , A = function(t) {
            function e(t, n, r) {
                a()(this, e);
                var s = h()(this, (e.__proto__ || o()(e)).call(this, t, n, r));
                return s.baseInfo.plotName = i.a.POLYLINE,
                s.minPointCount = 2,
                s.generateEntity(),
                s
            }
            return f()(e, t),
            l()(e, [{
                key: "generateEntity",
                value: function() {
                    var t = this;
                    this.lineEntity = this.viewer.entities.add({
                        plotType: "MilitaryPlot",
                        plotCode: this.baseInfo.plotCode,
                        polyline: {
                            positions: new Cesium.CallbackProperty(function(e) {
                                return t.positions
                            }
                            ,!1)
                        }
                    })
                }
            }, {
                key: "generate",
                value: function() {
                    this.getPointCount() < 2 || this.generatePositions(this.points)
                }
            }, {
                key: "remove",
                value: function() {
                    this.viewer.entities.remove(this.lineEntity)
                }
            }]),
            e
        }(g)
          , D = {
            createPlot: function(t, e, n) {
                switch (e) {
                case i.a.POLYGON:
                    return new y(t,n);
                case i.a.DOUBLE_ARROW:
                    return new S(t,n);
                case i.a.ATTACK_ARROW:
                    return new P(t,n);
                case i.a.ELLIPSE:
                    return new C(t,n);
                case i.a.CIRCLE:
                    return new E(t,n);
                case i.a.FINE_ARROW:
                    return new x(t,n);
                case i.a.TAILED_ATTACK_ARROW:
                    return new L(t,n);
                case i.a.ASSAULT_DIRECTION:
                    return new I(t,n);
                case i.a.GATHERING_PLACE:
                    return new N(t,n);
                case i.a.CLOSED_CURVE:
                    return new _(t,n);
                case i.a.SECTOR:
                    return new w(t,n);
                case i.a.RECTANGLE:
                    return new b(t,n);
                case i.a.SQUAD_COMBAT:
                    return new M(t,n);
                case i.a.TAILED_SQUAD_COMBAT:
                    return new T(t,n);
                case i.a.MARKER:
                    return new O(t,n);
                case i.a.POLYLINE:
                    return new A(t,n)
                }
            }
        };
        e.a = D
    },
    "TS5/": function(t, e) {},
    XGln: function(t, e) {},
    YLmF: function(t, e, n) {
        "use strict";
        var i = n("Zx67")
          , r = n.n(i)
          , o = n("Zrlr")
          , s = n.n(o)
          , a = n("wxAW")
          , u = n.n(a)
          , l = n("zwoO")
          , c = n.n(l)
          , h = n("Pf15")
          , p = n.n(h)
          , f = n("c1sb")
          , d = n("T3HZ")
          , g = function(t) {
            function e(t) {
                s()(this, e);
                var n = c()(this, (e.__proto__ || r()(e)).call(this, t));
                return n.selectedPlotChanged = new Cesium.Event,
                n.initEvent(),
                n
            }
            return p()(e, t),
            u()(e, [{
                key: "addPlot",
                value: function(t) {
                    var e = d.a.createPlot(this.viewer, t.properties.plotType, t);
                    return this.plots.push(e),
                    e
                }
            }, {
                key: "flyToByPlotCode",
                value: function(t) {
                    var e = this
                      , n = this.getByPlotCode(t);
                    if (n) {
                        this.setSelectedPlot(n);
                        var i = this.viewer.entities.add({
                            polygon: {
                                hierarchy: n.positions,
                                perPositionHeight: !0,
                                material: Cesium.Color.YELLOW.withAlpha(.001),
                                outline: !1
                            }
                        });
                        this.viewer.flyTo(i).then(function() {
                            e.viewer.entities.remove(i)
                        })
                    }
                }
            }, {
                key: "setSelectedPlot",
                value: function(t) {
                    this.plotSelecteable && (this.selectedPlot && this.selectedPlot.setSelected(!1),
                    this.selectedPlot = t,
                    this.selectedPlot.setSelected(!0),
                    this.selectedPlotChanged.raiseEvent(t))
                }
            }, {
                key: "clearSelectedPlot",
                value: function() {
                    this.selectedPlot && (this.selectedPlot.setSelected(!1),
                    this.selectedPlot.openEditMode(!1),
                    this.selectedPlot = void 0)
                }
            }, {
                key: "initEvent",
                value: function() {
                    var t = this;
                    new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas).setInputAction(function(e) {
                        if (t.plotSelecteable) {
                            var n = t.viewer.scene.pick(e.position);
                            if (n && n.id) {
                                if (n.id && n.id.type && "MilitaryPlot" == n.id.type || t.selectedPlot && (t.selectedPlot.setSelected(!1),
                                t.selectedPlot = void 0,
                                t.selectedPlotChanged.raiseEvent(void 0)),
                                !t.selectedPlot || t.selectedPlot.properties.plotCode != n.id.plotCode) {
                                    var i = t.getByPlotCode(n.id.plotCode);
                                    i ? (t.selectedPlot = i,
                                    t.selectedPlot.setSelected(!0),
                                    t.selectedPlotChanged.raiseEvent(i)) : (t.selectedPlot && (t.selectedPlot.setSelected(!1),
                                    t.selectedPlot = void 0),
                                    t.selectedPlotChanged.raiseEvent(void 0))
                                }
                            } else
                                t.selectedPlot && (t.selectedPlot.setSelected(!1),
                                t.selectedPlot = void 0,
                                t.selectedPlotChanged.raiseEvent(void 0))
                        }
                    }, Cesium.ScreenSpaceEventType.LEFT_CLICK)
                }
            }]),
            e
        }(f.a);
        e.a = g
    },
    Z9Vd: function(t, e, n) {
        "use strict";
        n.d(e, "a", function() {
            return o
        }),
        n.d(e, "l", function() {
            return s
        }),
        n.d(e, "d", function() {
            return a
        }),
        n.d(e, "k", function() {
            return u
        }),
        n.d(e, "c", function() {
            return l
        }),
        n.d(e, "b", function() {
            return c
        }),
        n.d(e, "j", function() {
            return h
        }),
        n.d(e, "g", function() {
            return p
        }),
        n.d(e, "i", function() {
            return f
        }),
        n.d(e, "f", function() {
            return d
        }),
        n.d(e, "e", function() {
            return y
        }),
        n.d(e, "h", function() {
            return _
        });
        var i = n("pFYg")
          , r = (n.n(i),
        n("T2KQ"))
          , o = function(t, e) {
            return Math.sqrt(Math.pow(t[0] - e[0], 2) + Math.pow(t[1] - e[1], 2))
        }
          , s = function(t) {
            var e = 0;
            return t && Array.isArray(t) && t.length > 0 && t.forEach(function(n, i) {
                i < t.length - 1 && (e += o(n, t[i + 1]))
            }),
            e
        }
          , a = function(t) {
            return Math.pow(s(t), .99)
        }
          , u = function(t, e) {
            return [(t[0] + e[0]) / 2, (t[1] + e[1]) / 2]
        }
          , l = function(t, e) {
            var n = void 0
              , i = Math.asin(Math.abs(e[1] - t[1]) / o(t, e));
            return e[1] >= t[1] && e[0] >= t[0] ? n = i + Math.PI : e[1] >= t[1] && e[0] < t[0] ? n = 2 * Math.PI - i : e[1] < t[1] && e[0] < t[0] ? n = i : e[1] < t[1] && e[0] >= t[0] && (n = Math.PI - i),
            n
        }
          , c = function(t, e, n) {
            var i = l(e, t) - l(e, n);
            return i < 0 ? i + 2 * Math.PI : i
        }
          , h = function(t, e, n) {
            return (n[1] - t[1]) * (e[0] - t[0]) > (e[1] - t[1]) * (n[0] - t[0])
        }
          , p = function(t, e, n, i, r) {
            var o = 1 - (t = Math.max(Math.min(t, 1), 0))
              , s = t * t
              , a = s * t
              , u = o * o
              , l = u * o;
            return [l * e[0] + 3 * u * t * n[0] + 3 * o * s * i[0] + a * r[0], l * e[1] + 3 * u * t * n[1] + 3 * o * s * i[1] + a * r[1]]
        }
          , f = function(t, e, n, i, r) {
            var o = l(t, e)
              , s = r ? o + n : o - n
              , a = i * Math.cos(s)
              , u = i * Math.sin(s);
            return [e[0] + a, e[1] + u]
        }
          , d = function(t, e, n, i) {
            var s = g(e, n, i)
              , a = null
              , u = null
              , l = null
              , c = Math.sqrt(s[0] * s[0] + s[1] * s[1])
              , p = s[0] / c
              , f = s[1] / c
              , d = o(e, n)
              , y = o(n, i);
            return c > r.e ? h(e, n, i) ? (l = t * d,
            a = [n[0] - l * f, n[1] + l * p],
            l = t * y,
            u = [n[0] + l * f, n[1] - l * p]) : (l = t * d,
            a = [n[0] + l * f, n[1] - l * p],
            l = t * y,
            u = [n[0] - l * f, n[1] + l * p]) : (a = [n[0] + t * (e[0] - n[0]), n[1] + t * (e[1] - n[1])],
            u = [n[0] + t * (i[0] - n[0]), n[1] + t * (i[1] - n[1])]),
            [a, u]
        }
          , g = function(t, e, n) {
            var i = t[0] - e[0]
              , r = t[1] - e[1]
              , o = Math.sqrt(i * i + r * r);
            i /= o,
            r /= o;
            var s = n[0] - e[0]
              , a = n[1] - e[1]
              , u = Math.sqrt(s * s + a * a);
            return [i + (s /= u), r + (a /= u)]
        }
          , y = function(t) {
            if (t.length <= 2)
                return t;
            for (var e = [], n = t.length - 1, i = 0; i <= 1; i += .01) {
                for (var r = 0, o = 0, s = 0; s <= n; s++) {
                    var a = m(n, s)
                      , u = Math.pow(i, s)
                      , l = Math.pow(1 - i, n - s);
                    r += a * u * l * t[s][0],
                    o += a * u * l * t[s][1]
                }
                e.push([r, o])
            }
            return e.push(t[n]),
            e
        }
          , v = function(t) {
            var e = 1;
            switch (t) {
            case t <= 1:
                e = 1;
                break;
            case 2 === t:
                e = 2;
                break;
            case 3 === t:
                e = 6;
                break;
            case 24 === t:
                e = 24;
                break;
            case 5 === t:
                e = 120;
                break;
            default:
                for (var n = 1; n <= t; n++)
                    e *= n
            }
            return e
        }
          , m = function(t, e) {
            return v(t) / (v(e) * v(t - e))
        }
          , _ = function(t) {
            if (t.length <= 2)
                return t;
            var e = []
              , n = t.length - 2 - 1;
            e.push(t[0]);
            for (var i = 0; i <= n; i++)
                for (var r = 0; r <= 1; r += .05) {
                    for (var o = 0, s = 0, a = 0; a <= 2; a++) {
                        var u = E(a, r);
                        o += u * t[i + a][0],
                        s += u * t[i + a][1]
                    }
                    e.push([o, s])
                }
            return e.push(t[t.length - 1]),
            e
        }
          , E = function(t, e) {
            var n = 0;
            return 0 === t ? n = Math.pow(e - 1, 2) / 2 : 1 === t ? n = (-2 * Math.pow(e, 2) + 2 * e + 1) / 2 : 2 === t && (n = Math.pow(e, 2) / 2),
            n
        }
    },
    ZaQb: function(t, e, n) {
        var i = n("EqjI")
          , r = n("77Pl")
          , o = function(t, e) {
            if (r(t),
            !i(e) && null !== e)
                throw TypeError(e + ": can't set as prototype!")
        };
        t.exports = {
            set: Object.setPrototypeOf || ("__proto__"in {} ? function(t, e, i) {
                try {
                    (i = n("+ZMJ")(Function.call, n("LKZe").f(Object.prototype, "__proto__").set, 2))(t, []),
                    e = !(t instanceof Array)
                } catch (t) {
                    e = !0
                }
                return function(t, n) {
                    return o(t, n),
                    e ? t.__proto__ = n : i(t, n),
                    t
                }
            }({}, !1) : void 0),
            check: o
        }
    },
    Zrlr: function(t, e, n) {
        "use strict";
        e.__esModule = !0,
        e.default = function(t, e) {
            if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function")
        }
    },
    Zx67: function(t, e, n) {
        t.exports = {
            default: n("fS6E"),
            __esModule: !0
        }
    },
    azFC: function(t, e) {},
    bVSB: function(t, e) {},
    c1sb: function(t, e, n) {
        "use strict";
        var i = n("Zrlr")
          , r = n.n(i)
          , o = n("wxAW")
          , s = n.n(o)
          , a = function() {
            function t(e) {
                r()(this, t),
                this.viewer = e,
                this.plots = [],
                this.plotSelecteable = !1
            }
            return s()(t, [{
                key: "setPlotSelectable",
                value: function(t) {
                    this.plotSelecteable = t
                }
            }, {
                key: "initPlots",
                value: function(t) {}
            }, {
                key: "addPlot",
                value: function(t) {}
            }, {
                key: "removeByPlotCode",
                value: function(t) {
                    for (var e = 0; e < this.plots.length; e++)
                        if (this.plots[e].properties.plotCode == t)
                            return this.plots[e].remove(),
                            void this.plots.splice(e, 1)
                }
            }, {
                key: "getByPlotCode",
                value: function(t) {
                    for (var e = 0; e < this.plots.length; e++)
                        if (this.plots[e].properties.plotCode == t)
                            return this.plots[e]
                }
            }, {
                key: "removeAll",
                value: function() {
                    this.clear()
                }
            }, {
                key: "clear",
                value: function() {
                    this.plots.forEach(function(t) {
                        t.remove()
                    }),
                    this.plots = []
                }
            }]),
            t
        }();
        e.a = a
    },
    c7sX: function(t, e, n) {
        "use strict";
        function i(t, e) {
            return Cesium.Cartesian3.fromDegrees(t[0], t[1], e)
        }
        function r(t) {
            var e = Cesium.Cartographic.fromCartesian(t);
            return [Cesium.Math.toDegrees(e.longitude), Cesium.Math.toDegrees(e.latitude)]
        }
        e.a = function(t, e) {
            var n = [];
            e = e || 0;
            for (var r = 0; r < t.length; r++)
                n.push(i(t[r], e));
            return n
        }
        ,
        e.b = r,
        e.c = function(t) {
            for (var e = [], n = 0; n < t.length; n++)
                e.push(r(t[n]));
            return e
        }
    },
    c9Vf: function(t, e) {},
    ejvL: function(t, e) {},
    exh5: function(t, e, n) {
        var i = n("kM2E");
        i(i.S, "Object", {
            setPrototypeOf: n("ZaQb").set
        })
    },
    fS6E: function(t, e, n) {
        n("Kh5d"),
        t.exports = n("FeBl").Object.getPrototypeOf
    },
    fyjX: function(t, e, n) {
        (function(t) {
            "use strict";
            function e(t, e, n) {
                if (!x(n = n || {}))
                    throw new Error("options is invalid");
                var i = n.bbox
                  , r = n.id;
                if (void 0 === t)
                    throw new Error("geometry is required");
                if (e && e.constructor !== Object)
                    throw new Error("properties must be an Object");
                i && I(i),
                r && P(r);
                var o = {
                    type: "Feature"
                };
                return r && (o.id = r),
                i && (o.bbox = i),
                o.properties = e || {},
                o.geometry = t,
                o
            }
            function n(t, e, n) {
                if (!x(n = n || {}))
                    throw new Error("options is invalid");
                var r, s = n.bbox;
                if (!t)
                    throw new Error("type is required");
                if (!e)
                    throw new Error("coordinates is required");
                if (!Array.isArray(e))
                    throw new Error("coordinates must be an Array");
                switch (s && I(s),
                t) {
                case "Point":
                    r = i(e).geometry;
                    break;
                case "LineString":
                    r = a(e).geometry;
                    break;
                case "Polygon":
                    r = o(e).geometry;
                    break;
                case "MultiPoint":
                    r = h(e).geometry;
                    break;
                case "MultiLineString":
                    r = c(e).geometry;
                    break;
                case "MultiPolygon":
                    r = p(e).geometry;
                    break;
                default:
                    throw new Error(t + " is invalid")
                }
                return s && (r.bbox = s),
                r
            }
            function i(t, n, i) {
                if (!t)
                    throw new Error("coordinates is required");
                if (!Array.isArray(t))
                    throw new Error("coordinates must be an Array");
                if (t.length < 2)
                    throw new Error("coordinates must be at least 2 numbers long");
                if (!b(t[0]) || !b(t[1]))
                    throw new Error("coordinates must contain numbers");
                return e({
                    type: "Point",
                    coordinates: t
                }, n, i)
            }
            function r(t, e, n) {
                if (!t)
                    throw new Error("coordinates is required");
                if (!Array.isArray(t))
                    throw new Error("coordinates must be an Array");
                return l(t.map(function(t) {
                    return i(t, e)
                }), n)
            }
            function o(t, n, i) {
                if (!t)
                    throw new Error("coordinates is required");
                for (var r = 0; r < t.length; r++) {
                    var o = t[r];
                    if (o.length < 4)
                        throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");
                    for (var s = 0; s < o[o.length - 1].length; s++) {
                        if (0 === r && 0 === s && !b(o[0][0]) || !b(o[0][1]))
                            throw new Error("coordinates must contain numbers");
                        if (o[o.length - 1][s] !== o[0][s])
                            throw new Error("First and last Position are not equivalent.")
                    }
                }
                return e({
                    type: "Polygon",
                    coordinates: t
                }, n, i)
            }
            function s(t, e, n) {
                if (!t)
                    throw new Error("coordinates is required");
                if (!Array.isArray(t))
                    throw new Error("coordinates must be an Array");
                return l(t.map(function(t) {
                    return o(t, e)
                }), n)
            }
            function a(t, n, i) {
                if (!t)
                    throw new Error("coordinates is required");
                if (t.length < 2)
                    throw new Error("coordinates must be an array of two or more positions");
                if (!b(t[0][1]) || !b(t[0][1]))
                    throw new Error("coordinates must contain numbers");
                return e({
                    type: "LineString",
                    coordinates: t
                }, n, i)
            }
            function u(t, e, n) {
                if (!t)
                    throw new Error("coordinates is required");
                if (!Array.isArray(t))
                    throw new Error("coordinates must be an Array");
                return l(t.map(function(t) {
                    return a(t, e)
                }), n)
            }
            function l(t, e) {
                if (!x(e = e || {}))
                    throw new Error("options is invalid");
                var n = e.bbox
                  , i = e.id;
                if (!t)
                    throw new Error("No features passed");
                if (!Array.isArray(t))
                    throw new Error("features must be an Array");
                n && I(n),
                i && P(i);
                var r = {
                    type: "FeatureCollection"
                };
                return i && (r.id = i),
                n && (r.bbox = n),
                r.features = t,
                r
            }
            function c(t, n, i) {
                if (!t)
                    throw new Error("coordinates is required");
                return e({
                    type: "MultiLineString",
                    coordinates: t
                }, n, i)
            }
            function h(t, n, i) {
                if (!t)
                    throw new Error("coordinates is required");
                return e({
                    type: "MultiPoint",
                    coordinates: t
                }, n, i)
            }
            function p(t, n, i) {
                if (!t)
                    throw new Error("coordinates is required");
                return e({
                    type: "MultiPolygon",
                    coordinates: t
                }, n, i)
            }
            function f(t, n, i) {
                if (!t)
                    throw new Error("geometries is required");
                if (!Array.isArray(t))
                    throw new Error("geometries must be an Array");
                return e({
                    type: "GeometryCollection",
                    geometries: t
                }, n, i)
            }
            function d(t, e) {
                if (void 0 === t || null === t || isNaN(t))
                    throw new Error("num is required");
                if (e && !(e >= 0))
                    throw new Error("precision must be a positive number");
                var n = Math.pow(10, e || 0);
                return Math.round(t * n) / n
            }
            function g(t, e) {
                if (void 0 === t || null === t)
                    throw new Error("radians is required");
                if (e && "string" != typeof e)
                    throw new Error("units must be a string");
                var n = Eo[e || "kilometers"];
                if (!n)
                    throw new Error(e + " units is invalid");
                return t * n
            }
            function y(t, e) {
                if (void 0 === t || null === t)
                    throw new Error("distance is required");
                if (e && "string" != typeof e)
                    throw new Error("units must be a string");
                var n = Eo[e || "kilometers"];
                if (!n)
                    throw new Error(e + " units is invalid");
                return t / n
            }
            function v(t, e) {
                return _(y(t, e))
            }
            function m(t) {
                if (null === t || void 0 === t)
                    throw new Error("bearing is required");
                var e = t % 360;
                return e < 0 && (e += 360),
                e
            }
            function _(t) {
                if (null === t || void 0 === t)
                    throw new Error("radians is required");
                return t % (2 * Math.PI) * 180 / Math.PI
            }
            function E(t) {
                if (null === t || void 0 === t)
                    throw new Error("degrees is required");
                return t % 360 * Math.PI / 180
            }
            function C(t, e, n) {
                if (null === t || void 0 === t)
                    throw new Error("length is required");
                if (!(t >= 0))
                    throw new Error("length must be a positive number");
                return g(y(t, e), n || "kilometers")
            }
            function w(t, e, n) {
                if (null === t || void 0 === t)
                    throw new Error("area is required");
                if (!(t >= 0))
                    throw new Error("area must be a positive number");
                var i = wo[e || "meters"];
                if (!i)
                    throw new Error("invalid original units");
                var r = wo[n || "kilometers"];
                if (!r)
                    throw new Error("invalid final units");
                return t / i * r
            }
            function b(t) {
                return !isNaN(t) && null !== t && !Array.isArray(t)
            }
            function x(t) {
                return !!t && t.constructor === Object
            }
            function I(t) {
                if (!t)
                    throw new Error("bbox is required");
                if (!Array.isArray(t))
                    throw new Error("bbox must be an Array");
                if (4 !== t.length && 6 !== t.length)
                    throw new Error("bbox must be an Array of 4 or 6 numbers");
                t.forEach(function(t) {
                    if (!b(t))
                        throw new Error("bbox must only contain numbers")
                })
            }
            function P(t) {
                if (!t)
                    throw new Error("id is required");
                if (-1 === ["string", "number"].indexOf(typeof t))
                    throw new Error("id must be a number or a string")
            }
            function L(t, e, n) {
                if (null !== t)
                    for (var i, r, o, s, a, u, l, c, h = 0, p = 0, f = t.type, d = "FeatureCollection" === f, g = "Feature" === f, y = d ? t.features.length : 1, v = 0; v < y; v++) {
                        a = (c = !!(l = d ? t.features[v].geometry : g ? t.geometry : t) && "GeometryCollection" === l.type) ? l.geometries.length : 1;
                        for (var m = 0; m < a; m++) {
                            var _ = 0
                              , E = 0;
                            if (null !== (s = c ? l.geometries[m] : l)) {
                                u = s.coordinates;
                                var C = s.type;
                                switch (h = !n || "Polygon" !== C && "MultiPolygon" !== C ? 0 : 1,
                                C) {
                                case null:
                                    break;
                                case "Point":
                                    e(u, p, v, _, E),
                                    p++,
                                    _++;
                                    break;
                                case "LineString":
                                case "MultiPoint":
                                    for (i = 0; i < u.length; i++)
                                        e(u[i], p, v, _, E),
                                        p++,
                                        "MultiPoint" === C && _++;
                                    "LineString" === C && _++;
                                    break;
                                case "Polygon":
                                case "MultiLineString":
                                    for (i = 0; i < u.length; i++) {
                                        for (r = 0; r < u[i].length - h; r++)
                                            e(u[i][r], p, v, _, E),
                                            p++;
                                        "MultiLineString" === C && _++,
                                        "Polygon" === C && E++
                                    }
                                    "Polygon" === C && _++;
                                    break;
                                case "MultiPolygon":
                                    for (i = 0; i < u.length; i++) {
                                        for ("MultiPolygon" === C && (E = 0),
                                        r = 0; r < u[i].length; r++) {
                                            for (o = 0; o < u[i][r].length - h; o++)
                                                e(u[i][r][o], p, v, _, E),
                                                p++;
                                            E++
                                        }
                                        _++
                                    }
                                    break;
                                case "GeometryCollection":
                                    for (i = 0; i < s.geometries.length; i++)
                                        L(s.geometries[i], e, n);
                                    break;
                                default:
                                    throw new Error("Unknown Geometry Type")
                                }
                            }
                        }
                    }
            }
            function S(t, e, n, i) {
                var r = n;
                return L(t, function(t, i, o, s, a) {
                    r = 0 === i && void 0 === n ? t : e(r, t, i, o, s, a)
                }, i),
                r
            }
            function N(t, e) {
                var n;
                switch (t.type) {
                case "FeatureCollection":
                    for (n = 0; n < t.features.length; n++)
                        e(t.features[n].properties, n);
                    break;
                case "Feature":
                    e(t.properties, 0)
                }
            }
            function M(t, e, n) {
                var i = n;
                return N(t, function(t, r) {
                    i = 0 === r && void 0 === n ? t : e(i, t, r)
                }),
                i
            }
            function T(t, e) {
                if ("Feature" === t.type)
                    e(t, 0);
                else if ("FeatureCollection" === t.type)
                    for (var n = 0; n < t.features.length; n++)
                        e(t.features[n], n)
            }
            function O(t, e, n) {
                var i = n;
                return T(t, function(t, r) {
                    i = 0 === r && void 0 === n ? t : e(i, t, r)
                }),
                i
            }
            function A(t) {
                var e = [];
                return L(t, function(t) {
                    e.push(t)
                }),
                e
            }
            function D(t, e) {
                var n, i, r, o, s, a, u, l, c, h, p = 0, f = "FeatureCollection" === t.type, d = "Feature" === t.type, g = f ? t.features.length : 1;
                for (n = 0; n < g; n++) {
                    for (a = f ? t.features[n].geometry : d ? t.geometry : t,
                    l = f ? t.features[n].properties : d ? t.properties : {},
                    c = f ? t.features[n].bbox : d ? t.bbox : void 0,
                    h = f ? t.features[n].id : d ? t.id : void 0,
                    s = (u = !!a && "GeometryCollection" === a.type) ? a.geometries.length : 1,
                    r = 0; r < s; r++)
                        if (null !== (o = u ? a.geometries[r] : a))
                            switch (o.type) {
                            case "Point":
                            case "LineString":
                            case "MultiPoint":
                            case "Polygon":
                            case "MultiLineString":
                            case "MultiPolygon":
                                e(o, p, l, c, h);
                                break;
                            case "GeometryCollection":
                                for (i = 0; i < o.geometries.length; i++)
                                    e(o.geometries[i], p, l, c, h);
                                break;
                            default:
                                throw new Error("Unknown Geometry Type")
                            }
                        else
                            e(null, p, l, c, h);
                    p++
                }
            }
            function R(t, e, n) {
                var i = n;
                return D(t, function(t, r, o, s, a) {
                    i = 0 === r && void 0 === n ? t : e(i, t, r, o, s, a)
                }),
                i
            }
            function k(t, n) {
                D(t, function(t, i, r, o, s) {
                    var a, u = null === t ? null : t.type;
                    switch (u) {
                    case null:
                    case "Point":
                    case "LineString":
                    case "Polygon":
                        return void n(e(t, r, {
                            bbox: o,
                            id: s
                        }), i, 0)
                    }
                    switch (u) {
                    case "MultiPoint":
                        a = "Point";
                        break;
                    case "MultiLineString":
                        a = "LineString";
                        break;
                    case "MultiPolygon":
                        a = "Polygon"
                    }
                    t.coordinates.forEach(function(t, o) {
                        n(e({
                            type: a,
                            coordinates: t
                        }, r), i, o)
                    })
                })
            }
            function F(t, e, n) {
                var i = n;
                return k(t, function(t, r, o) {
                    i = 0 === r && 0 === o && void 0 === n ? t : e(i, t, r, o)
                }),
                i
            }
            function G(t, e) {
                k(t, function(t, n, i) {
                    var r = 0;
                    if (t.geometry) {
                        var o = t.geometry.type;
                        "Point" !== o && "MultiPoint" !== o && S(t, function(o, s, u, l, c, h) {
                            var p = a([o, s], t.properties);
                            return e(p, n, i, h, r),
                            r++,
                            s
                        })
                    }
                })
            }
            function B(t, e, n) {
                var i = n
                  , r = !1;
                return G(t, function(t, o, s, a, u) {
                    i = !1 === r && void 0 === n ? t : e(i, t, o, s, a, u),
                    r = !0
                }),
                i
            }
            function q(t, e) {
                if (!t)
                    throw new Error("geojson is required");
                k(t, function(t, n, i) {
                    if (null !== t.geometry) {
                        var r = t.geometry.type
                          , o = t.geometry.coordinates;
                        switch (r) {
                        case "LineString":
                            e(t, n, i, 0, 0);
                            break;
                        case "Polygon":
                            for (var s = 0; s < o.length; s++)
                                e(a(o[s], t.properties), n, i, s)
                        }
                    }
                })
            }
            function V(t, e, n) {
                var i = n;
                return q(t, function(t, r, o, s) {
                    i = 0 === r && void 0 === n ? t : e(i, t, r, o, s)
                }),
                i
            }
            function U(t) {
                var e = [1 / 0, 1 / 0, -1 / 0, -1 / 0];
                return L(t, function(t) {
                    e[0] > t[0] && (e[0] = t[0]),
                    e[1] > t[1] && (e[1] = t[1]),
                    e[2] < t[0] && (e[2] = t[0]),
                    e[3] < t[1] && (e[3] = t[1])
                }),
                e
            }
            function j(t) {
                if (!t)
                    throw new Error("obj is required");
                var e = z(t);
                if (e.length > 1 && b(e[0]) && b(e[1]))
                    return e;
                throw new Error("Coordinate is not a valid Point")
            }
            function z(t) {
                if (!t)
                    throw new Error("obj is required");
                var e;
                if (t.length ? e = t : t.coordinates ? e = t.coordinates : t.geometry && t.geometry.coordinates && (e = t.geometry.coordinates),
                e)
                    return Y(e),
                    e;
                throw new Error("No valid coordinates")
            }
            function Y(t) {
                if (t.length > 1 && b(t[0]) && b(t[1]))
                    return !0;
                if (Array.isArray(t[0]) && t[0].length)
                    return Y(t[0]);
                throw new Error("coordinates must only contain numbers")
            }
            function H(t, e, n) {
                if (!e || !n)
                    throw new Error("type and name required");
                if (!t || t.type !== e)
                    throw new Error("Invalid input to " + n + ": must be a " + e + ", given " + t.type)
            }
            function X(t, e, n) {
                if (!t)
                    throw new Error("No feature passed");
                if (!n)
                    throw new Error(".featureOf() requires a name");
                if (!t || "Feature" !== t.type || !t.geometry)
                    throw new Error("Invalid input to " + n + ", Feature with geometry required");
                if (!t.geometry || t.geometry.type !== e)
                    throw new Error("Invalid input to " + n + ": must be a " + e + ", given " + t.geometry.type)
            }
            function W(t, e, n) {
                if (!t)
                    throw new Error("No featureCollection passed");
                if (!n)
                    throw new Error(".collectionOf() requires a name");
                if (!t || "FeatureCollection" !== t.type)
                    throw new Error("Invalid input to " + n + ", FeatureCollection required");
                for (var i = 0; i < t.features.length; i++) {
                    var r = t.features[i];
                    if (!r || "Feature" !== r.type || !r.geometry)
                        throw new Error("Invalid input to " + n + ", Feature with geometry required");
                    if (!r.geometry || r.geometry.type !== e)
                        throw new Error("Invalid input to " + n + ": must be a " + e + ", given " + r.geometry.type)
                }
            }
            function $(t) {
                if (!t)
                    throw new Error("geojson is required");
                if (void 0 !== t.geometry)
                    return t.geometry;
                if (t.coordinates || t.geometries)
                    return t;
                throw new Error("geojson must be a valid Feature or Geometry Object")
            }
            function K() {
                throw new Error("invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType")
            }
            function Z(t, e) {
                if (!t)
                    throw new Error((e || "geojson") + " is required");
                if (t.geometry && t.geometry.type)
                    return t.geometry.type;
                if (t.type)
                    return t.type;
                throw new Error((e || "geojson") + " is invalid")
            }
            function Q(t, e, n) {
                n = n || {};
                for (var i = Object.keys(Po), r = 0; r < i.length; r++) {
                    var o = i[r]
                      , s = n[o];
                    s = void 0 !== s && null !== s ? s : Po[o],
                    Lo[o] = s
                }
                Lo.verbose;
                var a = function(t) {
                    var e = []
                      , n = 0;
                    return t.rows,
                    t.cols,
                    t.cells.forEach(function(i, r) {
                        i.forEach(function(i, o) {
                            if (void 0 !== i && !function(t) {
                                return 5 === t.cval || 10 === t.cval
                            }(i) && !tt(i)) {
                                var s = function(t, e, n) {
                                    var i, r, o, s = t.length, a = [], u = [0, 0, 1, 1, 0, 0, 0, 0, -1, 0, 1, 1, -1, 0, -1, 0], l = [0, -1, 0, 0, 1, 1, 1, 1, 0, -1, 0, 0, 0, -1, 0, 0], c = ["none", "bottom", "right", "right", "top", "top", "top", "top", "left", "bottom", "right", "right", "left", "bottom", "left", "none"], h = (t[e][n],
                                    t[e][n]), p = h.cval, f = nt(h, o = ["none", "left", "bottom", "left", "right", "none", "bottom", "left", "top", "top", "none", "top", "right", "right", "bottom", "none"][p]);
                                    a.push([n + f[0], e + f[1]]),
                                    f = nt(h, o = c[p]),
                                    a.push([n + f[0], e + f[1]]),
                                    et(h);
                                    for (var d = n + u[p], g = e + l[p], y = p; d >= 0 && g >= 0 && g < s && (d != n || g != e) && void 0 !== (h = t[g][d]); ) {
                                        if (0 === (p = h.cval) || 15 === p)
                                            return {
                                                path: a,
                                                info: "mergeable"
                                            };
                                        o = c[p],
                                        i = u[p],
                                        r = l[p],
                                        5 !== p && 10 !== p || (5 === p ? h.flipped ? -1 === l[y] ? (o = "left",
                                        i = -1,
                                        r = 0) : (o = "right",
                                        i = 1,
                                        r = 0) : -1 === u[y] && (o = "bottom",
                                        i = 0,
                                        r = -1) : 10 === p && (h.flipped ? -1 === u[y] ? (o = "top",
                                        i = 0,
                                        r = 1) : (o = "bottom",
                                        i = 0,
                                        r = -1) : 1 === l[y] && (o = "left",
                                        i = -1,
                                        r = 0))),
                                        f = nt(h, o),
                                        a.push([d + f[0], g + f[1]]),
                                        et(h),
                                        d += i,
                                        g += r,
                                        y = p
                                    }
                                    return {
                                        path: a,
                                        info: "closed"
                                    }
                                }(t.cells, r, o)
                                  , a = !1;
                                if ("mergeable" === s.info)
                                    for (var u = s.path[s.path.length - 1][0], l = s.path[s.path.length - 1][1], c = n - 1; c >= 0; c--)
                                        if (Math.abs(e[c][0][0] - u) <= 1e-7 && Math.abs(e[c][0][1] - l) <= 1e-7) {
                                            for (var h = s.path.length - 2; h >= 0; --h)
                                                e[c].unshift(s.path[h]);
                                            a = !0;
                                            break
                                        }
                                a || (e[n++] = s.path)
                            }
                        })
                    }),
                    e
                }(function(t, e) {
                    for (var n = t.length - 1, i = t[0].length - 1, r = {
                        rows: n,
                        cols: i,
                        cells: []
                    }, o = 0; o < n; ++o) {
                        r.cells[o] = [];
                        for (var s = 0; s < i; ++s) {
                            var a = 0
                              , u = t[o + 1][s]
                              , l = t[o + 1][s + 1]
                              , c = t[o][s + 1]
                              , h = t[o][s];
                            if (!(isNaN(u) || isNaN(l) || isNaN(c) || isNaN(h))) {
                                a |= u >= e ? 8 : 0,
                                a |= l >= e ? 4 : 0,
                                a |= c >= e ? 2 : 0;
                                var p, f, d, g, y = !1;
                                if (5 == (a |= h >= e ? 1 : 0) || 10 === a) {
                                    var v = (u + l + c + h) / 4;
                                    5 === a && v < e ? (a = 10,
                                    y = !0) : 10 === a && v < e && (a = 5,
                                    y = !0)
                                }
                                if (0 !== a && 15 !== a)
                                    p = f = d = g = .5,
                                    1 === a ? (d = 1 - J(e, u, h),
                                    f = 1 - J(e, c, h)) : 2 === a ? (f = J(e, h, c),
                                    g = 1 - J(e, l, c)) : 3 === a ? (d = 1 - J(e, u, h),
                                    g = 1 - J(e, l, c)) : 4 === a ? (p = J(e, u, l),
                                    g = J(e, c, l)) : 5 === a ? (p = J(e, u, l),
                                    g = J(e, c, l),
                                    f = 1 - J(e, c, h),
                                    d = 1 - J(e, u, h)) : 6 === a ? (f = J(e, h, c),
                                    p = J(e, u, l)) : 7 === a ? (d = 1 - J(e, u, h),
                                    p = J(e, u, l)) : 8 === a ? (d = J(e, h, u),
                                    p = 1 - J(e, l, u)) : 9 === a ? (f = 1 - J(e, c, h),
                                    p = 1 - J(e, l, u)) : 10 === a ? (p = 1 - J(e, l, u),
                                    g = 1 - J(e, l, c),
                                    f = J(e, h, c),
                                    d = J(e, h, u)) : 11 === a ? (p = 1 - J(e, l, u),
                                    g = 1 - J(e, l, c)) : 12 === a ? (d = J(e, h, u),
                                    g = J(e, c, l)) : 13 === a ? (f = 1 - J(e, c, h),
                                    g = J(e, c, l)) : 14 === a && (d = J(e, h, u),
                                    f = J(e, h, c)),
                                    r.cells[o][s] = {
                                        cval: a,
                                        flipped: y,
                                        top: p,
                                        right: g,
                                        bottom: f,
                                        left: d
                                    }
                            }
                        }
                    }
                    return r
                }(t, e));
                return "function" == typeof Lo.successCallback && Lo.successCallback(a),
                a
            }
            function J(t, e, n) {
                return (t - e) / (n - e)
            }
            function tt(t) {
                return 0 === t.cval || 15 === t.cval
            }
            function et(t) {
                tt(t) || 5 === t.cval || 10 === t.cval || (t.cval = 15)
            }
            function nt(t, e) {
                return "top" === e ? [t.top, 1] : "bottom" === e ? [t.bottom, 0] : "right" === e ? [1, t.right] : "left" === e ? [0, t.left] : void 0
            }
            function it(t, e, n) {
                var i = t[e];
                t[e] = t[n],
                t[n] = i
            }
            function rt(t, e) {
                if (!(this instanceof rt))
                    return new rt(t,e);
                this._maxEntries = Math.max(4, t || 9),
                this._minEntries = Math.max(2, Math.ceil(.4 * this._maxEntries)),
                e && this._initFormat(e),
                this.clear()
            }
            function ot(t, e) {
                st(t, 0, t.children.length, e, t)
            }
            function st(t, e, n, i, r) {
                r || (r = dt(null)),
                r.minX = 1 / 0,
                r.minY = 1 / 0,
                r.maxX = -1 / 0,
                r.maxY = -1 / 0;
                for (var o, s = e; s < n; s++)
                    o = t.children[s],
                    at(r, t.leaf ? i(o) : o);
                return r
            }
            function at(t, e) {
                return t.minX = Math.min(t.minX, e.minX),
                t.minY = Math.min(t.minY, e.minY),
                t.maxX = Math.max(t.maxX, e.maxX),
                t.maxY = Math.max(t.maxY, e.maxY),
                t
            }
            function ut(t, e) {
                return t.minX - e.minX
            }
            function lt(t, e) {
                return t.minY - e.minY
            }
            function ct(t) {
                return (t.maxX - t.minX) * (t.maxY - t.minY)
            }
            function ht(t) {
                return t.maxX - t.minX + (t.maxY - t.minY)
            }
            function pt(t, e) {
                return t.minX <= e.minX && t.minY <= e.minY && e.maxX <= t.maxX && e.maxY <= t.maxY
            }
            function ft(t, e) {
                return e.minX <= t.maxX && e.minY <= t.maxY && e.maxX >= t.minX && e.maxY >= t.minY
            }
            function dt(t) {
                return {
                    children: t,
                    height: 1,
                    leaf: !0,
                    minX: 1 / 0,
                    minY: 1 / 0,
                    maxX: -1 / 0,
                    maxY: -1 / 0
                }
            }
            function gt(t, e, n, i, r) {
                for (var o, s = [e, n]; s.length; )
                    (n = s.pop()) - (e = s.pop()) <= i || (o = e + Math.ceil((n - e) / i / 2) * i,
                    So(t, o, e, n, r),
                    s.push(e, o, o, n))
            }
            function yt(t, e) {
                return t(e = {
                    exports: {}
                }, e.exports),
                e.exports
            }
            function vt(t, e) {
                if (!(this instanceof vt))
                    return new vt(t,e);
                if (this.data = t || [],
                this.length = this.data.length,
                this.compare = e || function(t, e) {
                    return t < e ? -1 : t > e ? 1 : 0
                }
                ,
                this.length > 0)
                    for (var n = (this.length >> 1) - 1; n >= 0; n--)
                        this._down(n)
            }
            function mt(t, e, n) {
                e = Math.max(0, void 0 === e ? 2 : e),
                n = n || 0;
                for (var i, r = function(t) {
                    for (var e = t[0], n = t[0], i = t[0], r = t[0], o = 0; o < t.length; o++) {
                        var s = t[o];
                        s[0] < e[0] && (e = s),
                        s[0] > i[0] && (i = s),
                        s[1] < n[1] && (n = s),
                        s[1] > r[1] && (r = s)
                    }
                    var a = [e, n, i, r]
                      , u = a.slice();
                    for (o = 0; o < t.length; o++)
                        Vo(t[o], a) || u.push(t[o]);
                    var l = Fo(u)
                      , c = [];
                    for (o = 0; o < l.length; o++)
                        c.push(u[l[o]]);
                    return c
                }(t), o = No(16, ["[0]", "[1]", "[0]", "[1]"]).load(t), s = [], a = 0; a < r.length; a++) {
                    var u = r[a];
                    o.remove(u),
                    i = bt(u, i),
                    s.push(i)
                }
                var l = No(16);
                for (a = 0; a < s.length; a++)
                    l.insert(wt(s[a]));
                for (var c = e * e, h = n * n; s.length; ) {
                    var p = s.shift()
                      , f = p.p
                      , d = p.next.p
                      , g = xt(f, d);
                    if (!(g < h)) {
                        var y = g / c;
                        (u = function(t, e, n, i, r, o, s) {
                            for (var a = new Bo(null,_t), u = t.data; u; ) {
                                for (var l = 0; l < u.children.length; l++) {
                                    var c = u.children[l]
                                      , h = u.leaf ? It(c, n, i) : function(t, e, n) {
                                        if (Et(t, n) || Et(e, n))
                                            return 0;
                                        var i = Pt(t[0], t[1], e[0], e[1], n.minX, n.minY, n.maxX, n.minY);
                                        if (0 === i)
                                            return 0;
                                        var r = Pt(t[0], t[1], e[0], e[1], n.minX, n.minY, n.minX, n.maxY);
                                        if (0 === r)
                                            return 0;
                                        var o = Pt(t[0], t[1], e[0], e[1], n.maxX, n.minY, n.maxX, n.maxY);
                                        if (0 === o)
                                            return 0;
                                        var s = Pt(t[0], t[1], e[0], e[1], n.minX, n.maxY, n.maxX, n.maxY);
                                        return 0 === s ? 0 : Math.min(i, r, o, s)
                                    }(n, i, c);
                                    h > o || a.push({
                                        node: c,
                                        dist: h
                                    })
                                }
                                for (; a.length && !a.peek().node.children; ) {
                                    var p = a.pop()
                                      , f = p.node
                                      , d = It(f, e, n)
                                      , g = It(f, i, r);
                                    if (p.dist < d && p.dist < g && Ct(n, f, s) && Ct(i, f, s))
                                        return f
                                }
                                (u = a.pop()) && (u = u.node)
                            }
                            return null
                        }(o, p.prev.p, f, d, p.next.next.p, y, l)) && Math.min(xt(u, f), xt(u, d)) <= y && (s.push(p),
                        s.push(bt(u, p)),
                        o.remove(u),
                        l.remove(p),
                        l.insert(wt(p)),
                        l.insert(wt(p.next)))
                    }
                }
                p = i;
                var v = [];
                do {
                    v.push(p.p),
                    p = p.next
                } while (p !== i);
                return v.push(p.p),
                v
            }
            function _t(t, e) {
                return t.dist - e.dist
            }
            function Et(t, e) {
                return t[0] >= e.minX && t[0] <= e.maxX && t[1] >= e.minY && t[1] <= e.maxY
            }
            function Ct(t, e, n) {
                for (var i = Math.min(t[0], e[0]), r = Math.min(t[1], e[1]), o = Math.max(t[0], e[0]), s = Math.max(t[1], e[1]), a = n.search({
                    minX: i,
                    minY: r,
                    maxX: o,
                    maxY: s
                }), u = 0; u < a.length; u++)
                    if (function(t, e, n, i) {
                        return t !== i && e !== n && Uo(t, e, n) > 0 != Uo(t, e, i) > 0 && Uo(n, i, t) > 0 != Uo(n, i, e) > 0
                    }(a[u].p, a[u].next.p, t, e))
                        return !1;
                return !0
            }
            function wt(t) {
                var e = t.p
                  , n = t.next.p;
                return t.minX = Math.min(e[0], n[0]),
                t.minY = Math.min(e[1], n[1]),
                t.maxX = Math.max(e[0], n[0]),
                t.maxY = Math.max(e[1], n[1]),
                t
            }
            function bt(t, e) {
                var n = {
                    p: t,
                    prev: null,
                    next: null,
                    minX: 0,
                    minY: 0,
                    maxX: 0,
                    maxY: 0
                };
                return e ? (n.next = e.next,
                n.prev = e,
                e.next.prev = n,
                e.next = n) : (n.prev = n,
                n.next = n),
                n
            }
            function xt(t, e) {
                var n = t[0] - e[0]
                  , i = t[1] - e[1];
                return n * n + i * i
            }
            function It(t, e, n) {
                var i = e[0]
                  , r = e[1]
                  , o = n[0] - i
                  , s = n[1] - r;
                if (0 !== o || 0 !== s) {
                    var a = ((t[0] - i) * o + (t[1] - r) * s) / (o * o + s * s);
                    a > 1 ? (i = n[0],
                    r = n[1]) : a > 0 && (i += o * a,
                    r += s * a)
                }
                return (o = t[0] - i) * o + (s = t[1] - r) * s
            }
            function Pt(t, e, n, i, r, o, s, a) {
                var u, l, c, h, p = n - t, f = i - e, d = s - r, g = a - o, y = t - r, v = e - o, m = p * p + f * f, _ = p * d + f * g, E = d * d + g * g, C = p * y + f * v, w = d * y + g * v, b = m * E - _ * _, x = b, I = b;
                0 === b ? (l = 0,
                x = 1,
                h = w,
                I = E) : (h = m * w - _ * C,
                (l = _ * w - E * C) < 0 ? (l = 0,
                h = w,
                I = E) : l > x && (l = x,
                h = w + _,
                I = E)),
                h < 0 ? (h = 0,
                -C < 0 ? l = 0 : -C > m ? l = x : (l = -C,
                x = m)) : h > I && (h = I,
                -C + _ < 0 ? l = 0 : -C + _ > m ? l = x : (l = -C + _,
                x = m)),
                u = 0 === l ? 0 : l / x;
                var P = (1 - (c = 0 === h ? 0 : h / I)) * r + c * s - ((1 - u) * t + u * n)
                  , L = (1 - c) * o + c * a - ((1 - u) * e + u * i);
                return P * P + L * L
            }
            function Lt(t, e) {
                if (!x(e = e || {}))
                    throw new Error("options is invalid");
                var n = e.concavity || 1 / 0
                  , i = [];
                if (L(t, function(t) {
                    i.push([t[0], t[1]])
                }),
                !i.length)
                    return null;
                var r = jo(i, n);
                return r.length > 3 ? o([r]) : null
            }
            function St(t, e, n) {
                if ("object" != typeof (n = n || {}))
                    throw new Error("options is invalid");
                var i = n.ignoreBoundary;
                if (!t)
                    throw new Error("point is required");
                if (!e)
                    throw new Error("polygon is required");
                var r = j(t)
                  , o = z(e)
                  , s = e.geometry ? e.geometry.type : e.type
                  , a = e.bbox;
                if (a && !1 === function(t, e) {
                    return e[0] <= t[0] && e[1] <= t[1] && e[2] >= t[0] && e[3] >= t[1]
                }(r, a))
                    return !1;
                "Polygon" === s && (o = [o]);
                for (var u = 0, l = !1; u < o.length && !l; u++)
                    if (Nt(r, o[u][0], i)) {
                        for (var c = !1, h = 1; h < o[u].length && !c; )
                            Nt(r, o[u][h], !i) && (c = !0),
                            h++;
                        c || (l = !0)
                    }
                return l
            }
            function Nt(t, e, n) {
                var i = !1;
                e[0][0] === e[e.length - 1][0] && e[0][1] === e[e.length - 1][1] && (e = e.slice(0, e.length - 1));
                for (var r = 0, o = e.length - 1; r < e.length; o = r++) {
                    var s = e[r][0]
                      , a = e[r][1]
                      , u = e[o][0]
                      , l = e[o][1];
                    if (t[1] * (s - u) + a * (u - t[0]) + l * (t[0] - s) == 0 && (s - t[0]) * (u - t[0]) <= 0 && (a - t[1]) * (l - t[1]) <= 0)
                        return !n;
                    a > t[1] != l > t[1] && t[0] < (u - s) * (t[1] - a) / (l - a) + s && (i = !i)
                }
                return i
            }
            function Mt(t, e) {
                var n = [];
                return D(e, function(e) {
                    T(t, function(t) {
                        St(t, e) && n.push(t)
                    })
                }),
                l(n)
            }
            function Tt(t, e) {
                if ("FeatureCollection" !== t.type)
                    throw new Error("points must be a FeatureCollection");
                var n = !1;
                return l(function(t) {
                    if (t.length < 3)
                        return [];
                    t.sort(At);
                    for (var e, n, i, r, o, s, a = t.length - 1, u = t[a].x, l = t[0].x, c = t[a].y, h = c; a--; )
                        t[a].y < c && (c = t[a].y),
                        t[a].y > h && (h = t[a].y);
                    var p, f = l - u, d = h - c, g = f > d ? f : d, y = .5 * (l + u), v = .5 * (h + c), m = [new Ot({
                        x: y - 20 * g,
                        y: v - g,
                        __sentinel: !0
                    },{
                        x: y,
                        y: v + 20 * g,
                        __sentinel: !0
                    },{
                        x: y + 20 * g,
                        y: v - g,
                        __sentinel: !0
                    })], _ = [], E = [];
                    for (a = t.length; a--; ) {
                        for (E.length = 0,
                        p = m.length; p--; )
                            (f = t[a].x - m[p].x) > 0 && f * f > m[p].r ? (_.push(m[p]),
                            m.splice(p, 1)) : f * f + (d = t[a].y - m[p].y) * d > m[p].r || (E.push(m[p].a, m[p].b, m[p].b, m[p].c, m[p].c, m[p].a),
                            m.splice(p, 1));
                        for (Dt(E),
                        p = E.length; p; )
                            n = E[--p],
                            e = E[--p],
                            i = t[a],
                            r = n.x - e.x,
                            o = n.y - e.y,
                            s = 2 * (r * (i.y - n.y) - o * (i.x - n.x)),
                            Math.abs(s) > 1e-12 && m.push(new Ot(e,n,i))
                    }
                    for (Array.prototype.push.apply(_, m),
                    a = _.length; a--; )
                        (_[a].a.__sentinel || _[a].b.__sentinel || _[a].c.__sentinel) && _.splice(a, 1);
                    return _
                }(t.features.map(function(t) {
                    var i = {
                        x: t.geometry.coordinates[0],
                        y: t.geometry.coordinates[1]
                    };
                    return e ? i.z = t.properties[e] : 3 === t.geometry.coordinates.length && (n = !0,
                    i.z = t.geometry.coordinates[2]),
                    i
                })).map(function(t) {
                    var e = [t.a.x, t.a.y]
                      , i = [t.b.x, t.b.y]
                      , r = [t.c.x, t.c.y]
                      , s = {};
                    return n ? (e.push(t.a.z),
                    i.push(t.b.z),
                    r.push(t.c.z)) : s = {
                        a: t.a.z,
                        b: t.b.z,
                        c: t.c.z
                    },
                    o([[e, i, r, e]], s)
                }))
            }
            function Ot(t, e, n) {
                this.a = t,
                this.b = e,
                this.c = n;
                var i, r, o = e.x - t.x, s = e.y - t.y, a = n.x - t.x, u = n.y - t.y, l = o * (t.x + e.x) + s * (t.y + e.y), c = a * (t.x + n.x) + u * (t.y + n.y), h = 2 * (o * (n.y - e.y) - s * (n.x - e.x));
                this.x = (u * l - s * c) / h,
                this.y = (o * c - a * l) / h,
                i = this.x - t.x,
                r = this.y - t.y,
                this.r = i * i + r * r
            }
            function At(t, e) {
                return e.x - t.x
            }
            function Dt(t) {
                var e, n, i, r, o, s = t.length;
                t: for (; s; )
                    for (n = t[--s],
                    e = t[--s],
                    i = s; i; )
                        if (o = t[--i],
                        r = t[--i],
                        e === r && n === o || e === o && n === r) {
                            t.splice(s, 2),
                            t.splice(i, 2),
                            s -= 2;
                            continue t
                        }
            }
            function Rt(t, e, n) {
                if (!x(n = n || {}))
                    throw new Error("options is invalid");
                var i = n.units
                  , r = j(t)
                  , o = j(e)
                  , s = E(o[1] - r[1])
                  , a = E(o[0] - r[0])
                  , u = E(r[1])
                  , l = E(o[1])
                  , c = Math.pow(Math.sin(s / 2), 2) + Math.pow(Math.sin(a / 2), 2) * Math.cos(u) * Math.cos(l);
                return g(2 * Math.atan2(Math.sqrt(c), Math.sqrt(1 - c)), i)
            }
            function kt(t) {
                if (!t)
                    throw new Error("geojson is required");
                switch (t.type) {
                case "Feature":
                    return Ft(t);
                case "FeatureCollection":
                    return function(t) {
                        var e = {
                            type: "FeatureCollection"
                        };
                        return Object.keys(t).forEach(function(n) {
                            switch (n) {
                            case "type":
                            case "features":
                                return;
                            default:
                                e[n] = t[n]
                            }
                        }),
                        e.features = t.features.map(function(t) {
                            return Ft(t)
                        }),
                        e
                    }(t);
                case "Point":
                case "LineString":
                case "Polygon":
                case "MultiPoint":
                case "MultiLineString":
                case "MultiPolygon":
                case "GeometryCollection":
                    return Gt(t);
                default:
                    throw new Error("unknown GeoJSON type")
                }
            }
            function Ft(t) {
                var e = {
                    type: "Feature"
                };
                return Object.keys(t).forEach(function(n) {
                    switch (n) {
                    case "type":
                    case "properties":
                    case "geometry":
                        return;
                    default:
                        e[n] = t[n]
                    }
                }),
                e.properties = function t(e) {
                    var n = {};
                    return e ? (Object.keys(e).forEach(function(i) {
                        var r = e[i];
                        "object" == typeof r ? null === r ? n[i] = null : r.length ? n[i] = r.map(function(t) {
                            return t
                        }) : n[i] = t(r) : n[i] = r
                    }),
                    n) : n
                }(t.properties),
                e.geometry = Gt(t.geometry),
                e
            }
            function Gt(t) {
                var e = {
                    type: t.type
                };
                return t.bbox && (e.bbox = t.bbox),
                "GeometryCollection" === t.type ? (e.geometries = t.geometries.map(function(t) {
                    return Gt(t)
                }),
                e) : (e.coordinates = function t(e) {
                    return "object" != typeof e[0] ? e.slice() : e.map(function(e) {
                        return t(e)
                    })
                }(t.coordinates),
                e)
            }
            function Bt(t, e) {
                function n(t, e) {
                    e.length && e.pop();
                    for (var n = u[t < 0 ? ~t : t], i = 0, r = n.length; i < r; ++i)
                        e.push(a(n[i], i));
                    t < 0 && Xo(e, r)
                }
                function i(t) {
                    return a(t)
                }
                function r(t) {
                    for (var e = [], i = 0, r = t.length; i < r; ++i)
                        n(t[i], e);
                    return e.length < 2 && e.push(e[0]),
                    e
                }
                function o(t) {
                    for (var e = r(t); e.length < 4; )
                        e.push(e[0]);
                    return e
                }
                function s(t) {
                    return t.map(o)
                }
                var a = Ho(t.transform)
                  , u = t.arcs;
                return function t(e) {
                    var n, o = e.type;
                    switch (o) {
                    case "GeometryCollection":
                        return {
                            type: o,
                            geometries: e.geometries.map(t)
                        };
                    case "Point":
                        n = i(e.coordinates);
                        break;
                    case "MultiPoint":
                        n = e.coordinates.map(i);
                        break;
                    case "LineString":
                        n = r(e.arcs);
                        break;
                    case "MultiLineString":
                        n = e.arcs.map(r);
                        break;
                    case "Polygon":
                        n = s(e.arcs);
                        break;
                    case "MultiPolygon":
                        n = e.arcs.map(s);
                        break;
                    default:
                        return null
                    }
                    return {
                        type: o,
                        coordinates: n
                    }
                }(e)
            }
            function qt(t, e, n) {
                for (var i, r = e + (n-- - e >> 1); e < r; ++e,
                --n)
                    i = t[e],
                    t[e] = t[n],
                    t[n] = i
            }
            function Vt(t) {
                return null == t ? {
                    type: null
                } : ("FeatureCollection" === t.type ? function(t) {
                    var e = {
                        type: "GeometryCollection",
                        geometries: t.features.map(Ut)
                    };
                    return null != t.bbox && (e.bbox = t.bbox),
                    e
                }
                : "Feature" === t.type ? Ut : jt)(t)
            }
            function Ut(t) {
                var e, n = jt(t.geometry);
                for (e in null != t.id && (n.id = t.id),
                null != t.bbox && (n.bbox = t.bbox),
                t.properties) {
                    n.properties = t.properties;
                    break
                }
                return n
            }
            function jt(t) {
                if (null == t)
                    return {
                        type: null
                    };
                var e = "GeometryCollection" === t.type ? {
                    type: "GeometryCollection",
                    geometries: t.geometries.map(jt)
                } : "Point" === t.type || "MultiPoint" === t.type ? {
                    type: t.type,
                    coordinates: t.coordinates
                } : {
                    type: t.type,
                    arcs: t.coordinates
                };
                return null != t.bbox && (e.bbox = t.bbox),
                e
            }
            function zt(t) {
                var e, n = t[0], i = t[1];
                return i < n && (e = n,
                n = i,
                i = e),
                n + 31 * i
            }
            function Yt(t, e) {
                var n, i = t[0], r = t[1], o = e[0], s = e[1];
                return r < i && (n = i,
                i = r,
                r = n),
                s < o && (n = o,
                o = s,
                s = n),
                i === o && r === s
            }
            function Ht(t) {
                return t[0].toString() + "," + t[1].toString()
            }
            function Xt(t, e) {
                if (!x(e = e || {}))
                    throw new Error("options is invalid");
                var n = e.mutate;
                if ("FeatureCollection" !== Z(t))
                    throw new Error("geojson must be a FeatureCollection");
                if (!t.features.length)
                    throw new Error("geojson is empty");
                !1 !== n && void 0 !== n || (t = kt(t));
                var i = function(t) {
                    var e = {};
                    k(t, function(t) {
                        e[t.geometry.type] = !0
                    });
                    var n = Object.keys(e);
                    return 1 === n.length ? n[0] : null
                }(t);
                if (!i)
                    throw new Error("geojson must be homogenous");
                switch (i) {
                case "LineString":
                    return function(t, e) {
                        if (!x(e = e || {}))
                            throw new Error("options is invalid");
                        var n = e.mutate;
                        if ("FeatureCollection" !== Z(t))
                            throw new Error("geojson must be a FeatureCollection");
                        if (!t.features.length)
                            throw new Error("geojson is empty");
                        !1 !== n && void 0 !== n || (t = kt(t));
                        var i = []
                          , r = V(t, function(t, e) {
                            return function(t, e) {
                                var n, i = t.geometry.coordinates, r = e.geometry.coordinates, o = Ht(i[0]), s = Ht(i[i.length - 1]), u = Ht(r[0]), l = Ht(r[r.length - 1]);
                                if (o === l)
                                    n = r.concat(i.slice(1));
                                else if (u === s)
                                    n = i.concat(r.slice(1));
                                else if (o === u)
                                    n = i.slice(1).reverse().concat(r);
                                else {
                                    if (s !== l)
                                        return null;
                                    n = i.concat(r.reverse().slice(1))
                                }
                                return a(n)
                            }(t, e) || (i.push(t),
                            e)
                        });
                        return r && i.push(r),
                        i.length ? 1 === i.length ? i[0] : c(i.map(function(t) {
                            return t.coordinates
                        })) : null
                    }(t, e);
                case "Polygon":
                    return function(t, e) {
                        if (!x(e = e || {}))
                            throw new Error("options is invalid");
                        var n = e.mutate;
                        if ("FeatureCollection" !== Z(t))
                            throw new Error("geojson must be a FeatureCollection");
                        if (!t.features.length)
                            throw new Error("geojson is empty");
                        !1 !== n && void 0 !== n || (t = kt(t));
                        var i = [];
                        k(t, function(t) {
                            i.push(t.geometry)
                        });
                        var r = is({
                            geoms: f(i).geometry
                        });
                        return $o(r, r.objects.geoms.geometries)
                    }(t, e);
                default:
                    throw new Error(i + " is not supported")
                }
            }
            function Wt(t, n) {
                var i = "object" == typeof n ? n.mutate : n;
                if (!t)
                    throw new Error("geojson is required");
                var r = Z(t)
                  , o = [];
                switch (r) {
                case "LineString":
                    o = $t(t);
                    break;
                case "MultiLineString":
                case "Polygon":
                    z(t).forEach(function(t) {
                        o.push($t(t))
                    });
                    break;
                case "MultiPolygon":
                    z(t).forEach(function(t) {
                        var e = [];
                        t.forEach(function(t) {
                            e.push($t(t))
                        }),
                        o.push(e)
                    });
                    break;
                case "Point":
                    return t;
                case "MultiPoint":
                    var s = {};
                    z(t).forEach(function(t) {
                        var e = t.join("-");
                        s.hasOwnProperty(e) || (o.push(t),
                        s[e] = !0)
                    });
                    break;
                default:
                    throw new Error(r + " geometry not supported")
                }
                return t.coordinates ? !0 === i ? (t.coordinates = o,
                t) : {
                    type: r,
                    coordinates: o
                } : !0 === i ? (t.geometry.coordinates = o,
                t) : e({
                    type: r,
                    coordinates: o
                }, t.properties, t.bbox, t.id)
            }
            function $t(t) {
                var e = z(t);
                if (2 === e.length && !function(t, e) {
                    return t[0] === e[0] && t[1] === e[1]
                }(e[0], e[1]))
                    return e;
                var n, i, r, o = [], s = e.length - 1;
                o.push(e[0]);
                for (var a = 1; a < s; a++)
                    n = e[a - 1],
                    i = e[a],
                    function(t, e, n) {
                        var i = n[0]
                          , r = n[1]
                          , o = t[0]
                          , s = t[1]
                          , a = e[0]
                          , u = e[1]
                          , l = a - o
                          , c = u - s;
                        return (i - o) * c - (r - s) * l == 0 && (Math.abs(l) >= Math.abs(c) ? l > 0 ? o <= i && i <= a : a <= i && i <= o : c > 0 ? s <= r && r <= u : u <= r && r <= s)
                    }(n, r = e[a + 1], i) || o.push(i);
                return o.push(r),
                o
            }
            function Kt(t, e) {
                var n = t.x - e.x
                  , i = t.y - e.y;
                return n * n + i * i
            }
            function Zt(t, e, n) {
                var i = e.x
                  , r = e.y
                  , o = n.x - i
                  , s = n.y - r;
                if (0 !== o || 0 !== s) {
                    var a = ((t.x - i) * o + (t.y - r) * s) / (o * o + s * s);
                    a > 1 ? (i = n.x,
                    r = n.y) : a > 0 && (i += o * a,
                    r += s * a)
                }
                return (o = t.x - i) * o + (s = t.y - r) * s
            }
            function Qt(t, e, n) {
                if (t.length <= 2)
                    return t;
                var i = void 0 !== e ? e * e : 1;
                return function(t, e) {
                    var n = t.length - 1
                      , i = [t[0]];
                    return function t(e, n, i, r, o) {
                        for (var s, a = r, u = n + 1; u < i; u++) {
                            var l = Zt(e[u], e[n], e[i]);
                            l > a && (s = u,
                            a = l)
                        }
                        a > r && (s - n > 1 && t(e, n, s, r, o),
                        o.push(e[s]),
                        i - s > 1 && t(e, s, i, r, o))
                    }(t, 0, n, e, i),
                    i.push(t[n]),
                    i
                }(t = n ? t : function(t, e) {
                    for (var n, i = t[0], r = [i], o = 1, s = t.length; o < s; o++)
                        Kt(n = t[o], i) > e && (r.push(n),
                        i = n);
                    return i !== n && r.push(n),
                    r
                }(t, i), i)
            }
            function Jt(t, e, n) {
                return Qt(t.map(function(t) {
                    return {
                        x: t[0],
                        y: t[1],
                        z: t[2]
                    }
                }), e, n).map(function(t) {
                    return t.z ? [t.x, t.y, t.z] : [t.x, t.y]
                })
            }
            function te(t, e, n) {
                return t.map(function(t) {
                    var i = t.map(function(t) {
                        return {
                            x: t[0],
                            y: t[1]
                        }
                    });
                    if (i.length < 4)
                        throw new Error("invalid polygon");
                    for (var r = Qt(i, e, n).map(function(t) {
                        return [t.x, t.y]
                    }); !function(t) {
                        return !(t.length < 3 || 3 === t.length && t[2][0] === t[0][0] && t[2][1] === t[0][1])
                    }(r); )
                        r = Qt(i, e -= .01 * e, n).map(function(t) {
                            return [t.x, t.y]
                        });
                    return r[r.length - 1][0] === r[0][0] && r[r.length - 1][1] === r[0][1] || r.push(r[0]),
                    r
                })
            }
            function ee(t, e) {
                if (!x(e = e || {}))
                    throw new Error("options is invalid");
                var n = e.resolution || 1e4
                  , i = e.sharpness || .85;
                if (!t)
                    throw new Error("line is required");
                if (!b(n))
                    throw new Error("resolution must be an number");
                if (!b(i))
                    throw new Error("sharpness must be an number");
                for (var r = [], o = new rs({
                    points: $(t).coordinates.map(function(t) {
                        return {
                            x: t[0],
                            y: t[1]
                        }
                    }),
                    duration: n,
                    sharpness: i
                }), s = 0; s < o.duration; s += 10) {
                    var u = o.pos(s);
                    Math.floor(s / 100) % 2 == 0 && r.push([u.x, u.y])
                }
                return a(r, t.properties)
            }
            function ne(t) {
                I(t);
                var e = Number(t[0])
                  , n = Number(t[1])
                  , i = Number(t[2])
                  , r = Number(t[3]);
                if (6 === t.length)
                    throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");
                var s = [e, n];
                return o([[s, [i, n], [i, r], [e, r], s]])
            }
            function ie(t) {
                return ne(U(t))
            }
            function re(t) {
                var e = t[0]
                  , n = t[1]
                  , i = t[2]
                  , r = t[3];
                if (Rt(t.slice(0, 2), [i, n]) >= Rt(t.slice(0, 2), [e, r])) {
                    var o = (n + r) / 2;
                    return [e, o - (i - e) / 2, i, o + (i - e) / 2]
                }
                var s = (e + i) / 2;
                return [s - (r - n) / 2, n, s + (r - n) / 2, r]
            }
            function oe(t, e, n, r) {
                if (!x(r = r || {}))
                    throw new Error("options is invalid");
                var o = r.units
                  , s = r.properties
                  , a = j(t)
                  , u = E(a[0])
                  , l = E(a[1])
                  , c = E(n)
                  , h = y(e, o)
                  , p = Math.asin(Math.sin(l) * Math.cos(h) + Math.cos(l) * Math.sin(h) * Math.cos(c));
                return i([_(u + Math.atan2(Math.sin(c) * Math.sin(h) * Math.cos(l), Math.cos(h) - Math.sin(l) * Math.sin(p))), _(p)], s)
            }
            function se(t, e, n) {
                var i = (n = n || {}).steps || 64
                  , r = n.properties;
                if (!t)
                    throw new Error("center is required");
                if (!e)
                    throw new Error("radius is required");
                if ("object" != typeof n)
                    throw new Error("options must be an object");
                if ("number" != typeof i)
                    throw new Error("steps must be a number");
                i = i || 64,
                r = r || t.properties || {};
                for (var s = [], a = 0; a < i; a++)
                    s.push(oe(t, e, -360 * a / i, n).geometry.coordinates);
                return s.push(s[0]),
                o([s], r)
            }
            function ae(t, e, n) {
                if (!x(n = n || {}))
                    throw new Error("options is invalid");
                if (!0 === n.final)
                    return function(t, e) {
                        var n = ae(e, t);
                        return (n + 180) % 360
                    }(t, e);
                var i = j(t)
                  , r = j(e)
                  , o = E(i[0])
                  , s = E(r[0])
                  , a = E(i[1])
                  , u = E(r[1])
                  , l = Math.sin(s - o) * Math.cos(u)
                  , c = Math.cos(a) * Math.sin(u) - Math.sin(a) * Math.cos(u) * Math.cos(s - o);
                return _(Math.atan2(l, c))
            }
            function ue(t, e) {
                if (!x(e = e || {}))
                    throw new Error("options is invalid");
                var n = e.properties;
                if (!t)
                    throw new Error("geojson is required");
                var r = U(t);
                return i([(r[0] + r[2]) / 2, (r[1] + r[3]) / 2], n)
            }
            function le(t, e) {
                var n = 0
                  , r = 0
                  , o = 0;
                return L(t, function(t) {
                    n += t[0],
                    r += t[1],
                    o++
                }, !0),
                i([n / o, r / o], e)
            }
            function ce(t) {
                var e = [];
                return "FeatureCollection" === t.type ? T(t, function(t) {
                    L(t, function(n) {
                        e.push(i(n, t.properties))
                    })
                }) : L(t, function(n) {
                    e.push(i(n, t.properties))
                }),
                l(e)
            }
            function he(t, e, n) {
                n = n || 2;
                var i, r, o, s, a, u, l, c = e && e.length, h = c ? e[0] * n : t.length, p = pe(t, 0, h, n, !0), f = [];
                if (!p)
                    return f;
                if (c && (p = function(t, e, n, i) {
                    var r, o, s, a = [];
                    for (r = 0,
                    o = e.length; r < o; r++)
                        (s = pe(t, e[r] * i, r < o - 1 ? e[r + 1] * i : t.length, i, !1)) === s.next && (s.steiner = !0),
                        a.push(function(t) {
                            var e = t
                              , n = t;
                            do {
                                e.x < n.x && (n = e),
                                e = e.next
                            } while (e !== t);
                            return n
                        }(s));
                    for (a.sort(de),
                    r = 0; r < a.length; r++)
                        !function(t, e) {
                            if (e = function(t, e) {
                                var n, i = e, r = t.x, o = t.y, s = -1 / 0;
                                do {
                                    if (o <= i.y && o >= i.next.y && i.next.y !== i.y) {
                                        var a = i.x + (o - i.y) * (i.next.x - i.x) / (i.next.y - i.y);
                                        if (a <= r && a > s) {
                                            if (s = a,
                                            a === r) {
                                                if (o === i.y)
                                                    return i;
                                                if (o === i.next.y)
                                                    return i.next
                                            }
                                            n = i.x < i.next.x ? i : i.next
                                        }
                                    }
                                    i = i.next
                                } while (i !== e);
                                if (!n)
                                    return null;
                                if (r === s)
                                    return n.prev;
                                var u, l = n, c = n.x, h = n.y, p = 1 / 0;
                                for (i = n.next; i !== l; )
                                    r >= i.x && i.x >= c && r !== i.x && ye(o < h ? r : s, o, c, h, o < h ? s : r, o, i.x, i.y) && ((u = Math.abs(o - i.y) / (r - i.x)) < p || u === p && i.x > n.x) && Ee(i, t) && (n = i,
                                    p = u),
                                    i = i.next;
                                return n
                            }(t, e)) {
                                var n = Ce(e, t);
                                fe(n, n.next)
                            }
                        }(a[r], n),
                        n = fe(n, n.next);
                    return n
                }(t, e, p, n)),
                t.length > 80 * n) {
                    i = o = t[0],
                    r = s = t[1];
                    for (var d = n; d < h; d += n)
                        a = t[d],
                        u = t[d + 1],
                        a < i && (i = a),
                        u < r && (r = u),
                        a > o && (o = a),
                        u > s && (s = u);
                    l = 0 !== (l = Math.max(o - i, s - r)) ? 1 / l : 0
                }
                return function t(e, n, i, r, o, s, a) {
                    if (e) {
                        !a && s && function(t, e, n, i) {
                            var r = t;
                            do {
                                null === r.z && (r.z = ge(r.x, r.y, e, n, i)),
                                r.prevZ = r.prev,
                                r.nextZ = r.next,
                                r = r.next
                            } while (r !== t);
                            r.prevZ.nextZ = null,
                            r.prevZ = null,
                            function(t) {
                                var e, n, i, r, o, s, a, u, l = 1;
                                do {
                                    for (n = t,
                                    t = null,
                                    o = null,
                                    s = 0; n; ) {
                                        for (s++,
                                        i = n,
                                        a = 0,
                                        e = 0; e < l && (a++,
                                        i = i.nextZ); e++)
                                            ;
                                        for (u = l; a > 0 || u > 0 && i; )
                                            0 !== a && (0 === u || !i || n.z <= i.z) ? (r = n,
                                            n = n.nextZ,
                                            a--) : (r = i,
                                            i = i.nextZ,
                                            u--),
                                            o ? o.nextZ = r : t = r,
                                            r.prevZ = o,
                                            o = r;
                                        n = i
                                    }
                                    o.nextZ = null,
                                    l *= 2
                                } while (s > 1)
                            }(r)
                        }(e, r, o, s);
                        for (var u, l, c = e; e.prev !== e.next; )
                            if (u = e.prev,
                            l = e.next,
                            s ? function(t, e, n, i) {
                                var r = t.prev
                                  , o = t
                                  , s = t.next;
                                if (ve(r, o, s) >= 0)
                                    return !1;
                                for (var a = r.x < o.x ? r.x < s.x ? r.x : s.x : o.x < s.x ? o.x : s.x, u = r.y < o.y ? r.y < s.y ? r.y : s.y : o.y < s.y ? o.y : s.y, l = r.x > o.x ? r.x > s.x ? r.x : s.x : o.x > s.x ? o.x : s.x, c = r.y > o.y ? r.y > s.y ? r.y : s.y : o.y > s.y ? o.y : s.y, h = ge(a, u, e, n, i), p = ge(l, c, e, n, i), f = t.nextZ; f && f.z <= p; ) {
                                    if (f !== t.prev && f !== t.next && ye(r.x, r.y, o.x, o.y, s.x, s.y, f.x, f.y) && ve(f.prev, f, f.next) >= 0)
                                        return !1;
                                    f = f.nextZ
                                }
                                for (f = t.prevZ; f && f.z >= h; ) {
                                    if (f !== t.prev && f !== t.next && ye(r.x, r.y, o.x, o.y, s.x, s.y, f.x, f.y) && ve(f.prev, f, f.next) >= 0)
                                        return !1;
                                    f = f.prevZ
                                }
                                return !0
                            }(e, r, o, s) : function(t) {
                                var e = t.prev
                                  , n = t
                                  , i = t.next;
                                if (ve(e, n, i) >= 0)
                                    return !1;
                                for (var r = t.next.next; r !== t.prev; ) {
                                    if (ye(e.x, e.y, n.x, n.y, i.x, i.y, r.x, r.y) && ve(r.prev, r, r.next) >= 0)
                                        return !1;
                                    r = r.next
                                }
                                return !0
                            }(e))
                                n.push(u.i / i),
                                n.push(e.i / i),
                                n.push(l.i / i),
                                be(e),
                                e = l.next,
                                c = l.next;
                            else if ((e = l) === c) {
                                a ? 1 === a ? t(e = function(t, e, n) {
                                    var i = t;
                                    do {
                                        var r = i.prev
                                          , o = i.next.next;
                                        !me(r, o) && _e(r, i, i.next, o) && Ee(r, o) && Ee(o, r) && (e.push(r.i / n),
                                        e.push(i.i / n),
                                        e.push(o.i / n),
                                        be(i),
                                        be(i.next),
                                        i = t = o),
                                        i = i.next
                                    } while (i !== t);
                                    return i
                                }(e, n, i), n, i, r, o, s, 2) : 2 === a && function(e, n, i, r, o, s) {
                                    var a = e;
                                    do {
                                        for (var u = a.next.next; u !== a.prev; ) {
                                            if (a.i !== u.i && function(t, e) {
                                                return t.next.i !== e.i && t.prev.i !== e.i && !function(t, e) {
                                                    var n = t;
                                                    do {
                                                        if (n.i !== t.i && n.next.i !== t.i && n.i !== e.i && n.next.i !== e.i && _e(n, n.next, t, e))
                                                            return !0;
                                                        n = n.next
                                                    } while (n !== t);
                                                    return !1
                                                }(t, e) && Ee(t, e) && Ee(e, t) && function(t, e) {
                                                    var n = t
                                                      , i = !1
                                                      , r = (t.x + e.x) / 2
                                                      , o = (t.y + e.y) / 2;
                                                    do {
                                                        n.y > o != n.next.y > o && n.next.y !== n.y && r < (n.next.x - n.x) * (o - n.y) / (n.next.y - n.y) + n.x && (i = !i),
                                                        n = n.next
                                                    } while (n !== t);
                                                    return i
                                                }(t, e)
                                            }(a, u)) {
                                                var l = Ce(a, u);
                                                return a = fe(a, a.next),
                                                l = fe(l, l.next),
                                                t(a, n, i, r, o, s),
                                                void t(l, n, i, r, o, s)
                                            }
                                            u = u.next
                                        }
                                        a = a.next
                                    } while (a !== e)
                                }(e, n, i, r, o, s) : t(fe(e), n, i, r, o, s, 1);
                                break
                            }
                    }
                }(p, f, n, i, r, l),
                f
            }
            function pe(t, e, n, i, r) {
                var o, s;
                if (r === Ie(t, e, n, i) > 0)
                    for (o = e; o < n; o += i)
                        s = we(o, t[o], t[o + 1], s);
                else
                    for (o = n - i; o >= e; o -= i)
                        s = we(o, t[o], t[o + 1], s);
                return s && me(s, s.next) && (be(s),
                s = s.next),
                s
            }
            function fe(t, e) {
                if (!t)
                    return t;
                e || (e = t);
                var n, i = t;
                do {
                    if (n = !1,
                    i.steiner || !me(i, i.next) && 0 !== ve(i.prev, i, i.next))
                        i = i.next;
                    else {
                        if (be(i),
                        (i = e = i.prev) === i.next)
                            break;
                        n = !0
                    }
                } while (n || i !== e);
                return e
            }
            function de(t, e) {
                return t.x - e.x
            }
            function ge(t, e, n, i, r) {
                return (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = 32767 * (t - n) * r) | t << 8)) | t << 4)) | t << 2)) | t << 1)) | (e = 1431655765 & ((e = 858993459 & ((e = 252645135 & ((e = 16711935 & ((e = 32767 * (e - i) * r) | e << 8)) | e << 4)) | e << 2)) | e << 1)) << 1
            }
            function ye(t, e, n, i, r, o, s, a) {
                return (r - s) * (e - a) - (t - s) * (o - a) >= 0 && (t - s) * (i - a) - (n - s) * (e - a) >= 0 && (n - s) * (o - a) - (r - s) * (i - a) >= 0
            }
            function ve(t, e, n) {
                return (e.y - t.y) * (n.x - e.x) - (e.x - t.x) * (n.y - e.y)
            }
            function me(t, e) {
                return t.x === e.x && t.y === e.y
            }
            function _e(t, e, n, i) {
                return !!(me(t, e) && me(n, i) || me(t, i) && me(n, e)) || ve(t, e, n) > 0 != ve(t, e, i) > 0 && ve(n, i, t) > 0 != ve(n, i, e) > 0
            }
            function Ee(t, e) {
                return ve(t.prev, t, t.next) < 0 ? ve(t, e, t.next) >= 0 && ve(t, t.prev, e) >= 0 : ve(t, e, t.prev) < 0 || ve(t, t.next, e) < 0
            }
            function Ce(t, e) {
                var n = new xe(t.i,t.x,t.y)
                  , i = new xe(e.i,e.x,e.y)
                  , r = t.next
                  , o = e.prev;
                return t.next = e,
                e.prev = t,
                n.next = r,
                r.prev = n,
                i.next = n,
                n.prev = i,
                o.next = i,
                i.prev = o,
                i
            }
            function we(t, e, n, i) {
                var r = new xe(t,e,n);
                return i ? (r.next = i.next,
                r.prev = i,
                i.next.prev = r,
                i.next = r) : (r.prev = r,
                r.next = r),
                r
            }
            function be(t) {
                t.next.prev = t.prev,
                t.prev.next = t.next,
                t.prevZ && (t.prevZ.nextZ = t.nextZ),
                t.nextZ && (t.nextZ.prevZ = t.prevZ)
            }
            function xe(t, e, n) {
                this.i = t,
                this.x = e,
                this.y = n,
                this.prev = null,
                this.next = null,
                this.z = null,
                this.prevZ = null,
                this.nextZ = null,
                this.steiner = !1
            }
            function Ie(t, e, n, i) {
                for (var r = 0, o = e, s = n - i; o < n; o += i)
                    r += (t[s] - t[o]) * (t[o + 1] + t[s + 1]),
                    s = o;
                return r
            }
            function Pe(t) {
                var e = function(t) {
                    for (var e = t[0][0].length, n = {
                        vertices: [],
                        holes: [],
                        dimensions: e
                    }, i = 0, r = 0; r < t.length; r++) {
                        for (var o = 0; o < t[r].length; o++)
                            for (var s = 0; s < e; s++)
                                n.vertices.push(t[r][o][s]);
                        r > 0 && (i += t[r - 1].length,
                        n.holes.push(i))
                    }
                    return n
                }(t)
                  , n = os(e.vertices, e.holes, 2)
                  , i = []
                  , r = [];
                n.forEach(function(t, i) {
                    var o = n[i];
                    r.push([e.vertices[2 * o], e.vertices[2 * o + 1]])
                });
                for (var s = 0; s < r.length; s += 3) {
                    var a = r.slice(s, s + 3);
                    a.push(r[s]),
                    i.push(o([a]))
                }
                return i
            }
            function Le(t, e) {
                if (!t)
                    throw new Error("targetPoint is required");
                if (!e)
                    throw new Error("points is required");
                var n, i = 1 / 0;
                return T(e, function(e, r) {
                    var o = Rt(t, e);
                    o < i && ((n = kt(e)).properties.featureIndex = r,
                    n.properties.distanceToPoint = o,
                    i = o)
                }),
                n
            }
            function Se(t, e, n, i, r) {
                !function t(e, n, i, r, o) {
                    for (; r > i; ) {
                        if (r - i > 600) {
                            var s = r - i + 1
                              , a = n - i + 1
                              , u = Math.log(s)
                              , l = .5 * Math.exp(2 * u / 3)
                              , c = .5 * Math.sqrt(u * l * (s - l) / s) * (a - s / 2 < 0 ? -1 : 1);
                            t(e, n, Math.max(i, Math.floor(n - a * l / s + c)), Math.min(r, Math.floor(n + (s - a) * l / s + c)), o)
                        }
                        var h = e[n]
                          , p = i
                          , f = r;
                        for (Ne(e, i, n),
                        o(e[r], h) > 0 && Ne(e, i, r); p < f; ) {
                            for (Ne(e, p, f),
                            p++,
                            f--; o(e[p], h) < 0; )
                                p++;
                            for (; o(e[f], h) > 0; )
                                f--
                        }
                        0 === o(e[i], h) ? Ne(e, i, f) : Ne(e, ++f, r),
                        f <= n && (i = f + 1),
                        n <= f && (r = f - 1)
                    }
                }(t, e, n || 0, i || t.length - 1, r || function(t, e) {
                    return t < e ? -1 : t > e ? 1 : 0
                }
                )
            }
            function Ne(t, e, n) {
                var i = t[e];
                t[e] = t[n],
                t[n] = i
            }
            function Me(t, e) {
                if (!(this instanceof Me))
                    return new Me(t,e);
                this._maxEntries = Math.max(4, t || 9),
                this._minEntries = Math.max(2, Math.ceil(.4 * this._maxEntries)),
                e && this._initFormat(e),
                this.clear()
            }
            function Te(t, e) {
                Oe(t, 0, t.children.length, e, t)
            }
            function Oe(t, e, n, i, r) {
                r || (r = qe(null)),
                r.minX = 1 / 0,
                r.minY = 1 / 0,
                r.maxX = -1 / 0,
                r.maxY = -1 / 0;
                for (var o, s = e; s < n; s++)
                    o = t.children[s],
                    Ae(r, t.leaf ? i(o) : o);
                return r
            }
            function Ae(t, e) {
                return t.minX = Math.min(t.minX, e.minX),
                t.minY = Math.min(t.minY, e.minY),
                t.maxX = Math.max(t.maxX, e.maxX),
                t.maxY = Math.max(t.maxY, e.maxY),
                t
            }
            function De(t, e) {
                return t.minX - e.minX
            }
            function Re(t, e) {
                return t.minY - e.minY
            }
            function ke(t) {
                return (t.maxX - t.minX) * (t.maxY - t.minY)
            }
            function Fe(t) {
                return t.maxX - t.minX + (t.maxY - t.minY)
            }
            function Ge(t, e) {
                return t.minX <= e.minX && t.minY <= e.minY && e.maxX <= t.maxX && e.maxY <= t.maxY
            }
            function Be(t, e) {
                return e.minX <= t.maxX && e.minY <= t.maxY && e.maxX >= t.minX && e.maxY >= t.minY
            }
            function qe(t) {
                return {
                    children: t,
                    height: 1,
                    leaf: !0,
                    minX: 1 / 0,
                    minY: 1 / 0,
                    maxX: -1 / 0,
                    maxY: -1 / 0
                }
            }
            function Ve(t, e, n, i, r) {
                for (var o, s = [e, n]; s.length; )
                    (n = s.pop()) - (e = s.pop()) <= i || (Se(t, o = e + Math.ceil((n - e) / i / 2) * i, e, n, r),
                    s.push(e, o, o, n))
            }
            function Ue(t) {
                var e = Me(t);
                return e.insert = function(t) {
                    if (Array.isArray(t)) {
                        var e = t;
                        (t = je(e)).bbox = e
                    } else
                        t.bbox = t.bbox ? t.bbox : ze(t);
                    return Me.prototype.insert.call(this, t)
                }
                ,
                e.load = function(t) {
                    var e = [];
                    return Array.isArray(t) ? t.forEach(function(t) {
                        var n = je(t);
                        n.bbox = t,
                        e.push(n)
                    }) : T(t, function(t) {
                        t.bbox = t.bbox ? t.bbox : ze(t),
                        e.push(t)
                    }),
                    Me.prototype.load.call(this, e)
                }
                ,
                e.remove = function(t) {
                    if (Array.isArray(t)) {
                        var e = t;
                        (t = je(e)).bbox = e
                    }
                    return Me.prototype.remove.call(this, t)
                }
                ,
                e.clear = function() {
                    return Me.prototype.clear.call(this)
                }
                ,
                e.search = function(t) {
                    return {
                        type: "FeatureCollection",
                        features: Me.prototype.search.call(this, this.toBBox(t))
                    }
                }
                ,
                e.collides = function(t) {
                    return Me.prototype.collides.call(this, this.toBBox(t))
                }
                ,
                e.all = function() {
                    return {
                        type: "FeatureCollection",
                        features: Me.prototype.all.call(this)
                    }
                }
                ,
                e.toJSON = function() {
                    return Me.prototype.toJSON.call(this)
                }
                ,
                e.fromJSON = function(t) {
                    return Me.prototype.fromJSON.call(this, t)
                }
                ,
                e.toBBox = function(t) {
                    var e;
                    return {
                        minX: (e = t.bbox ? t.bbox : Array.isArray(t) && 4 === t.length ? t : ze(t))[0],
                        minY: e[1],
                        maxX: e[2],
                        maxY: e[3]
                    }
                }
                ,
                e
            }
            function je(t) {
                var e = [t[0], t[1]]
                  , n = [t[0], t[3]]
                  , i = [t[2], t[3]];
                return {
                    type: "Feature",
                    bbox: t,
                    properties: {},
                    geometry: {
                        type: "Polygon",
                        coordinates: [[e, [t[2], t[1]], i, n, e]]
                    }
                }
            }
            function ze(t) {
                var e = [1 / 0, 1 / 0, -1 / 0, -1 / 0];
                return L(t, function(t) {
                    e[0] > t[0] && (e[0] = t[0]),
                    e[1] > t[1] && (e[1] = t[1]),
                    e[2] < t[0] && (e[2] = t[0]),
                    e[3] < t[1] && (e[3] = t[1])
                }),
                e
            }
            function Ye(t) {
                if (!t)
                    throw new Error("geojson is required");
                var e = [];
                return k(t, function(t) {
                    !function(t, e) {
                        var n = []
                          , i = t.geometry;
                        switch (i.type) {
                        case "Polygon":
                            n = z(i);
                            break;
                        case "LineString":
                            n = [z(i)]
                        }
                        n.forEach(function(n) {
                            (function(t, e) {
                                var n = [];
                                return t.reduce(function(t, i) {
                                    var r = a([t, i], e);
                                    return r.bbox = function(t, e) {
                                        var n = t[0]
                                          , i = t[1]
                                          , r = e[0]
                                          , o = e[1];
                                        return [n < r ? n : r, i < o ? i : o, n > r ? n : r, i > o ? i : o]
                                    }(t, i),
                                    n.push(r),
                                    i
                                }),
                                n
                            }
                            )(n, t.properties).forEach(function(t) {
                                t.id = e.length,
                                e.push(t)
                            })
                        })
                    }(t, e)
                }),
                l(e)
            }
            function He(t, n) {
                var i = {}
                  , r = [];
                if ("LineString" === t.type && (t = e(t)),
                "LineString" === n.type && (n = e(n)),
                "Feature" === t.type && "Feature" === n.type && "LineString" === t.geometry.type && "LineString" === n.geometry.type && 2 === t.geometry.coordinates.length && 2 === n.geometry.coordinates.length) {
                    var o = Xe(t, n);
                    return o && r.push(o),
                    l(r)
                }
                var s = Ue();
                return s.load(Ye(n)),
                T(Ye(t), function(t) {
                    T(s.search(t), function(e) {
                        var n = Xe(t, e);
                        if (n) {
                            var o = z(n).join(",");
                            i[o] || (i[o] = !0,
                            r.push(n))
                        }
                    })
                }),
                l(r)
            }
            function Xe(t, e) {
                var n = z(t)
                  , r = z(e);
                if (2 !== n.length)
                    throw new Error("<intersects> line1 must only contain 2 coordinates");
                if (2 !== r.length)
                    throw new Error("<intersects> line2 must only contain 2 coordinates");
                var o = n[0][0]
                  , s = n[0][1]
                  , a = n[1][0]
                  , u = n[1][1]
                  , l = r[0][0]
                  , c = r[0][1]
                  , h = r[1][0]
                  , p = r[1][1]
                  , f = (p - c) * (a - o) - (h - l) * (u - s)
                  , d = (h - l) * (s - c) - (p - c) * (o - l)
                  , g = (a - o) * (s - c) - (u - s) * (o - l);
                if (0 === f)
                    return null;
                var y = d / f
                  , v = g / f;
                return y >= 0 && y <= 1 && v >= 0 && v <= 1 ? i([o + y * (a - o), s + y * (u - s)]) : null
            }
            function We(t, e, n) {
                if (!x(n = n || {}))
                    throw new Error("options is invalid");
                var r = t.geometry ? t.geometry.type : t.type;
                if ("LineString" !== r && "MultiLineString" !== r)
                    throw new Error("lines must be LineString or MultiLineString");
                var o = i([1 / 0, 1 / 0], {
                    dist: 1 / 0
                })
                  , s = 0;
                return k(t, function(t) {
                    for (var r = z(t), u = 0; u < r.length - 1; u++) {
                        var l = i(r[u]);
                        l.properties.dist = Rt(e, l, n);
                        var c = i(r[u + 1]);
                        c.properties.dist = Rt(e, c, n);
                        var h = Rt(l, c, n)
                          , p = Math.max(l.properties.dist, c.properties.dist)
                          , f = ae(l, c)
                          , d = oe(e, p, f + 90, n)
                          , g = oe(e, p, f - 90, n)
                          , y = He(a([d.geometry.coordinates, g.geometry.coordinates]), a([l.geometry.coordinates, c.geometry.coordinates]))
                          , v = null;
                        y.features.length > 0 && ((v = y.features[0]).properties.dist = Rt(e, v, n),
                        v.properties.location = s + Rt(l, v, n)),
                        l.properties.dist < o.properties.dist && ((o = l).properties.index = u,
                        o.properties.location = s),
                        c.properties.dist < o.properties.dist && ((o = c).properties.index = u + 1,
                        o.properties.location = s + h),
                        v && v.properties.dist < o.properties.dist && ((o = v).properties.index = u),
                        s += h
                    }
                }),
                o
            }
            function $e(t, e, n) {
                if (!x(n = n || {}))
                    throw new Error("options is invalid");
                var i, r = n.final;
                if (!t)
                    throw new Error("start point is required");
                if (!e)
                    throw new Error("end point is required");
                return (i = r ? Ke(j(e), j(t)) : Ke(j(t), j(e))) > 180 ? -(360 - i) : i
            }
            function Ke(t, e) {
                var n = E(t[1])
                  , i = E(e[1])
                  , r = E(e[0] - t[0]);
                r > Math.PI && (r -= 2 * Math.PI),
                r < -Math.PI && (r += 2 * Math.PI);
                var o = Math.log(Math.tan(i / 2 + Math.PI / 4) / Math.tan(n / 2 + Math.PI / 4));
                return (_(Math.atan2(r, o)) + 360) % 360
            }
            function Ze(t, e, n) {
                if (!x(n = n || {}))
                    throw new Error("options is invalid");
                var i = n.units;
                if (!t)
                    throw new Error("from point is required");
                if (!e)
                    throw new Error("to point is required");
                var r = j(t)
                  , o = j(e);
                return o[0] += o[0] - r[0] > 180 ? -360 : r[0] - o[0] > 180 ? 360 : 0,
                C(function(t, e, n) {
                    var i = n = void 0 === n ? _o : Number(n)
                      , r = t[1] * Math.PI / 180
                      , o = e[1] * Math.PI / 180
                      , s = o - r
                      , a = Math.abs(e[0] - t[0]) * Math.PI / 180;
                    a > Math.PI && (a -= 2 * Math.PI);
                    var u = Math.log(Math.tan(o / 2 + Math.PI / 4) / Math.tan(r / 2 + Math.PI / 4))
                      , l = Math.abs(u) > 1e-11 ? s / u : Math.cos(r);
                    return Math.sqrt(s * s + l * l * a * a) * i
                }(r, o), "meters", i)
            }
            function Qe(t, e) {
                return tn(t, "mercator", e)
            }
            function Je(t, e) {
                return tn(t, "wgs84", e)
            }
            function tn(t, e, n) {
                if (!x(n = n || {}))
                    throw new Error("options is invalid");
                var i = n.mutate;
                if (!t)
                    throw new Error("geojson is required");
                return Array.isArray(t) && b(t[0]) ? t = "mercator" === e ? en(t) : nn(t) : (!0 !== i && (t = kt(t)),
                L(t, function(t) {
                    var n = "mercator" === e ? en(t) : nn(t);
                    t[0] = n[0],
                    t[1] = n[1]
                })),
                t
            }
            function en(t) {
                var e = Math.PI / 180
                  , n = 20037508.342789244
                  , i = [6378137 * (Math.abs(t[0]) <= 180 ? t[0] : t[0] - 360 * function(t) {
                    return t < 0 ? -1 : t > 0 ? 1 : 0
                }(t[0])) * e, 6378137 * Math.log(Math.tan(.25 * Math.PI + .5 * t[1] * e))];
                return i[0] > n && (i[0] = n),
                i[0] < -n && (i[0] = -n),
                i[1] > n && (i[1] = n),
                i[1] < -n && (i[1] = -n),
                i
            }
            function nn(t) {
                var e = 180 / Math.PI;
                return [t[0] * e / 6378137, (.5 * Math.PI - 2 * Math.atan(Math.exp(-t[1] / 6378137))) * e]
            }
            function rn(t, n, r) {
                if (!x(r = r || {}))
                    throw new Error("options is invalid");
                if (!t)
                    throw new Error("pt is required");
                if (Array.isArray(t) ? t = i(t) : "Point" === t.type ? t = e(t) : X(t, "Point", "point"),
                !n)
                    throw new Error("line is required");
                Array.isArray(n) ? n = a(n) : "LineString" === n.type ? n = e(n) : X(n, "LineString", "line");
                var o = 1 / 0
                  , s = t.geometry.coordinates;
                return G(n, function(t) {
                    var e = t.geometry.coordinates[0]
                      , n = t.geometry.coordinates[1]
                      , a = function(t, e, n, r) {
                        var o = r.mercator
                          , s = !0 !== o ? Rt(e, t, r) : on(e, t, r)
                          , a = m(!0 !== o ? ae(e, t) : $e(e, t))
                          , u = m(!0 !== o ? ae(e, n) : $e(e, n))
                          , l = Math.abs(a - u);
                        if (l > 90)
                            return s;
                        var c = (u + 180) % 360
                          , h = m(!0 !== o ? ae(n, t) : $e(n, t))
                          , p = Math.abs(h - c);
                        return p > 180 && (p = Math.abs(p - 360)),
                        p > 90 ? !0 !== o ? Rt(t, n, r) : on(t, n, r) : !0 !== o ? s * Math.sin(E(l)) : function(t, e, n, r) {
                            var o = 0;
                            (Math.abs(t[0]) >= 180 || Math.abs(e[0]) >= 180 || Math.abs(n[0]) >= 180) && (o = t[0] > 0 || e[0] > 0 || n[0] > 0 ? -180 : 180);
                            var s = i(n)
                              , a = Je(function(t, e, n) {
                                var i = t[0]
                                  , r = t[1]
                                  , o = e[0] - i
                                  , s = e[1] - r
                                  , a = ((n[0] - i) * o + (n[1] - r) * s) / (o * o + s * s);
                                return [i + a * o, r + a * s]
                            }(Qe([t[0] + o, t[1]]), Qe([e[0] + o, e[1]]), Qe([n[0] + o, n[1]])));
                            return 0 !== o && (a[0] -= o),
                            Ze(s, a, r)
                        }(e, n, t, r)
                    }(s, e, n, r);
                    o > a && (o = a)
                }),
                o
            }
            function on(t, e, n) {
                var i = n.units
                  , r = 0;
                Math.abs(t[0]) >= 180 && (r = t[0] > 0 ? -180 : 180),
                Math.abs(e[0]) >= 180 && (r = e[0] > 0 ? -180 : 180);
                var o = Qe([t[0] + r, t[1]])
                  , s = Qe([e[0] + r, e[1]])
                  , a = function(t) {
                    return t * t
                }
                  , u = a(o[0] - s[0]) + a(o[1] - s[1]);
                return C(Math.sqrt(u), "meters", i)
            }
            function sn(t) {
                for (var n = function(t) {
                    return "FeatureCollection" !== t.type ? "Feature" !== t.type ? l([e(t)]) : l([t]) : t
                }(t), r = ue(n), o = !1, s = 0; !o && s < n.features.length; ) {
                    var a, u = n.features[s].geometry, c = !1;
                    if ("Point" === u.type)
                        r.geometry.coordinates[0] === u.coordinates[0] && r.geometry.coordinates[1] === u.coordinates[1] && (o = !0);
                    else if ("MultiPoint" === u.type) {
                        var h = !1;
                        for (a = 0; !h && a < u.coordinates.length; )
                            r.geometry.coordinates[0] === u.coordinates[a][0] && r.geometry.coordinates[1] === u.coordinates[a][1] && (o = !0,
                            h = !0),
                            a++
                    } else if ("LineString" === u.type)
                        for (a = 0; !c && a < u.coordinates.length - 1; )
                            an(r.geometry.coordinates[0], r.geometry.coordinates[1], u.coordinates[a][0], u.coordinates[a][1], u.coordinates[a + 1][0], u.coordinates[a + 1][1]) && (c = !0,
                            o = !0),
                            a++;
                    else if ("MultiLineString" === u.type)
                        for (var p = 0; p < u.coordinates.length; ) {
                            c = !1,
                            a = 0;
                            for (var f = u.coordinates[p]; !c && a < f.length - 1; )
                                an(r.geometry.coordinates[0], r.geometry.coordinates[1], f[a][0], f[a][1], f[a + 1][0], f[a + 1][1]) && (c = !0,
                                o = !0),
                                a++;
                            p++
                        }
                    else
                        "Polygon" !== u.type && "MultiPolygon" !== u.type || St(r, u) && (o = !0);
                    s++
                }
                if (o)
                    return r;
                var d = l([]);
                for (s = 0; s < n.features.length; s++)
                    d.features = d.features.concat(ce(n.features[s]).features);
                return i(Le(r, d).geometry.coordinates)
            }
            function an(t, e, n, i, r, o) {
                return Math.sqrt((r - n) * (r - n) + (o - i) * (o - i)) === Math.sqrt((t - n) * (t - n) + (e - i) * (e - i)) + Math.sqrt((r - t) * (r - t) + (o - e) * (o - e))
            }
            function un(t) {
                return R(t, function(t, e) {
                    return t + function t(e) {
                        var n, i = 0;
                        switch (e.type) {
                        case "Polygon":
                            return ln(e.coordinates);
                        case "MultiPolygon":
                            for (n = 0; n < e.coordinates.length; n++)
                                i += ln(e.coordinates[n]);
                            return i;
                        case "Point":
                        case "MultiPoint":
                        case "LineString":
                        case "MultiLineString":
                            return 0;
                        case "GeometryCollection":
                            for (n = 0; n < e.geometries.length; n++)
                                i += t(e.geometries[n]);
                            return i
                        }
                    }(e)
                }, 0)
            }
            function ln(t) {
                var e = 0;
                if (t && t.length > 0) {
                    e += Math.abs(cn(t[0]));
                    for (var n = 1; n < t.length; n++)
                        e -= Math.abs(cn(t[n]))
                }
                return e
            }
            function cn(t) {
                var e, n, i, r, o, s, a = 0, u = t.length;
                if (u > 2) {
                    for (s = 0; s < u; s++)
                        s === u - 2 ? (i = u - 2,
                        r = u - 1,
                        o = 0) : s === u - 1 ? (i = u - 1,
                        r = 0,
                        o = 1) : (i = s,
                        r = s + 1,
                        o = s + 2),
                        e = t[i],
                        n = t[r],
                        a += (hn(t[o][0]) - hn(e[0])) * Math.sin(hn(n[1]));
                    a = a * us * us / 2
                }
                return a
            }
            function hn(t) {
                return t * Math.PI / 180
            }
            function pn(t, e) {
                if (!x(e = e || {}))
                    throw new Error("options is invalid");
                if (!t)
                    throw new Error("geojson is required");
                return B(t, function(t, n) {
                    var i = n.geometry.coordinates;
                    return t + Rt(i[0], i[1], e)
                }, 0)
            }
            function fn(t, e, n, i) {
                if (!x(i = i || {}))
                    throw new Error("options is invalid");
                var r, o = [];
                if ("Feature" === t.type)
                    r = t.geometry.coordinates;
                else {
                    if ("LineString" !== t.type)
                        throw new Error("input must be a LineString Feature or Geometry");
                    r = t.coordinates
                }
                for (var s, u, l, c = 0, h = 0; h < r.length && !(e >= c && h === r.length - 1); h++) {
                    if (c > e && 0 === o.length) {
                        if (!(s = e - c))
                            return o.push(r[h]),
                            a(o);
                        u = ae(r[h], r[h - 1]) - 180,
                        l = oe(r[h], s, u, i),
                        o.push(l.geometry.coordinates)
                    }
                    if (c >= n)
                        return (s = n - c) ? (u = ae(r[h], r[h - 1]) - 180,
                        l = oe(r[h], s, u, i),
                        o.push(l.geometry.coordinates),
                        a(o)) : (o.push(r[h]),
                        a(o));
                    if (c >= e && o.push(r[h]),
                    h === r.length - 1)
                        return a(o);
                    c += Rt(r[h], r[h + 1], i)
                }
                return a(r[r.length - 1])
            }
            function dn(t, e, n) {
                var i = (n = n || {}).ignoreEndVertices;
                if (!x(n))
                    throw new Error("invalid options");
                if (!t)
                    throw new Error("pt is required");
                if (!e)
                    throw new Error("line is required");
                for (var r = j(t), o = z(e), s = 0; s < o.length - 1; s++) {
                    var a = !1;
                    if (i && (0 === s && (a = "start"),
                    s === o.length - 2 && (a = "end"),
                    0 === s && s + 1 === o.length - 1 && (a = "both")),
                    function(t, e, n, i) {
                        var r = n[0]
                          , o = n[1]
                          , s = t[0]
                          , a = t[1]
                          , u = e[0]
                          , l = e[1]
                          , c = u - s
                          , h = l - a;
                        return (n[0] - s) * h - (n[1] - a) * c == 0 && (i ? "start" === i ? Math.abs(c) >= Math.abs(h) ? c > 0 ? s < r && r <= u : u <= r && r < s : h > 0 ? a < o && o <= l : l <= o && o < a : "end" === i ? Math.abs(c) >= Math.abs(h) ? c > 0 ? s <= r && r < u : u < r && r <= s : h > 0 ? a <= o && o < l : l < o && o <= a : "both" === i ? Math.abs(c) >= Math.abs(h) ? c > 0 ? s < r && r < u : u < r && r < s : h > 0 ? a < o && o < l : l < o && o < a : void 0 : Math.abs(c) >= Math.abs(h) ? c > 0 ? s <= r && r <= u : u <= r && r <= s : h > 0 ? a <= o && o <= l : l <= o && o <= a)
                    }(o[s], o[s + 1], r, a))
                        return !0
                }
                return !1
            }
            function gn(t, e) {
                var n = Z(t)
                  , i = Z(e)
                  , r = $(t)
                  , o = $(e);
                switch (n) {
                case "Point":
                    switch (i) {
                    case "MultiPoint":
                        return function(t, e) {
                            var n, i = !1;
                            for (n = 0; n < e.coordinates.length; n++)
                                if (vn(e.coordinates[n], t.coordinates)) {
                                    i = !0;
                                    break
                                }
                            return i
                        }(r, o);
                    case "LineString":
                        return dn(r, o, {
                            ignoreEndVertices: !0
                        });
                    case "Polygon":
                        return St(r, o, {
                            ignoreBoundary: !0
                        });
                    default:
                        throw new Error("feature2 " + i + " geometry not supported")
                    }
                case "MultiPoint":
                    switch (i) {
                    case "MultiPoint":
                        return function(t, e) {
                            for (var n = 0; n < t.coordinates.length; n++) {
                                for (var i = !1, r = 0; r < e.coordinates.length; r++)
                                    vn(t.coordinates[n], e.coordinates[r]) && (i = !0);
                                if (!i)
                                    return !1
                            }
                            return !0
                        }(r, o);
                    case "LineString":
                        return function(t, e) {
                            for (var n = !1, i = 0; i < t.coordinates.length; i++) {
                                if (!dn(t.coordinates[i], e))
                                    return !1;
                                n || (n = dn(t.coordinates[i], e, {
                                    ignoreEndVertices: !0
                                }))
                            }
                            return n
                        }(r, o);
                    case "Polygon":
                        return function(t, e) {
                            for (var n = !0, i = 0; i < t.coordinates.length; i++) {
                                var r = St(t.coordinates[1], e);
                                if (!r) {
                                    n = !1;
                                    break
                                }
                                r = St(t.coordinates[1], e, {
                                    ignoreBoundary: !0
                                })
                            }
                            return n && r
                        }(r, o);
                    default:
                        throw new Error("feature2 " + i + " geometry not supported")
                    }
                case "LineString":
                    switch (i) {
                    case "LineString":
                        return function(t, e) {
                            for (var n = 0; n < t.coordinates.length; n++)
                                if (!dn(t.coordinates[n], e))
                                    return !1;
                            return !0
                        }(r, o);
                    case "Polygon":
                        return function(t, e) {
                            if (!yn(U(e), U(t)))
                                return !1;
                            for (var n = !1, i = 0; i < t.coordinates.length - 1; i++) {
                                if (!St(t.coordinates[i], e))
                                    return !1;
                                if (n || (n = St(t.coordinates[i], e, {
                                    ignoreBoundary: !0
                                })),
                                !n)
                                    n = St(function(t, e) {
                                        return [(t[0] + e[0]) / 2, (t[1] + e[1]) / 2]
                                    }(t.coordinates[i], t.coordinates[i + 1]), e, {
                                        ignoreBoundary: !0
                                    })
                            }
                            return n
                        }(r, o);
                    default:
                        throw new Error("feature2 " + i + " geometry not supported")
                    }
                case "Polygon":
                    switch (i) {
                    case "Polygon":
                        return function(t, e) {
                            var n = U(t);
                            if (!yn(U(e), n))
                                return !1;
                            for (var i = 0; i < t.coordinates[0].length; i++)
                                if (!St(t.coordinates[0][i], e))
                                    return !1;
                            return !0
                        }(r, o);
                    default:
                        throw new Error("feature2 " + i + " geometry not supported")
                    }
                default:
                    throw new Error("feature1 " + n + " geometry not supported")
                }
            }
            function yn(t, e) {
                return !(t[0] > e[0] || t[2] < e[2] || t[1] > e[1] || t[3] < e[3])
            }
            function vn(t, e) {
                return t[0] === e[0] && t[1] === e[1]
            }
            function mn(t, e, n) {
                if (!x(n = n || {}))
                    throw new Error("options is invalid");
                var r = n.mask
                  , o = n.properties
                  , s = [];
                if (null === e || void 0 === e)
                    throw new Error("cellSide is required");
                if (!b(e))
                    throw new Error("cellSide is invalid");
                if (!t)
                    throw new Error("bbox is required");
                if (!Array.isArray(t))
                    throw new Error("bbox must be array");
                if (4 !== t.length)
                    throw new Error("bbox must contain 4 numbers");
                if (r && -1 === ["Polygon", "MultiPolygon"].indexOf(Z(r)))
                    throw new Error("options.mask must be a (Multi)Polygon");
                for (var a = t[0], u = t[1], c = t[2], h = t[3], p = e / Rt([a, u], [c, u], n) * (c - a), f = e / Rt([a, u], [a, h], n) * (h - u), d = c - a, g = h - u, y = Math.floor(d / p), v = (g - Math.floor(g / f) * f) / 2, m = a + (d - y * p) / 2; m <= c; ) {
                    for (var _ = u + v; _ <= h; ) {
                        var E = i([m, _], o);
                        r ? gn(E, r) && s.push(E) : s.push(E),
                        _ += f
                    }
                    m += p
                }
                return l(s)
            }
            function _n(t, e) {
                if (!x(e = e || {}))
                    throw new Error("options is invalid");
                var n = e.precision
                  , i = e.coordinates
                  , r = e.mutate;
                if (n = void 0 === n || null === n || isNaN(n) ? 6 : n,
                i = void 0 === i || null === i || isNaN(i) ? 3 : i,
                !t)
                    throw new Error("<geojson> is required");
                if ("number" != typeof n)
                    throw new Error("<precision> must be a number");
                if ("number" != typeof i)
                    throw new Error("<coordinates> must be a number");
                !1 !== r && void 0 !== r || (t = JSON.parse(JSON.stringify(t)));
                var o = Math.pow(10, n);
                return L(t, function(t) {
                    !function(t, e, n) {
                        t.length > n && t.splice(n, t.length);
                        for (var i = 0; i < t.length; i++)
                            t[i] = Math.round(t[i] * e) / e
                    }(t, o, i)
                }),
                t
            }
            function En(t, e) {
                if (!t || !e)
                    return !1;
                if (t.length !== e.length)
                    return !1;
                for (var n = 0, i = t.length; n < i; n++)
                    if (t[n]instanceof Array && e[n]instanceof Array) {
                        if (!En(t[n], e[n]))
                            return !1
                    } else if (t[n] !== e[n])
                        return !1;
                return !0
            }
            function Cn(t, e) {
                if (void 0 === e && (e = !0),
                3 != t.length)
                    throw new Error("This function requires an array of three points [x,y]");
                return (t[1][0] - t[0][0]) * (t[2][1] - t[0][1]) - (t[1][1] - t[0][1]) * (t[2][0] - t[0][0]) >= 0 == e
            }
            function wn(t, e) {
                if (!t || !e)
                    return !1;
                if (t.length != e.length)
                    return !1;
                for (var n = 0, i = t.length; n < i; n++)
                    if (t[n]instanceof Array && e[n]instanceof Array) {
                        if (!wn(t[n], e[n]))
                            return !1
                    } else if (t[n] != e[n])
                        return !1;
                return !0
            }
            function bn(t, e) {
                var n = []
                  , i = Ue();
                return k(e, function(e) {
                    if (n.forEach(function(t, e) {
                        t.id = e
                    }),
                    n.length) {
                        var r = i.search(e);
                        if (r.features.length) {
                            var o = In(e, r);
                            n = n.filter(function(t) {
                                return t.id !== o.id
                            }),
                            i.remove(o),
                            T(xn(o, e), function(t) {
                                n.push(t),
                                i.insert(t)
                            })
                        }
                    } else
                        (n = xn(t, e).features).forEach(function(t) {
                            t.bbox || (t.bbox = re(U(t)))
                        }),
                        i.load(l(n))
                }),
                l(n)
            }
            function xn(t, e) {
                var n = []
                  , i = z(t)[0]
                  , r = z(t)[t.geometry.coordinates.length - 1];
                if (Pn(i, j(e)) || Pn(r, j(e)))
                    return l([t]);
                var o = Ue()
                  , s = Ye(t);
                o.load(s);
                var u = o.search(e);
                if (!u.features.length)
                    return l([t]);
                var c = In(e, u)
                  , h = O(s, function(t, i, r) {
                    var o = z(i)[1]
                      , s = j(e);
                    return r === c.id ? (t.push(s),
                    n.push(a(t)),
                    Pn(s, o) ? [s] : [s, o]) : (t.push(o),
                    t)
                }, [i]);
                return h.length > 1 && n.push(a(h)),
                l(n)
            }
            function In(t, e) {
                if (!e.features.length)
                    throw new Error("lines must contain features");
                if (1 === e.features.length)
                    return e.features[0];
                var n, i = 1 / 0;
                return T(e, function(e) {
                    var r = We(e, t).properties.dist;
                    r < i && (n = e,
                    i = r)
                }),
                n
            }
            function Pn(t, e) {
                return t[0] === e[0] && t[1] === e[1]
            }
            function Ln(t, e, n, i, r) {
                if (!x(r = r || {}))
                    throw new Error("options is invalid");
                var o = r.steps
                  , s = r.units;
                if (!t)
                    throw new Error("center is required");
                if (!e)
                    throw new Error("radius is required");
                if (void 0 === n || null === n)
                    throw new Error("bearing1 is required");
                if (void 0 === i || null === i)
                    throw new Error("bearing2 is required");
                if ("object" != typeof r)
                    throw new Error("options must be an object");
                o = o || 64;
                var u = Sn(n)
                  , l = Sn(i)
                  , c = t.properties;
                if (u === l)
                    return a(se(t, e, r).geometry.coordinates[0], c);
                for (var h = u, p = u < l ? l : l + 360, f = h, d = [], g = 0; f < p; )
                    d.push(oe(t, e, f, s).geometry.coordinates),
                    f = h + 360 * ++g / o;
                return f > p && d.push(oe(t, e, p, s).geometry.coordinates),
                a(d, c)
            }
            function Sn(t) {
                var e = t % 360;
                return e < 0 && (e += 360),
                e
            }
            function Nn(t, e) {
                if (!x(e = e || {}))
                    throw new Error("options is invalid");
                var n = e.properties
                  , i = Z(t)
                  , r = z(t);
                if (n = n || t.properties || {},
                !r.length)
                    throw new Error("polygon must contain coordinates");
                switch (i) {
                case "Polygon":
                    return Mn(r, n);
                case "MultiPolygon":
                    var o = [];
                    return r.forEach(function(t) {
                        o.push(Mn(t, n))
                    }),
                    l(o);
                default:
                    throw new Error("geom " + i + " not supported")
                }
            }
            function Mn(t, e) {
                return t.length > 1 ? c(t, e) : a(t[0], e)
            }
            function Tn(t, e) {
                if (!x(e = e || {}))
                    throw new Error("options is invalid");
                var n = e.properties
                  , i = e.autoComplete
                  , r = e.orderCoords;
                if (!t)
                    throw new Error("lines is required");
                switch (i = void 0 === i || i,
                r = void 0 === r || r,
                Z(t)) {
                case "FeatureCollection":
                case "GeometryCollection":
                    var o = [];
                    return (t.features ? t.features : t.geometries).forEach(function(t) {
                        o.push(z(On(t, {}, i, r)))
                    }),
                    p(o, n)
                }
                return On(t, n, i, r)
            }
            function On(t, e, n, i) {
                e = e || t.properties || {};
                var r = z(t)
                  , s = Z(t);
                if (!r.length)
                    throw new Error("line must contain coordinates");
                switch (s) {
                case "LineString":
                    return n && (r = An(r)),
                    o([r], e);
                case "MultiLineString":
                    var u = []
                      , l = 0;
                    return r.forEach(function(t) {
                        if (n && (t = An(t)),
                        i) {
                            var e = function(t) {
                                var e = t[0]
                                  , n = t[1]
                                  , i = t[2]
                                  , r = t[3];
                                return Math.abs(e - i) * Math.abs(n - r)
                            }(U(a(t)));
                            e > l ? (u.unshift(t),
                            l = e) : u.push(t)
                        } else
                            u.push(t)
                    }),
                    o(u, e);
                default:
                    throw new Error("geometry type " + s + " is not supported")
                }
            }
            function An(t) {
                var e = t[0]
                  , n = e[0]
                  , i = e[1]
                  , r = t[t.length - 1]
                  , o = r[0]
                  , s = r[1];
                return n === o && i === s || t.push(e),
                t
            }
            function Dn(t, e, n) {
                var i, r, o, s, a, u = t.length, l = kn(t[0], e), c = [];
                for (n || (n = []),
                i = 1; i < u; i++) {
                    for (r = t[i - 1],
                    s = a = kn(o = t[i], e); ; ) {
                        if (!(l | s)) {
                            c.push(r),
                            s !== a ? (c.push(o),
                            i < u - 1 && (n.push(c),
                            c = [])) : i === u - 1 && c.push(o);
                            break
                        }
                        if (l & s)
                            break;
                        l ? l = kn(r = Rn(r, o, l, e), e) : s = kn(o = Rn(r, o, s, e), e)
                    }
                    l = a
                }
                return c.length && n.push(c),
                n
            }
            function Rn(t, e, n, i) {
                return 8 & n ? [t[0] + (e[0] - t[0]) * (i[3] - t[1]) / (e[1] - t[1]), i[3]] : 4 & n ? [t[0] + (e[0] - t[0]) * (i[1] - t[1]) / (e[1] - t[1]), i[1]] : 2 & n ? [i[2], t[1] + (e[1] - t[1]) * (i[2] - t[0]) / (e[0] - t[0])] : 1 & n ? [i[0], t[1] + (e[1] - t[1]) * (i[0] - t[0]) / (e[0] - t[0])] : null
            }
            function kn(t, e) {
                var n = 0;
                return t[0] < e[0] ? n |= 1 : t[0] > e[2] && (n |= 2),
                t[1] < e[1] ? n |= 4 : t[1] > e[3] && (n |= 8),
                n
            }
            function Fn(t, e) {
                for (var n = [], i = 0; i < t.length; i++) {
                    var r = ms.polygon(t[i], e);
                    r.length > 0 && (r[0][0] === r[r.length - 1][0] && r[0][1] === r[r.length - 1][1] || r.push(r[0]),
                    r.length >= 4 && n.push(r))
                }
                return n
            }
            function Gn(t) {
                return "[object Arguments]" === Object.prototype.toString.call(t)
            }
            function Bn(t, e, n) {
                return n || (n = {}),
                t === e || (t instanceof Date && e instanceof Date ? t.getTime() === e.getTime() : !t || !e || "object" != typeof t && "object" != typeof e ? (n.strict,
                t === e) : function(t, e, n) {
                    var i, r;
                    if (qn(t) || qn(e))
                        return !1;
                    if (t.prototype !== e.prototype)
                        return !1;
                    if (Gn(t))
                        return !!Gn(e) && Bn(t = _s.call(t), e = _s.call(e), n);
                    if (Vn(t)) {
                        if (!Vn(e))
                            return !1;
                        if (t.length !== e.length)
                            return !1;
                        for (i = 0; i < t.length; i++)
                            if (t[i] !== e[i])
                                return !1;
                        return !0
                    }
                    try {
                        var o = Object.keys(t)
                          , s = Object.keys(e)
                    } catch (t) {
                        return !1
                    }
                    if (o.length !== s.length)
                        return !1;
                    for (o.sort(),
                    s.sort(),
                    i = o.length - 1; i >= 0; i--)
                        if (o[i] !== s[i])
                            return !1;
                    for (i = o.length - 1; i >= 0; i--)
                        if (!Bn(t[r = o[i]], e[r], n))
                            return !1;
                    return typeof t == typeof e
                }(t, e, n))
            }
            function qn(t) {
                return null === t || void 0 === t
            }
            function Vn(t) {
                return !(!t || "object" != typeof t || "number" != typeof t.length || "function" != typeof t.copy || "function" != typeof t.slice || t.length > 0 && "number" != typeof t[0])
            }
            function Un(t, e, n) {
                if (!x(n = n || {}))
                    throw new Error("options is invalid");
                var i, r = n.tolerance || 0, o = [], s = Ue();
                return s.load(Ye(t)),
                G(e, function(t) {
                    var e = !1;
                    T(s.search(t), function(n) {
                        if (!1 === e) {
                            var o = z(t).sort()
                              , s = z(n).sort();
                            Bn(o, s) ? (e = !0,
                            i = i ? jn(i, t) : t) : (0 === r ? dn(o[0], n) && dn(o[1], n) : We(n, o[0]).properties.dist <= r && We(n, o[1]).properties.dist <= r) ? (e = !0,
                            i = i ? jn(i, t) : t) : (0 === r ? dn(s[0], t) && dn(s[1], t) : We(t, s[0]).properties.dist <= r && We(t, s[1]).properties.dist <= r) && (i = i ? jn(i, n) : n)
                        }
                    }),
                    !1 === e && i && (o.push(i),
                    i = void 0)
                }),
                i && o.push(i),
                l(o)
            }
            function jn(t, e) {
                var n = z(e)
                  , i = z(t)
                  , r = i[0]
                  , o = i[i.length - 1]
                  , s = t.geometry.coordinates;
                return Bn(n[0], r) ? s.unshift(n[1]) : Bn(n[0], o) ? s.push(n[1]) : Bn(n[1], r) ? s.unshift(n[0]) : Bn(n[1], o) && s.push(n[0]),
                t
            }
            function zn(t) {
                var e = t % 360;
                return e < 0 && (e += 360),
                e
            }
            function Yn(t, e, n, r) {
                if (!x(r = r || {}))
                    throw new Error("options is invalid");
                var o = r.units
                  , s = r.properties;
                if (!t)
                    throw new Error("origin is required");
                if (void 0 === e || null === e)
                    throw new Error("distance is required");
                if (void 0 === n || null === n)
                    throw new Error("bearing is required");
                if (!(e >= 0))
                    throw new Error("distance must be greater than 0");
                var a = C(e, o, "meters")
                  , u = j(t)
                  , l = function(t, e, n, i) {
                    var r = e / (i = void 0 === i ? _o : Number(i))
                      , o = t[0] * Math.PI / 180
                      , s = E(t[1])
                      , a = E(n)
                      , u = r * Math.cos(a)
                      , l = s + u;
                    Math.abs(l) > Math.PI / 2 && (l = l > 0 ? Math.PI - l : -Math.PI - l);
                    var c = Math.log(Math.tan(l / 2 + Math.PI / 4) / Math.tan(s / 2 + Math.PI / 4))
                      , h = Math.abs(c) > 1e-11 ? u / c : Math.cos(s);
                    return [(180 * (o + r * Math.sin(a) / h) / Math.PI + 540) % 360 - 180, 180 * l / Math.PI]
                }(u, a, n);
                return l[0] += l[0] - u[0] > 180 ? -360 : u[0] - l[0] > 180 ? 360 : 0,
                i(l, s)
            }
            function Hn(t, e, n, i, r, o) {
                for (var s = 0; s < t.length; s++) {
                    var a = t[s]
                      , u = t[s + 1];
                    s === t.length - 1 && (u = t[0]),
                    i = Xn(a, u, e),
                    n <= 0 && i > 0 ? function(t, e, n) {
                        return Xn(t, a, r) < 0
                    }(e) || (r = a) : n > 0 && i <= 0 && (function(t, e, n) {
                        return Xn(t, a, o) > 0
                    }(e) || (o = a)),
                    n = i
                }
                return [r, o]
            }
            function Xn(t, e, n) {
                return (e[0] - t[0]) * (n[1] - t[1]) - (n[0] - t[0]) * (e[1] - t[1])
            }
            function Wn(t) {
                if (!t)
                    throw new Error("line is required");
                var e = t.geometry ? t.geometry.type : t.type;
                if (!Array.isArray(t) && "LineString" !== e)
                    throw new Error("geometry must be a LineString");
                for (var n, i, r = z(t), o = 0, s = 1; s < r.length; )
                    n = i || r[0],
                    o += ((i = r[s])[0] - n[0]) * (i[1] + n[1]),
                    s++;
                return o > 0
            }
            function $n(t, e) {
                switch ("Feature" === t.type ? t.geometry.type : t.type) {
                case "GeometryCollection":
                    return D(t, function(t) {
                        $n(t, e)
                    }),
                    t;
                case "LineString":
                    return Kn(z(t), e),
                    t;
                case "Polygon":
                    return Zn(z(t), e),
                    t;
                case "MultiLineString":
                    return z(t).forEach(function(t) {
                        Kn(t, e)
                    }),
                    t;
                case "MultiPolygon":
                    return z(t).forEach(function(t) {
                        Zn(t, e)
                    }),
                    t;
                case "Point":
                case "MultiPoint":
                    return t
                }
            }
            function Kn(t, e) {
                Wn(t) === e && t.reverse()
            }
            function Zn(t, e) {
                Wn(t[0]) !== e && t[0].reverse();
                for (var n = 1; n < t.length; n++)
                    Wn(t[n]) === e && t[n].reverse()
            }
            function Qn(t, e, n, i) {
                i = i || {};
                for (var r = Object.keys(Es), o = 0; o < r.length; o++) {
                    var s = r[o]
                      , a = i[s];
                    a = void 0 !== a && null !== a ? a : Es[s],
                    Cs[s] = a
                }
                Cs.verbose;
                var u, l = function(t, e, n) {
                    for (var i = t.length - 1, r = t[0].length - 1, o = {
                        rows: i,
                        cols: r,
                        cells: []
                    }, s = e + Math.abs(n), a = 0; a < i; ++a) {
                        o.cells[a] = [];
                        for (var u = 0; u < r; ++u) {
                            var l = 0
                              , c = t[a + 1][u]
                              , h = t[a + 1][u + 1]
                              , p = t[a][u + 1]
                              , f = t[a][u];
                            if (!(isNaN(c) || isNaN(h) || isNaN(p) || isNaN(f))) {
                                l |= c < e ? 0 : c > s ? 128 : 64,
                                l |= h < e ? 0 : h > s ? 32 : 16,
                                l |= p < e ? 0 : p > s ? 8 : 4;
                                var d = +(l |= f < e ? 0 : f > s ? 2 : 1)
                                  , g = 0;
                                if (17 === l || 18 === l || 33 === l || 34 === l || 38 === l || 68 === l || 72 === l || 98 === l || 102 === l || 132 === l || 136 === l || 137 === l || 152 === l || 153 === l) {
                                    var y = (c + h + p + f) / 4;
                                    g = y > s ? 2 : y < e ? 0 : 1,
                                    34 === l ? 1 === g ? l = 35 : 0 === g && (l = 136) : 136 === l ? 1 === g ? (l = 35,
                                    g = 4) : 0 === g && (l = 34) : 17 === l ? 1 === g ? (l = 155,
                                    g = 4) : 0 === g && (l = 153) : 68 === l ? 1 === g ? (l = 103,
                                    g = 4) : 0 === g && (l = 102) : 153 === l ? 1 === g && (l = 155) : 102 === l ? 1 === g && (l = 103) : 152 === l ? g < 2 && (l = 156,
                                    g = 1) : 137 === l ? g < 2 && (l = 139,
                                    g = 1) : 98 === l ? g < 2 && (l = 99,
                                    g = 1) : 38 === l ? g < 2 && (l = 39,
                                    g = 1) : 18 === l ? g > 0 ? (l = 156,
                                    g = 4) : l = 152 : 33 === l ? g > 0 ? (l = 139,
                                    g = 4) : l = 137 : 72 === l ? g > 0 ? (l = 99,
                                    g = 4) : l = 98 : 132 === l && (g > 0 ? (l = 39,
                                    g = 4) : l = 38)
                                }
                                if (0 != l && 170 != l) {
                                    var v, m, _, E, C, w, b, x;
                                    v = m = _ = E = C = w = b = x = .5;
                                    var I = [];
                                    1 === l ? (_ = 1 - Jn(e, p, f),
                                    x = 1 - Jn(e, c, f),
                                    I.push(aa[l])) : 169 === l ? (_ = Jn(s, f, p),
                                    x = Jn(s, f, c),
                                    I.push(aa[l])) : 4 === l ? (w = 1 - Jn(e, h, p),
                                    E = Jn(e, f, p),
                                    I.push(oa[l])) : 166 === l ? (w = Jn(s, p, h),
                                    E = 1 - Jn(s, p, f),
                                    I.push(oa[l])) : 16 === l ? (C = Jn(e, p, h),
                                    m = Jn(e, c, h),
                                    I.push(ra[l])) : 154 === l ? (C = 1 - Jn(s, h, p),
                                    m = 1 - Jn(s, h, c),
                                    I.push(ra[l])) : 64 === l ? (b = Jn(e, f, c),
                                    v = 1 - Jn(e, h, c),
                                    I.push(la[l])) : 106 === l ? (b = 1 - Jn(s, c, f),
                                    v = Jn(s, c, h),
                                    I.push(la[l])) : 168 === l ? (E = Jn(s, f, p),
                                    _ = Jn(e, f, p),
                                    x = Jn(e, f, c),
                                    b = Jn(s, f, c),
                                    I.push(sa[l]),
                                    I.push(aa[l])) : 2 === l ? (E = 1 - Jn(e, p, f),
                                    _ = 1 - Jn(s, p, f),
                                    x = 1 - Jn(s, c, f),
                                    b = 1 - Jn(e, c, f),
                                    I.push(sa[l]),
                                    I.push(aa[l])) : 162 === l ? (C = Jn(s, p, h),
                                    w = Jn(e, p, h),
                                    E = 1 - Jn(e, p, f),
                                    _ = 1 - Jn(s, p, f),
                                    I.push(sa[l]),
                                    I.push(aa[l])) : 8 === l ? (C = 1 - Jn(e, h, p),
                                    w = 1 - Jn(s, h, p),
                                    E = Jn(s, f, p),
                                    _ = Jn(e, f, p),
                                    I.push(ra[l]),
                                    I.push(oa[l])) : 138 === l ? (C = 1 - Jn(e, h, p),
                                    w = 1 - Jn(s, h, p),
                                    v = 1 - Jn(s, h, c),
                                    m = 1 - Jn(e, h, c),
                                    I.push(ra[l]),
                                    I.push(oa[l])) : 32 === l ? (C = Jn(s, p, h),
                                    w = Jn(e, p, h),
                                    v = Jn(e, c, h),
                                    m = Jn(s, c, h),
                                    I.push(ra[l]),
                                    I.push(oa[l])) : 42 === l ? (x = 1 - Jn(s, c, f),
                                    b = 1 - Jn(e, c, f),
                                    v = Jn(e, c, h),
                                    m = Jn(s, c, h),
                                    I.push(ua[l]),
                                    I.push(la[l])) : 128 === l && (x = Jn(e, f, c),
                                    b = Jn(s, f, c),
                                    v = 1 - Jn(s, h, c),
                                    m = 1 - Jn(e, h, c),
                                    I.push(ua[l]),
                                    I.push(la[l])),
                                    5 === l ? (w = 1 - Jn(e, h, p),
                                    x = 1 - Jn(e, c, f),
                                    I.push(oa[l])) : 165 === l ? (w = Jn(s, p, h),
                                    x = Jn(s, f, c),
                                    I.push(oa[l])) : 20 === l ? (E = Jn(e, f, p),
                                    m = Jn(e, c, h),
                                    I.push(sa[l])) : 150 === l ? (E = 1 - Jn(s, p, f),
                                    m = 1 - Jn(s, h, c),
                                    I.push(sa[l])) : 80 === l ? (C = Jn(e, p, h),
                                    b = Jn(e, f, c),
                                    I.push(ra[l])) : 90 === l ? (C = 1 - Jn(s, h, p),
                                    b = 1 - Jn(s, c, f),
                                    I.push(ra[l])) : 65 === l ? (_ = 1 - Jn(e, p, f),
                                    v = 1 - Jn(e, h, c),
                                    I.push(aa[l])) : 105 === l ? (_ = Jn(s, f, p),
                                    v = Jn(s, c, h),
                                    I.push(aa[l])) : 160 === l ? (C = Jn(s, p, h),
                                    w = Jn(e, p, h),
                                    x = Jn(e, f, c),
                                    b = Jn(s, f, c),
                                    I.push(ra[l]),
                                    I.push(oa[l])) : 10 === l ? (C = 1 - Jn(e, h, p),
                                    w = 1 - Jn(s, h, p),
                                    x = 1 - Jn(s, c, f),
                                    b = 1 - Jn(e, c, f),
                                    I.push(ra[l]),
                                    I.push(oa[l])) : 130 === l ? (E = 1 - Jn(e, p, f),
                                    _ = 1 - Jn(s, p, f),
                                    v = 1 - Jn(s, h, c),
                                    m = 1 - Jn(e, h, c),
                                    I.push(sa[l]),
                                    I.push(aa[l])) : 40 === l ? (E = Jn(s, f, p),
                                    _ = Jn(e, f, p),
                                    v = Jn(e, c, h),
                                    m = Jn(s, c, h),
                                    I.push(sa[l]),
                                    I.push(aa[l])) : 101 === l ? (w = Jn(s, p, h),
                                    v = Jn(s, c, h),
                                    I.push(oa[l])) : 69 === l ? (w = 1 - Jn(e, h, p),
                                    v = 1 - Jn(e, h, c),
                                    I.push(oa[l])) : 149 === l ? (x = Jn(s, f, c),
                                    m = 1 - Jn(s, h, c),
                                    I.push(ua[l])) : 21 === l ? (x = 1 - Jn(e, c, f),
                                    m = Jn(e, c, h),
                                    I.push(ua[l])) : 86 === l ? (E = 1 - Jn(s, p, f),
                                    b = 1 - Jn(s, c, f),
                                    I.push(sa[l])) : 84 === l ? (E = Jn(e, f, p),
                                    b = Jn(e, f, c),
                                    I.push(sa[l])) : 89 === l ? (C = 1 - Jn(s, h, p),
                                    _ = Jn(s, f, p),
                                    I.push(aa[l])) : 81 === l ? (C = Jn(e, p, h),
                                    _ = 1 - Jn(e, p, f),
                                    I.push(aa[l])) : 96 === l ? (C = Jn(s, p, h),
                                    w = Jn(e, p, h),
                                    b = Jn(e, f, c),
                                    v = Jn(s, c, h),
                                    I.push(ra[l]),
                                    I.push(oa[l])) : 74 === l ? (C = 1 - Jn(e, h, p),
                                    w = 1 - Jn(s, h, p),
                                    b = 1 - Jn(s, c, f),
                                    v = 1 - Jn(e, h, c),
                                    I.push(ra[l]),
                                    I.push(oa[l])) : 24 === l ? (C = 1 - Jn(s, h, p),
                                    E = Jn(s, f, p),
                                    _ = Jn(e, f, p),
                                    m = Jn(e, c, h),
                                    I.push(ra[l]),
                                    I.push(aa[l])) : 146 === l ? (C = Jn(e, p, h),
                                    E = 1 - Jn(e, p, f),
                                    _ = 1 - Jn(s, p, f),
                                    m = 1 - Jn(s, h, c),
                                    I.push(ra[l]),
                                    I.push(aa[l])) : 6 === l ? (w = 1 - Jn(e, h, p),
                                    E = 1 - Jn(s, p, f),
                                    x = 1 - Jn(s, c, f),
                                    b = 1 - Jn(e, c, f),
                                    I.push(oa[l]),
                                    I.push(sa[l])) : 164 === l ? (w = Jn(s, p, h),
                                    E = Jn(e, f, p),
                                    x = Jn(e, f, c),
                                    b = Jn(s, f, c),
                                    I.push(oa[l]),
                                    I.push(sa[l])) : 129 === l ? (_ = 1 - Jn(e, p, f),
                                    x = Jn(s, f, c),
                                    v = 1 - Jn(s, h, c),
                                    m = 1 - Jn(e, h, c),
                                    I.push(aa[l]),
                                    I.push(ua[l])) : 41 === l ? (_ = Jn(s, f, p),
                                    x = 1 - Jn(e, c, f),
                                    v = Jn(e, c, h),
                                    m = Jn(s, c, h),
                                    I.push(aa[l]),
                                    I.push(ua[l])) : 66 === l ? (E = 1 - Jn(e, p, f),
                                    _ = 1 - Jn(s, p, f),
                                    b = 1 - Jn(s, c, f),
                                    v = 1 - Jn(e, h, c),
                                    I.push(sa[l]),
                                    I.push(aa[l])) : 104 === l ? (E = Jn(s, f, p),
                                    _ = Jn(e, f, p),
                                    b = Jn(e, f, c),
                                    v = Jn(s, c, h),
                                    I.push(aa[l]),
                                    I.push(ca[l])) : 144 === l ? (C = Jn(e, p, h),
                                    x = Jn(e, f, c),
                                    b = Jn(s, f, c),
                                    m = 1 - Jn(s, h, c),
                                    I.push(ra[l]),
                                    I.push(la[l])) : 26 === l ? (C = 1 - Jn(s, h, p),
                                    x = 1 - Jn(s, c, f),
                                    b = 1 - Jn(e, c, f),
                                    m = Jn(e, c, h),
                                    I.push(ra[l]),
                                    I.push(la[l])) : 36 === l ? (w = Jn(s, p, h),
                                    E = Jn(e, f, p),
                                    v = Jn(e, c, h),
                                    m = Jn(s, c, h),
                                    I.push(oa[l]),
                                    I.push(sa[l])) : 134 === l ? (w = 1 - Jn(e, h, p),
                                    E = 1 - Jn(s, p, f),
                                    v = 1 - Jn(s, h, c),
                                    m = 1 - Jn(e, h, c),
                                    I.push(oa[l]),
                                    I.push(sa[l])) : 9 === l ? (C = 1 - Jn(e, h, p),
                                    w = 1 - Jn(s, h, p),
                                    _ = Jn(s, f, p),
                                    x = 1 - Jn(e, c, f),
                                    I.push(ra[l]),
                                    I.push(oa[l])) : 161 === l ? (C = Jn(s, p, h),
                                    w = Jn(e, p, h),
                                    _ = 1 - Jn(e, p, f),
                                    x = Jn(s, f, c),
                                    I.push(ra[l]),
                                    I.push(oa[l])) : 37 === l ? (w = Jn(s, p, h),
                                    x = 1 - Jn(e, c, f),
                                    v = Jn(e, c, h),
                                    m = Jn(s, c, h),
                                    I.push(oa[l]),
                                    I.push(ua[l])) : 133 === l ? (w = 1 - Jn(e, h, p),
                                    x = Jn(s, f, c),
                                    v = 1 - Jn(s, h, c),
                                    m = 1 - Jn(e, h, c),
                                    I.push(oa[l]),
                                    I.push(ua[l])) : 148 === l ? (E = Jn(e, f, p),
                                    x = Jn(e, f, c),
                                    b = Jn(s, f, c),
                                    m = 1 - Jn(s, h, c),
                                    I.push(sa[l]),
                                    I.push(la[l])) : 22 === l ? (E = 1 - Jn(s, p, f),
                                    x = 1 - Jn(s, c, f),
                                    b = 1 - Jn(e, c, f),
                                    m = Jn(e, c, h),
                                    I.push(sa[l]),
                                    I.push(la[l])) : 82 === l ? (C = Jn(e, p, h),
                                    E = 1 - Jn(e, p, f),
                                    _ = 1 - Jn(s, p, f),
                                    b = 1 - Jn(s, c, f),
                                    I.push(ra[l]),
                                    I.push(aa[l])) : 88 === l ? (C = 1 - Jn(s, h, p),
                                    E = Jn(s, f, p),
                                    _ = Jn(e, f, p),
                                    b = Jn(e, f, c),
                                    I.push(ra[l]),
                                    I.push(aa[l])) : 73 === l ? (C = 1 - Jn(e, h, p),
                                    w = 1 - Jn(s, h, p),
                                    _ = Jn(s, f, p),
                                    v = 1 - Jn(e, h, c),
                                    I.push(ra[l]),
                                    I.push(oa[l])) : 97 === l ? (C = Jn(s, p, h),
                                    w = Jn(e, p, h),
                                    _ = 1 - Jn(e, p, f),
                                    v = Jn(s, c, h),
                                    I.push(ra[l]),
                                    I.push(oa[l])) : 145 === l ? (C = Jn(e, p, h),
                                    _ = 1 - Jn(e, p, f),
                                    x = Jn(s, f, c),
                                    m = 1 - Jn(s, h, c),
                                    I.push(ra[l]),
                                    I.push(ua[l])) : 25 === l ? (C = 1 - Jn(s, h, p),
                                    _ = Jn(s, f, p),
                                    x = 1 - Jn(e, c, f),
                                    m = Jn(e, c, h),
                                    I.push(ra[l]),
                                    I.push(ua[l])) : 70 === l ? (w = 1 - Jn(e, h, p),
                                    E = 1 - Jn(s, p, f),
                                    b = 1 - Jn(s, c, f),
                                    v = 1 - Jn(e, h, c),
                                    I.push(oa[l]),
                                    I.push(sa[l])) : 100 === l ? (w = Jn(s, p, h),
                                    E = Jn(e, f, p),
                                    b = Jn(e, f, c),
                                    v = Jn(s, c, h),
                                    I.push(oa[l]),
                                    I.push(sa[l])) : 34 === l ? (0 === g ? (C = 1 - Jn(e, h, p),
                                    w = 1 - Jn(s, h, p),
                                    E = Jn(s, f, p),
                                    _ = Jn(e, f, p),
                                    x = Jn(e, f, c),
                                    b = Jn(s, f, c),
                                    v = 1 - Jn(s, h, c),
                                    m = 1 - Jn(e, h, c)) : (C = Jn(s, p, h),
                                    w = Jn(e, p, h),
                                    E = 1 - Jn(e, p, f),
                                    _ = 1 - Jn(s, p, f),
                                    x = 1 - Jn(s, c, f),
                                    b = 1 - Jn(e, c, f),
                                    v = Jn(e, c, h),
                                    m = Jn(s, c, h)),
                                    I.push(ra[l]),
                                    I.push(oa[l]),
                                    I.push(ua[l]),
                                    I.push(la[l])) : 35 === l ? (4 === g ? (C = 1 - Jn(e, h, p),
                                    w = 1 - Jn(s, h, p),
                                    E = Jn(s, f, p),
                                    _ = Jn(e, f, p),
                                    x = Jn(e, f, c),
                                    b = Jn(s, f, c),
                                    v = 1 - Jn(s, h, c),
                                    m = 1 - Jn(e, h, c)) : (C = Jn(s, p, h),
                                    w = Jn(e, p, h),
                                    E = 1 - Jn(e, p, f),
                                    _ = 1 - Jn(s, p, f),
                                    x = 1 - Jn(s, c, f),
                                    b = 1 - Jn(e, c, f),
                                    v = Jn(e, c, h),
                                    m = Jn(s, c, h)),
                                    I.push(ra[l]),
                                    I.push(oa[l]),
                                    I.push(aa[l]),
                                    I.push(la[l])) : 136 === l ? (0 === g ? (C = Jn(s, p, h),
                                    w = Jn(e, p, h),
                                    E = 1 - Jn(e, p, f),
                                    _ = 1 - Jn(s, p, f),
                                    x = 1 - Jn(s, c, f),
                                    b = 1 - Jn(e, c, f),
                                    v = Jn(e, c, h),
                                    m = Jn(s, c, h)) : (C = 1 - Jn(e, h, p),
                                    w = 1 - Jn(s, h, p),
                                    E = Jn(s, f, p),
                                    _ = Jn(e, f, p),
                                    x = Jn(e, f, c),
                                    b = Jn(s, f, c),
                                    v = 1 - Jn(s, h, c),
                                    m = 1 - Jn(e, h, c)),
                                    I.push(ra[l]),
                                    I.push(oa[l]),
                                    I.push(ua[l]),
                                    I.push(la[l])) : 153 === l ? (0 === g ? (C = Jn(e, p, h),
                                    _ = 1 - Jn(e, p, f),
                                    x = 1 - Jn(e, c, f),
                                    m = Jn(e, c, h)) : (C = 1 - Jn(s, h, p),
                                    _ = Jn(s, f, p),
                                    x = Jn(s, f, c),
                                    m = 1 - Jn(s, h, c)),
                                    I.push(ra[l]),
                                    I.push(aa[l])) : 102 === l ? (0 === g ? (w = 1 - Jn(e, h, p),
                                    E = Jn(e, f, p),
                                    b = Jn(e, f, c),
                                    v = 1 - Jn(e, h, c)) : (w = Jn(s, p, h),
                                    E = 1 - Jn(s, p, f),
                                    b = 1 - Jn(s, c, f),
                                    v = Jn(s, c, h)),
                                    I.push(oa[l]),
                                    I.push(la[l])) : 155 === l ? (4 === g ? (C = Jn(e, p, h),
                                    _ = 1 - Jn(e, p, f),
                                    x = 1 - Jn(e, c, f),
                                    m = Jn(e, c, h)) : (C = 1 - Jn(s, h, p),
                                    _ = Jn(s, f, p),
                                    x = Jn(s, f, c),
                                    m = 1 - Jn(s, h, c)),
                                    I.push(ra[l]),
                                    I.push(ua[l])) : 103 === l ? (4 === g ? (w = 1 - Jn(e, h, p),
                                    E = Jn(e, f, p),
                                    b = Jn(e, f, c),
                                    v = 1 - Jn(e, h, c)) : (w = Jn(s, p, h),
                                    E = 1 - Jn(s, p, f),
                                    b = 1 - Jn(s, c, f),
                                    v = Jn(s, c, h)),
                                    I.push(oa[l]),
                                    I.push(sa[l])) : 152 === l ? (0 === g ? (C = Jn(e, p, h),
                                    E = 1 - Jn(e, p, f),
                                    _ = 1 - Jn(s, p, f),
                                    x = 1 - Jn(s, c, f),
                                    b = 1 - Jn(e, c, f),
                                    m = Jn(e, c, h)) : (C = 1 - Jn(s, h, p),
                                    E = Jn(s, f, p),
                                    _ = Jn(e, f, p),
                                    x = Jn(e, f, c),
                                    b = Jn(s, f, c),
                                    m = 1 - Jn(s, h, c)),
                                    I.push(ra[l]),
                                    I.push(sa[l]),
                                    I.push(aa[l])) : 156 === l ? (4 === g ? (C = Jn(e, p, h),
                                    E = 1 - Jn(e, p, f),
                                    _ = 1 - Jn(s, p, f),
                                    x = 1 - Jn(s, c, f),
                                    b = 1 - Jn(e, c, f),
                                    m = Jn(e, c, h)) : (C = 1 - Jn(s, h, p),
                                    E = Jn(s, f, p),
                                    _ = Jn(e, f, p),
                                    x = Jn(e, f, c),
                                    b = Jn(s, f, c),
                                    m = 1 - Jn(s, h, c)),
                                    I.push(ra[l]),
                                    I.push(aa[l]),
                                    I.push(la[l])) : 137 === l ? (0 === g ? (C = Jn(s, p, h),
                                    w = Jn(e, p, h),
                                    _ = 1 - Jn(e, p, f),
                                    x = 1 - Jn(e, c, f),
                                    v = Jn(e, c, h),
                                    m = Jn(s, c, h)) : (C = 1 - Jn(e, h, p),
                                    w = 1 - Jn(s, h, p),
                                    _ = Jn(s, f, p),
                                    x = Jn(s, f, c),
                                    v = 1 - Jn(s, h, c),
                                    m = 1 - Jn(e, h, c)),
                                    I.push(ra[l]),
                                    I.push(oa[l]),
                                    I.push(aa[l])) : 139 === l ? (4 === g ? (C = Jn(s, p, h),
                                    w = Jn(e, p, h),
                                    _ = 1 - Jn(e, p, f),
                                    x = 1 - Jn(e, c, f),
                                    v = Jn(e, c, h),
                                    m = Jn(s, c, h)) : (C = 1 - Jn(e, h, p),
                                    w = 1 - Jn(s, h, p),
                                    _ = Jn(s, f, p),
                                    x = Jn(s, f, c),
                                    v = 1 - Jn(s, h, c),
                                    m = 1 - Jn(e, h, c)),
                                    I.push(ra[l]),
                                    I.push(oa[l]),
                                    I.push(ua[l])) : 98 === l ? (0 === g ? (C = 1 - Jn(e, h, p),
                                    w = 1 - Jn(s, h, p),
                                    E = Jn(s, f, p),
                                    _ = Jn(e, f, p),
                                    b = Jn(e, f, c),
                                    v = 1 - Jn(e, h, c)) : (C = Jn(s, p, h),
                                    w = Jn(e, p, h),
                                    E = 1 - Jn(e, p, f),
                                    _ = 1 - Jn(s, p, f),
                                    b = 1 - Jn(s, c, f),
                                    v = Jn(s, c, h)),
                                    I.push(ra[l]),
                                    I.push(oa[l]),
                                    I.push(la[l])) : 99 === l ? (4 === g ? (C = 1 - Jn(e, h, p),
                                    w = 1 - Jn(s, h, p),
                                    E = Jn(s, f, p),
                                    _ = Jn(e, f, p),
                                    b = Jn(e, f, c),
                                    v = 1 - Jn(e, h, c)) : (C = Jn(s, p, h),
                                    w = Jn(e, p, h),
                                    E = 1 - Jn(e, p, f),
                                    _ = 1 - Jn(s, p, f),
                                    b = 1 - Jn(s, c, f),
                                    v = Jn(s, c, h)),
                                    I.push(ra[l]),
                                    I.push(oa[l]),
                                    I.push(aa[l])) : 38 === l ? (0 === g ? (w = 1 - Jn(e, h, p),
                                    E = Jn(e, f, p),
                                    x = Jn(e, f, c),
                                    b = Jn(s, f, c),
                                    v = 1 - Jn(s, h, c),
                                    m = 1 - Jn(e, h, c)) : (w = Jn(s, p, h),
                                    E = 1 - Jn(s, p, f),
                                    x = 1 - Jn(s, c, f),
                                    b = 1 - Jn(e, c, f),
                                    v = Jn(e, c, h),
                                    m = Jn(s, c, h)),
                                    I.push(oa[l]),
                                    I.push(ua[l]),
                                    I.push(la[l])) : 39 === l ? (4 === g ? (w = 1 - Jn(e, h, p),
                                    E = Jn(e, f, p),
                                    x = Jn(e, f, c),
                                    b = Jn(s, f, c),
                                    v = 1 - Jn(s, h, c),
                                    m = 1 - Jn(e, h, c)) : (w = Jn(s, p, h),
                                    E = 1 - Jn(s, p, f),
                                    x = 1 - Jn(s, c, f),
                                    b = 1 - Jn(e, c, f),
                                    v = Jn(e, c, h),
                                    m = Jn(s, c, h)),
                                    I.push(oa[l]),
                                    I.push(sa[l]),
                                    I.push(la[l])) : 85 === l && (C = 1,
                                    w = 0,
                                    E = 1,
                                    _ = 0,
                                    x = 0,
                                    b = 1,
                                    v = 0,
                                    m = 1),
                                    o.cells[a][u] = {
                                        cval: l,
                                        cval_real: d,
                                        flipped: g,
                                        topleft: v,
                                        topright: m,
                                        righttop: C,
                                        rightbottom: w,
                                        bottomright: E,
                                        bottomleft: _,
                                        leftbottom: x,
                                        lefttop: b,
                                        edges: I
                                    }
                                }
                            }
                        }
                    }
                    return o
                }(t, e, n);
                return Cs.polygons ? (Cs.verbose,
                u = function(t) {
                    var e = []
                      , n = 0;
                    return l.cells.forEach(function(t, i) {
                        t.forEach(function(t, r) {
                            if (void 0 !== t) {
                                var o = pa[t.cval](t);
                                "object" == typeof o && ti(o) && "object" == typeof o[0] && ti(o[0]) && ("object" == typeof o[0][0] && ti(o[0][0]) ? o.forEach(function(t) {
                                    t.forEach(function(t) {
                                        t[0] += r,
                                        t[1] += i
                                    }),
                                    e[n++] = t
                                }) : (o.forEach(function(t) {
                                    t[0] += r,
                                    t[1] += i
                                }),
                                e[n++] = o))
                            }
                        })
                    }),
                    e
                }()) : (Cs.verbose,
                u = function(t) {
                    for (var e = [], n = t.rows, i = t.cols, r = [], o = 0; o < n; o++)
                        for (var s = 0; s < i; s++)
                            if (void 0 !== t.cells[o][s] && t.cells[o][s].edges.length > 0) {
                                var a = function(t) {
                                    if (t.edges.length > 0) {
                                        var e = t.edges[t.edges.length - 1]
                                          , n = t.cval_real;
                                        switch (e) {
                                        case 0:
                                            return n & bs ? {
                                                p: [1, t.righttop],
                                                x: -1,
                                                y: 0,
                                                o: 1
                                            } : {
                                                p: [t.topleft, 1],
                                                x: 0,
                                                y: -1,
                                                o: 0
                                            };
                                        case 1:
                                            return n & xs ? {
                                                p: [t.topleft, 1],
                                                x: 0,
                                                y: -1,
                                                o: 0
                                            } : {
                                                p: [1, t.rightbottom],
                                                x: -1,
                                                y: 0,
                                                o: 0
                                            };
                                        case 2:
                                            return n & xs ? {
                                                p: [t.bottomright, 0],
                                                x: 0,
                                                y: 1,
                                                o: 1
                                            } : {
                                                p: [t.topleft, 1],
                                                x: 0,
                                                y: -1,
                                                o: 0
                                            };
                                        case 3:
                                            return n & Is ? {
                                                p: [t.topleft, 1],
                                                x: 0,
                                                y: -1,
                                                o: 0
                                            } : {
                                                p: [t.bottomleft, 0],
                                                x: 0,
                                                y: 1,
                                                o: 0
                                            };
                                        case 4:
                                            return n & bs ? {
                                                p: [1, t.righttop],
                                                x: -1,
                                                y: 0,
                                                o: 1
                                            } : {
                                                p: [t.topright, 1],
                                                x: 0,
                                                y: -1,
                                                o: 1
                                            };
                                        case 5:
                                            return n & xs ? {
                                                p: [t.topright, 1],
                                                x: 0,
                                                y: -1,
                                                o: 1
                                            } : {
                                                p: [1, t.rightbottom],
                                                x: -1,
                                                y: 0,
                                                o: 0
                                            };
                                        case 6:
                                            return n & xs ? {
                                                p: [t.bottomright, 0],
                                                x: 0,
                                                y: 1,
                                                o: 1
                                            } : {
                                                p: [t.topright, 1],
                                                x: 0,
                                                y: -1,
                                                o: 1
                                            };
                                        case 7:
                                            return n & Is ? {
                                                p: [t.topright, 1],
                                                x: 0,
                                                y: -1,
                                                o: 1
                                            } : {
                                                p: [t.bottomleft, 0],
                                                x: 0,
                                                y: 1,
                                                o: 0
                                            };
                                        case 8:
                                            return n & xs ? {
                                                p: [t.bottomright, 0],
                                                x: 0,
                                                y: 1,
                                                o: 1
                                            } : {
                                                p: [1, t.righttop],
                                                x: -1,
                                                y: 0,
                                                o: 1
                                            };
                                        case 9:
                                            return n & Is ? {
                                                p: [1, t.righttop],
                                                x: -1,
                                                y: 0,
                                                o: 1
                                            } : {
                                                p: [t.bottomleft, 0],
                                                x: 0,
                                                y: 1,
                                                o: 0
                                            };
                                        case 10:
                                            return n & Is ? {
                                                p: [0, t.leftbottom],
                                                x: 1,
                                                y: 0,
                                                o: 0
                                            } : {
                                                p: [1, t.righttop],
                                                x: -1,
                                                y: 0,
                                                o: 1
                                            };
                                        case 11:
                                            return n & ws ? {
                                                p: [1, t.righttop],
                                                x: -1,
                                                y: 0,
                                                o: 1
                                            } : {
                                                p: [0, t.lefttop],
                                                x: 1,
                                                y: 0,
                                                o: 1
                                            };
                                        case 12:
                                            return n & xs ? {
                                                p: [t.bottomright, 0],
                                                x: 0,
                                                y: 1,
                                                o: 1
                                            } : {
                                                p: [1, t.rightbottom],
                                                x: -1,
                                                y: 0,
                                                o: 0
                                            };
                                        case 13:
                                            return n & Is ? {
                                                p: [1, t.rightbottom],
                                                x: -1,
                                                y: 0,
                                                o: 0
                                            } : {
                                                p: [t.bottomleft, 0],
                                                x: 0,
                                                y: 1,
                                                o: 0
                                            };
                                        case 14:
                                            return n & Is ? {
                                                p: [0, t.leftbottom],
                                                x: 1,
                                                y: 0,
                                                o: 0
                                            } : {
                                                p: [1, t.rightbottom],
                                                x: -1,
                                                y: 0,
                                                o: 0
                                            };
                                        case 15:
                                            return n & ws ? {
                                                p: [1, t.rightbottom],
                                                x: -1,
                                                y: 0,
                                                o: 0
                                            } : {
                                                p: [0, t.lefttop],
                                                x: 1,
                                                y: 0,
                                                o: 1
                                            };
                                        case 16:
                                            return n & xs ? {
                                                p: [t.bottomright, 0],
                                                x: 0,
                                                y: 1,
                                                o: 1
                                            } : {
                                                p: [0, t.leftbottom],
                                                x: 1,
                                                y: 0,
                                                o: 0
                                            };
                                        case 17:
                                            return n & ws ? {
                                                p: [t.bottomright, 0],
                                                x: 0,
                                                y: 1,
                                                o: 1
                                            } : {
                                                p: [0, t.lefttop],
                                                x: 1,
                                                y: 0,
                                                o: 1
                                            };
                                        case 18:
                                            return n & Is ? {
                                                p: [0, t.leftbottom],
                                                x: 1,
                                                y: 0,
                                                o: 0
                                            } : {
                                                p: [t.bottomleft, 0],
                                                x: 0,
                                                y: 1,
                                                o: 0
                                            };
                                        case 19:
                                            return n & ws ? {
                                                p: [t.bottomleft, 0],
                                                x: 0,
                                                y: 1,
                                                o: 0
                                            } : {
                                                p: [0, t.lefttop],
                                                x: 1,
                                                y: 0,
                                                o: 1
                                            };
                                        case 20:
                                            return n & ws ? {
                                                p: [t.topleft, 1],
                                                x: 0,
                                                y: -1,
                                                o: 0
                                            } : {
                                                p: [0, t.leftbottom],
                                                x: 1,
                                                y: 0,
                                                o: 0
                                            };
                                        case 21:
                                            return n & bs ? {
                                                p: [0, t.leftbottom],
                                                x: 1,
                                                y: 0,
                                                o: 0
                                            } : {
                                                p: [t.topright, 1],
                                                x: 0,
                                                y: -1,
                                                o: 1
                                            };
                                        case 22:
                                            return n & ws ? {
                                                p: [t.topleft, 1],
                                                x: 0,
                                                y: -1,
                                                o: 0
                                            } : {
                                                p: [0, t.lefttop],
                                                x: 1,
                                                y: 0,
                                                o: 1
                                            };
                                        case 23:
                                            return n & bs ? {
                                                p: [0, t.lefttop],
                                                x: 1,
                                                y: 0,
                                                o: 1
                                            } : {
                                                p: [t.topright, 1],
                                                x: 0,
                                                y: -1,
                                                o: 1
                                            }
                                        }
                                    }
                                    return null
                                }(t.cells[o][s])
                                  , u = null
                                  , l = s
                                  , c = o;
                                null !== a && r.push([a.p[0] + l, a.p[1] + c]);
                                do {
                                    if (null === (u = function(t, e, n, i) {
                                        var r, o, s, a, u, l = t.cval;
                                        switch (e) {
                                        case -1:
                                            switch (i) {
                                            case 0:
                                                r = oa[l],
                                                s = Rs[l],
                                                a = ks[l],
                                                u = Fs[l];
                                                break;
                                            default:
                                                r = ra[l],
                                                s = Os[l],
                                                a = As[l],
                                                u = Ds[l]
                                            }
                                            break;
                                        case 1:
                                            switch (i) {
                                            case 0:
                                                r = ua[l],
                                                s = Xs[l],
                                                a = Ws[l],
                                                u = $s[l];
                                                break;
                                            default:
                                                r = la[l],
                                                s = zs[l],
                                                a = Ys[l],
                                                u = Hs[l]
                                            }
                                            break;
                                        default:
                                            switch (n) {
                                            case -1:
                                                switch (i) {
                                                case 0:
                                                    r = ca[l],
                                                    s = Ps[l],
                                                    a = Ls[l],
                                                    u = Ss[l];
                                                    break;
                                                default:
                                                    r = ha[l],
                                                    s = Ns[l],
                                                    a = Ms[l],
                                                    u = Ts[l]
                                                }
                                                break;
                                            case 1:
                                                switch (i) {
                                                case 0:
                                                    r = aa[l],
                                                    s = Gs[l],
                                                    a = Bs[l],
                                                    u = qs[l];
                                                    break;
                                                default:
                                                    r = sa[l],
                                                    s = Vs[l],
                                                    a = Us[l],
                                                    u = js[l]
                                                }
                                            }
                                        }
                                        if (o = t.edges.indexOf(r),
                                        void 0 === t.edges[o])
                                            return null;
                                        switch (function(t, e) {
                                            delete t.edges[e];
                                            for (var n = e + 1; n < t.edges.length; n++)
                                                t.edges[n - 1] = t.edges[n];
                                            t.edges.pop()
                                        }(t, o),
                                        l = t.cval_real,
                                        r) {
                                        case 0:
                                            l & bs ? (e = t.topleft,
                                            n = 1) : (e = 1,
                                            n = t.righttop);
                                            break;
                                        case 1:
                                            l & xs ? (e = 1,
                                            n = t.rightbottom) : (e = t.topleft,
                                            n = 1);
                                            break;
                                        case 2:
                                            l & xs ? (e = t.topleft,
                                            n = 1) : (e = t.bottomright,
                                            n = 0);
                                            break;
                                        case 3:
                                            l & Is ? (e = t.bottomleft,
                                            n = 0) : (e = t.topleft,
                                            n = 1);
                                            break;
                                        case 4:
                                            l & bs ? (e = t.topright,
                                            n = 1) : (e = 1,
                                            n = t.righttop);
                                            break;
                                        case 5:
                                            l & xs ? (e = 1,
                                            n = t.rightbottom) : (e = t.topright,
                                            n = 1);
                                            break;
                                        case 6:
                                            l & xs ? (e = t.topright,
                                            n = 1) : (e = t.bottomright,
                                            n = 0);
                                            break;
                                        case 7:
                                            l & Is ? (e = t.bottomleft,
                                            n = 0) : (e = t.topright,
                                            n = 1);
                                            break;
                                        case 8:
                                            l & xs ? (e = 1,
                                            n = t.righttop) : (e = t.bottomright,
                                            n = 0);
                                            break;
                                        case 9:
                                            l & Is ? (e = t.bottomleft,
                                            n = 0) : (e = 1,
                                            n = t.righttop);
                                            break;
                                        case 10:
                                            l & Is ? (e = 1,
                                            n = t.righttop) : (e = 0,
                                            n = t.leftbottom);
                                            break;
                                        case 11:
                                            l & ws ? (e = 0,
                                            n = t.lefttop) : (e = 1,
                                            n = t.righttop);
                                            break;
                                        case 12:
                                            l & xs ? (e = 1,
                                            n = t.rightbottom) : (e = t.bottomright,
                                            n = 0);
                                            break;
                                        case 13:
                                            l & Is ? (e = t.bottomleft,
                                            n = 0) : (e = 1,
                                            n = t.rightbottom);
                                            break;
                                        case 14:
                                            l & Is ? (e = 1,
                                            n = t.rightbottom) : (e = 0,
                                            n = t.leftbottom);
                                            break;
                                        case 15:
                                            l & ws ? (e = 0,
                                            n = t.lefttop) : (e = 1,
                                            n = t.rightbottom);
                                            break;
                                        case 16:
                                            l & xs ? (e = 0,
                                            n = t.leftbottom) : (e = t.bottomright,
                                            n = 0);
                                            break;
                                        case 17:
                                            l & ws ? (e = 0,
                                            n = t.lefttop) : (e = t.bottomright,
                                            n = 0);
                                            break;
                                        case 18:
                                            l & Is ? (e = t.bottomleft,
                                            n = 0) : (e = 0,
                                            n = t.leftbottom);
                                            break;
                                        case 19:
                                            l & ws ? (e = 0,
                                            n = t.lefttop) : (e = t.bottomleft,
                                            n = 0);
                                            break;
                                        case 20:
                                            l & ws ? (e = 0,
                                            n = t.leftbottom) : (e = t.topleft,
                                            n = 1);
                                            break;
                                        case 21:
                                            l & bs ? (e = t.topright,
                                            n = 1) : (e = 0,
                                            n = t.leftbottom);
                                            break;
                                        case 22:
                                            l & ws ? (e = 0,
                                            n = t.lefttop) : (e = t.topleft,
                                            n = 1);
                                            break;
                                        case 23:
                                            l & bs ? (e = t.topright,
                                            n = 1) : (e = 0,
                                            n = t.lefttop);
                                            break;
                                        default:
                                            return null
                                        }
                                        return {
                                            p: [e, n],
                                            x: s,
                                            y: a,
                                            o: u
                                        }
                                    }(t.cells[c][l], a.x, a.y, a.o)))
                                        break;
                                    if (r.push([u.p[0] + l, u.p[1] + c]),
                                    l += u.x,
                                    a = u,
                                    (c += u.y) < 0 || c >= n || l < 0 || l >= i || void 0 === t.cells[c][l]) {
                                        var h = function(t, e, n, i, r, o) {
                                            for (var s = t.cells[n][e], a = s.cval_real, u = e + i, l = n + r, c = [], h = !1; !h; ) {
                                                if (void 0 === t.cells[l] || void 0 === t.cells[l][u])
                                                    if (l -= r,
                                                    u -= i,
                                                    a = (s = t.cells[l][u]).cval_real,
                                                    -1 === r)
                                                        if (0 === o)
                                                            if (a & Is)
                                                                c.push([u, l]),
                                                                i = -1,
                                                                r = 0,
                                                                o = 0;
                                                            else {
                                                                if (!(a & xs)) {
                                                                    c.push([u + s.bottomright, l]),
                                                                    i = 0,
                                                                    r = 1,
                                                                    o = 1,
                                                                    h = !0;
                                                                    break
                                                                }
                                                                c.push([u + 1, l]),
                                                                i = 1,
                                                                r = 0,
                                                                o = 0
                                                            }
                                                        else {
                                                            if (!(a & Is)) {
                                                                if (a & xs) {
                                                                    c.push([u + s.bottomright, l]),
                                                                    i = 0,
                                                                    r = 1,
                                                                    o = 1,
                                                                    h = !0;
                                                                    break
                                                                }
                                                                c.push([u + s.bottomleft, l]),
                                                                i = 0,
                                                                r = 1,
                                                                o = 0,
                                                                h = !0;
                                                                break
                                                            }
                                                            c.push([u, l]),
                                                            i = -1,
                                                            r = 0,
                                                            o = 0
                                                        }
                                                    else if (1 === r)
                                                        if (0 === o) {
                                                            if (!(a & bs)) {
                                                                if (a & ws) {
                                                                    c.push([u + s.topleft, l + 1]),
                                                                    i = 0,
                                                                    r = -1,
                                                                    o = 0,
                                                                    h = !0;
                                                                    break
                                                                }
                                                                c.push([u + s.topright, l + 1]),
                                                                i = 0,
                                                                r = -1,
                                                                o = 1,
                                                                h = !0;
                                                                break
                                                            }
                                                            c.push([u + 1, l + 1]),
                                                            i = 1,
                                                            r = 0,
                                                            o = 1
                                                        } else
                                                            c.push([u + 1, l + 1]),
                                                            i = 1,
                                                            r = 0,
                                                            o = 1;
                                                    else if (-1 === i)
                                                        if (0 === o) {
                                                            if (!(a & ws)) {
                                                                if (a & Is) {
                                                                    c.push([u, l + s.leftbottom]),
                                                                    i = 1,
                                                                    r = 0,
                                                                    o = 0,
                                                                    h = !0;
                                                                    break
                                                                }
                                                                c.push([u, l + s.lefttop]),
                                                                i = 1,
                                                                r = 0,
                                                                o = 1,
                                                                h = !0;
                                                                break
                                                            }
                                                            c.push([u, l + 1]),
                                                            i = 0,
                                                            r = 1,
                                                            o = 0
                                                        } else {
                                                            if (!(a & ws))
                                                                break;
                                                            c.push([u, l + 1]),
                                                            i = 0,
                                                            r = 1,
                                                            o = 0
                                                        }
                                                    else {
                                                        if (1 !== i)
                                                            break;
                                                        if (0 === o) {
                                                            if (!(a & xs)) {
                                                                c.push([u + 1, l + s.rightbottom]),
                                                                i = -1,
                                                                r = 0,
                                                                o = 0,
                                                                h = !0;
                                                                break
                                                            }
                                                            c.push([u + 1, l]),
                                                            i = 0,
                                                            r = -1,
                                                            o = 1
                                                        } else {
                                                            if (!(a & xs)) {
                                                                if (a & bs) {
                                                                    c.push([u + 1, l + s.righttop]),
                                                                    i = -1,
                                                                    r = 0,
                                                                    o = 1;
                                                                    break
                                                                }
                                                                c.push([u + 1, l + s.rightbottom]),
                                                                i = -1,
                                                                r = 0,
                                                                o = 0,
                                                                h = !0;
                                                                break
                                                            }
                                                            c.push([u + 1, l]),
                                                            i = 0,
                                                            r = -1,
                                                            o = 1
                                                        }
                                                    }
                                                else if (a = (s = t.cells[l][u]).cval_real,
                                                -1 === i) {
                                                    if (0 === o)
                                                        if (void 0 !== t.cells[l - 1] && void 0 !== t.cells[l - 1][u])
                                                            i = 0,
                                                            r = -1,
                                                            o = 1;
                                                        else {
                                                            if (!(a & Is)) {
                                                                c.push([u + s.bottomright, l]),
                                                                i = 0,
                                                                r = 1,
                                                                o = 1,
                                                                h = !0;
                                                                break
                                                            }
                                                            c.push([u, l])
                                                        }
                                                    else if (!(a & ws))
                                                        break
                                                } else if (1 === i) {
                                                    if (0 === o)
                                                        break;
                                                    if (void 0 !== t.cells[l + 1] && void 0 !== t.cells[l + 1][u])
                                                        i = 0,
                                                        r = 1,
                                                        o = 0;
                                                    else {
                                                        if (!(a & bs)) {
                                                            c.push([u + s.topleft, l + 1]),
                                                            i = 0,
                                                            r = -1,
                                                            o = 0,
                                                            h = !0;
                                                            break
                                                        }
                                                        c.push([u + 1, l + 1]),
                                                        i = 1,
                                                        r = 0,
                                                        o = 1
                                                    }
                                                } else if (-1 === r) {
                                                    if (1 !== o)
                                                        break;
                                                    if (void 0 !== t.cells[l][u + 1])
                                                        i = 1,
                                                        r = 0,
                                                        o = 1;
                                                    else {
                                                        if (!(a & xs)) {
                                                            c.push([u + 1, l + s.righttop]),
                                                            i = -1,
                                                            r = 0,
                                                            o = 1,
                                                            h = !0;
                                                            break
                                                        }
                                                        c.push([u + 1, l]),
                                                        i = 0,
                                                        r = -1,
                                                        o = 1
                                                    }
                                                } else {
                                                    if (1 !== r)
                                                        break;
                                                    if (0 !== o)
                                                        break;
                                                    if (void 0 !== t.cells[l][u - 1])
                                                        i = -1,
                                                        r = 0,
                                                        o = 0;
                                                    else {
                                                        if (!(a & ws)) {
                                                            c.push([u, l + s.leftbottom]),
                                                            i = 1,
                                                            r = 0,
                                                            o = 0,
                                                            h = !0;
                                                            break
                                                        }
                                                        c.push([u, l + 1]),
                                                        i = 0,
                                                        r = 1,
                                                        o = 0
                                                    }
                                                }
                                                if (l += r,
                                                (u += i) === e && l === n)
                                                    break
                                            }
                                            return {
                                                path: c,
                                                i: u,
                                                j: l,
                                                x: i,
                                                y: r,
                                                o: o
                                            }
                                        }(t, l -= u.x, c -= u.y, u.x, u.y, u.o);
                                        if (null === h)
                                            break;
                                        h.path.forEach(function(t) {
                                            r.push(t)
                                        }),
                                        l = h.i,
                                        c = h.j,
                                        a = h
                                    }
                                } while (void 0 !== t.cells[c][l] && t.cells[c][l].edges.length > 0);
                                e.push(r),
                                r = [],
                                t.cells[o][s].edges.length > 0 && s--
                            }
                    return e
                }(l)),
                "function" == typeof Cs.successCallback && Cs.successCallback(u),
                u
            }
            function Jn(t, e, n) {
                return (t - e) / (n - e)
            }
            function ti(t) {
                return t.constructor.toString().indexOf("Array") > -1
            }
            function ei(t, e, n) {
                if (!x(n = n || {}))
                    throw new Error("options is invalid");
                var i = n.pivot
                  , r = n.mutate;
                if (!t)
                    throw new Error("geojson is required");
                if (void 0 === e || null === e || isNaN(e))
                    throw new Error("angle is required");
                return 0 === e ? t : (i || (i = le(t)),
                !1 !== r && void 0 !== r || (t = kt(t)),
                L(t, function(t) {
                    var n = $e(i, t) + e
                      , r = Ze(i, t)
                      , o = z(Yn(i, r, n));
                    t[0] = o[0],
                    t[1] = o[1]
                }),
                t)
            }
            function ni(t, e, n) {
                if (!x(n = n || {}))
                    throw new Error("options is invalid");
                var i = n.origin
                  , r = n.mutate;
                if (!t)
                    throw new Error("geojson required");
                if ("number" != typeof e || 0 === e)
                    throw new Error("invalid factor");
                var o = Array.isArray(i) || "object" == typeof i;
                return !0 !== r && (t = kt(t)),
                "FeatureCollection" !== t.type || o ? ii(t, e, i) : (T(t, function(n, r) {
                    t.features[r] = ii(n, e, i)
                }),
                t)
            }
            function ii(t, e, n) {
                var r = "Point" === Z(t);
                return n = function(t, e) {
                    if (void 0 !== e && null !== e || (e = "centroid"),
                    Array.isArray(e) || "object" == typeof e)
                        return j(e);
                    var n = t.bbox ? t.bbox : U(t)
                      , r = n[0]
                      , o = n[1]
                      , s = n[2]
                      , a = n[3];
                    switch (e) {
                    case "sw":
                    case "southwest":
                    case "westsouth":
                    case "bottomleft":
                        return i([r, o]);
                    case "se":
                    case "southeast":
                    case "eastsouth":
                    case "bottomright":
                        return i([s, o]);
                    case "nw":
                    case "northwest":
                    case "westnorth":
                    case "topleft":
                        return i([r, a]);
                    case "ne":
                    case "northeast":
                    case "eastnorth":
                    case "topright":
                        return i([s, a]);
                    case "center":
                        return ue(t);
                    case void 0:
                    case null:
                    case "centroid":
                        return le(t);
                    default:
                        throw new Error("invalid origin")
                    }
                }(t, n),
                1 === e || r ? t : (L(t, function(t) {
                    var i = Ze(n, t)
                      , r = $e(n, t)
                      , o = z(Yn(n, i * e, r));
                    t[0] = o[0],
                    t[1] = o[1],
                    3 === t.length && (t[2] *= e)
                }),
                t)
            }
            function ri(t) {
                var e = t[0]
                  , n = t[1];
                return [n[0] - e[0], n[1] - e[1]]
            }
            function oi(t, e) {
                return t[0] * e[1] - e[0] * t[1]
            }
            function si(t, e, n) {
                var i = []
                  , r = v(e, n)
                  , o = z(t)
                  , s = [];
                return o.forEach(function(t, e) {
                    if (e !== o.length - 1) {
                        var n = function(t, e, n) {
                            var i = Math.sqrt((t[0] - e[0]) * (t[0] - e[0]) + (t[1] - e[1]) * (t[1] - e[1]))
                              , r = t[0] + n * (e[1] - t[1]) / i
                              , o = e[0] + n * (e[1] - t[1]) / i;
                            return [[r, t[1] + n * (t[0] - e[0]) / i], [o, e[1] + n * (t[0] - e[0]) / i]]
                        }(t, o[e + 1], r);
                        if (i.push(n),
                        e > 0) {
                            var a = i[e - 1]
                              , u = function(t, e) {
                                return !function(t, e) {
                                    return 0 === oi(ri(t), ri(e))
                                }(t, e) && function(t, e) {
                                    var n = t[0]
                                      , i = ri(t)
                                      , r = e[0]
                                      , o = ri(e)
                                      , s = oi(i, o);
                                    return function(t, e) {
                                        return [t[0] + e[0], t[1] + e[1]]
                                    }(n, function(t, e) {
                                        return [t * e[0], t * e[1]]
                                    }(oi(function(t, e) {
                                        return [t[0] - e[0], t[1] - e[1]]
                                    }(r, n), o) / s, i))
                                }(t, e)
                            }(n, a);
                            !1 !== u && (a[1] = u,
                            n[0] = u),
                            s.push(a[0]),
                            e === o.length - 2 && (s.push(n[0]),
                            s.push(n[1]))
                        }
                        2 === o.length && (s.push(n[0]),
                        s.push(n[1]))
                    }
                }),
                a(s, t.properties)
            }
            function ai(t, e, n) {
                var i = e[0] - t[0]
                  , r = e[1] - t[1]
                  , o = n[0] - e[0]
                  , s = n[1] - e[1];
                return Math.sign(i * s - o * r)
            }
            function ui(t, e) {
                return e.geometry.coordinates[0].every(function(e) {
                    return St(i(e), t)
                })
            }
            function li(t, e) {
                for (var n = 0; n < t.coordinates.length - 1; n++)
                    if (function(t, e, n) {
                        var i = n[0] - t[0]
                          , r = n[1] - t[1]
                          , o = e[0] - t[0]
                          , s = e[1] - t[1];
                        return i * s - r * o == 0 && (Math.abs(o) >= Math.abs(s) ? o > 0 ? t[0] <= n[0] && n[0] <= e[0] : e[0] <= n[0] && n[0] <= t[0] : s > 0 ? t[1] <= n[1] && n[1] <= e[1] : e[1] <= n[1] && n[1] <= t[1])
                    }(t.coordinates[n], t.coordinates[n + 1], e.coordinates))
                        return !0;
                return !1
            }
            function ci(t, e) {
                return He(e, Nn(t)).features.length > 0
            }
            function hi(t, e) {
                return !(t[0] > e[0] || t[2] < e[2] || t[1] > e[1] || t[3] < e[3])
            }
            function pi(t, e) {
                return t[0] === e[0] && t[1] === e[1]
            }
            function fi(t, e) {
                for (var n = !1, i = !1, r = t.coordinates.length, o = 0; o < r && !n && !i; ) {
                    for (var s = 0; s < e.coordinates.length - 1; s++) {
                        var a = !0;
                        0 !== s && s !== e.coordinates.length - 2 || (a = !1),
                        yi(e.coordinates[s], e.coordinates[s + 1], t.coordinates[o], a) ? n = !0 : i = !0
                    }
                    o++
                }
                return n && i
            }
            function di(t, e) {
                return He(t, Nn(e)).features.length > 0
            }
            function gi(t, e) {
                for (var n = !1, r = !1, o = t.coordinates[0].length, s = 0; s < o && n && r; )
                    St(i(t.coordinates[0][s]), e) ? n = !0 : r = !0,
                    s++;
                return r && r
            }
            function yi(t, e, n, i) {
                var r = n[0] - t[0]
                  , o = n[1] - t[1]
                  , s = e[0] - t[0]
                  , a = e[1] - t[1];
                return 0 == r * a - o * s && (i ? Math.abs(s) >= Math.abs(a) ? s > 0 ? t[0] <= n[0] && n[0] <= e[0] : e[0] <= n[0] && n[0] <= t[0] : a > 0 ? t[1] <= n[1] && n[1] <= e[1] : e[1] <= n[1] && n[1] <= t[1] : Math.abs(s) >= Math.abs(a) ? s > 0 ? t[0] < n[0] && n[0] < e[0] : e[0] < n[0] && n[0] < t[0] : a > 0 ? t[1] < n[1] && n[1] < e[1] : e[1] < n[1] && n[1] < t[1])
            }
            function vi(t) {
                return t.coordinates.map(function(e) {
                    return {
                        type: t.type.replace("Multi", ""),
                        coordinates: e
                    }
                })
            }
            function mi(t, e) {
                return t.hasOwnProperty("coordinates") ? t.coordinates.length === e.coordinates.length : t.length === e.length
            }
            function _i(t, e) {
                return Ea(t, e, {
                    strict: !0
                })
            }
            function Ei(t, e) {
                if (!t)
                    throw new Error("feature1 is required");
                if (!e)
                    throw new Error("feature2 is required");
                var n = Z(t);
                if (n !== Z(e))
                    throw new Error("features must be of the same type");
                if ("Point" === n)
                    throw new Error("Point geometry not supported");
                if (new wa({
                    precision: 6
                }).compare(t, e))
                    return !1;
                var i = 0;
                switch (n) {
                case "MultiPoint":
                    var r = A(t)
                      , o = A(e);
                    r.forEach(function(t) {
                        o.forEach(function(e) {
                            t[0] === e[0] && t[1] === e[1] && i++
                        })
                    });
                    break;
                case "LineString":
                case "MultiLineString":
                    G(t, function(t) {
                        G(e, function(e) {
                            Un(t, e).features.length && i++
                        })
                    });
                    break;
                case "Polygon":
                case "MultiPolygon":
                    G(t, function(t) {
                        G(e, function(e) {
                            He(t, e).features.length && i++
                        })
                    })
                }
                return i > 0
            }
            function Ci(t, e, n) {
                n = n || [];
                for (var i = 0; i < t; i++)
                    n[i] = e;
                return n
            }
            function wi(t, e) {
                if (t.geometry && t.geometry.type)
                    return t.geometry.type;
                if (t.type)
                    return t.type;
                throw new Error("Invalid GeoJSON object for " + e)
            }
            function bi(t) {
                for (var e = t, n = []; e.parent; )
                    n.unshift(e),
                    e = e.parent;
                return n
            }
            function xi(t, e) {
                e = e || {},
                this.nodes = [],
                this.diagonal = !!e.diagonal,
                this.grid = [];
                for (var n = 0; n < t.length; n++) {
                    this.grid[n] = [];
                    for (var i = 0, r = t[n]; i < r.length; i++) {
                        var o = new Ii(n,i,r[i]);
                        this.grid[n][i] = o,
                        this.nodes.push(o)
                    }
                }
                this.init()
            }
            function Ii(t, e, n) {
                this.x = t,
                this.y = e,
                this.weight = n
            }
            function Pi(t) {
                this.content = [],
                this.scoreFunction = t
            }
            function Li(t) {
                return t[0]
            }
            function Si(t) {
                return t[1]
            }
            function Ni() {
                this._ = null
            }
            function Mi(t) {
                t.U = t.C = t.L = t.R = t.P = t.N = null
            }
            function Ti(t, e) {
                var n = e
                  , i = e.R
                  , r = n.U;
                r ? r.L === n ? r.L = i : r.R = i : t._ = i,
                i.U = r,
                n.U = i,
                n.R = i.L,
                n.R && (n.R.U = n),
                i.L = n
            }
            function Oi(t, e) {
                var n = e
                  , i = e.L
                  , r = n.U;
                r ? r.L === n ? r.L = i : r.R = i : t._ = i,
                i.U = r,
                n.U = i,
                n.L = i.R,
                n.L && (n.L.U = n),
                i.R = n
            }
            function Ai(t) {
                for (; t.L; )
                    t = t.L;
                return t
            }
            function Di(t, e, n, i) {
                var r = [null, null]
                  , o = Ba.push(r) - 1;
                return r.left = t,
                r.right = e,
                n && ki(r, t, e, n),
                i && ki(r, e, t, i),
                Fa[t.index].halfedges.push(o),
                Fa[e.index].halfedges.push(o),
                r
            }
            function Ri(t, e, n) {
                var i = [e, n];
                return i.left = t,
                i
            }
            function ki(t, e, n, i) {
                t[0] || t[1] ? t.left === n ? t[1] = i : t[0] = i : (t[0] = i,
                t.left = e,
                t.right = n)
            }
            function Fi(t, e, n, i, r) {
                var o, s = t[0], a = t[1], u = s[0], l = s[1], c = 0, h = 1, p = a[0] - u, f = a[1] - l;
                if (o = e - u,
                p || !(o > 0)) {
                    if (o /= p,
                    p < 0) {
                        if (o < c)
                            return;
                        o < h && (h = o)
                    } else if (p > 0) {
                        if (o > h)
                            return;
                        o > c && (c = o)
                    }
                    if (o = i - u,
                    p || !(o < 0)) {
                        if (o /= p,
                        p < 0) {
                            if (o > h)
                                return;
                            o > c && (c = o)
                        } else if (p > 0) {
                            if (o < c)
                                return;
                            o < h && (h = o)
                        }
                        if (o = n - l,
                        f || !(o > 0)) {
                            if (o /= f,
                            f < 0) {
                                if (o < c)
                                    return;
                                o < h && (h = o)
                            } else if (f > 0) {
                                if (o > h)
                                    return;
                                o > c && (c = o)
                            }
                            if (o = r - l,
                            f || !(o < 0)) {
                                if (o /= f,
                                f < 0) {
                                    if (o > h)
                                        return;
                                    o > c && (c = o)
                                } else if (f > 0) {
                                    if (o < c)
                                        return;
                                    o < h && (h = o)
                                }
                                return !(c > 0 || h < 1) || (c > 0 && (t[0] = [u + c * p, l + c * f]),
                                h < 1 && (t[1] = [u + h * p, l + h * f]),
                                !0)
                            }
                        }
                    }
                }
            }
            function Gi(t, e, n, i, r) {
                var o = t[1];
                if (o)
                    return !0;
                var s, a, u = t[0], l = t.left, c = t.right, h = l[0], p = l[1], f = c[0], d = c[1], g = (h + f) / 2, y = (p + d) / 2;
                if (d === p) {
                    if (g < e || g >= i)
                        return;
                    if (h > f) {
                        if (u) {
                            if (u[1] >= r)
                                return
                        } else
                            u = [g, n];
                        o = [g, r]
                    } else {
                        if (u) {
                            if (u[1] < n)
                                return
                        } else
                            u = [g, r];
                        o = [g, n]
                    }
                } else if (a = y - (s = (h - f) / (d - p)) * g,
                s < -1 || s > 1)
                    if (h > f) {
                        if (u) {
                            if (u[1] >= r)
                                return
                        } else
                            u = [(n - a) / s, n];
                        o = [(r - a) / s, r]
                    } else {
                        if (u) {
                            if (u[1] < n)
                                return
                        } else
                            u = [(r - a) / s, r];
                        o = [(n - a) / s, n]
                    }
                else if (p < d) {
                    if (u) {
                        if (u[0] >= i)
                            return
                    } else
                        u = [e, s * e + a];
                    o = [i, s * i + a]
                } else {
                    if (u) {
                        if (u[0] < e)
                            return
                    } else
                        u = [i, s * i + a];
                    o = [e, s * e + a]
                }
                return t[0] = u,
                t[1] = o,
                !0
            }
            function Bi(t, e) {
                var n = t.site
                  , i = e.left
                  , r = e.right;
                return n === r && (r = i,
                i = n),
                r ? Math.atan2(r[1] - i[1], r[0] - i[0]) : (n === i ? (i = e[1],
                r = e[0]) : (i = e[0],
                r = e[1]),
                Math.atan2(i[0] - r[0], r[1] - i[1]))
            }
            function qi(t, e) {
                return e[+(e.left !== t.site)]
            }
            function Vi(t, e) {
                return e[+(e.left === t.site)]
            }
            function Ui(t) {
                var e = t.P
                  , n = t.N;
                if (e && n) {
                    var i = e.site
                      , r = t.site
                      , o = n.site;
                    if (i !== o) {
                        var s = r[0]
                          , a = r[1]
                          , u = i[0] - s
                          , l = i[1] - a
                          , c = o[0] - s
                          , h = o[1] - a
                          , p = 2 * (u * h - l * c);
                        if (!(p >= -ja)) {
                            var f = u * u + l * l
                              , d = c * c + h * h
                              , g = (h * f - l * d) / p
                              , y = (u * d - c * f) / p
                              , v = qa.pop() || new function() {
                                Mi(this),
                                this.x = this.y = this.arc = this.site = this.cy = null
                            }
                            ;
                            v.arc = t,
                            v.site = r,
                            v.x = g + s,
                            v.y = (v.cy = y + a) + Math.sqrt(g * g + y * y),
                            t.circle = v;
                            for (var m = null, _ = Ga._; _; )
                                if (v.y < _.y || v.y === _.y && v.x <= _.x) {
                                    if (!_.L) {
                                        m = _.P;
                                        break
                                    }
                                    _ = _.L
                                } else {
                                    if (!_.R) {
                                        m = _;
                                        break
                                    }
                                    _ = _.R
                                }
                            Ga.insert(m, v),
                            m || (Ra = v)
                        }
                    }
                }
            }
            function ji(t) {
                var e = t.circle;
                e && (e.P || (Ra = e.N),
                Ga.remove(e),
                qa.push(e),
                Mi(e),
                t.circle = null)
            }
            function zi(t) {
                var e = Va.pop() || new function() {
                    Mi(this),
                    this.edge = this.site = this.circle = null
                }
                ;
                return e.site = t,
                e
            }
            function Yi(t) {
                ji(t),
                ka.remove(t),
                Va.push(t),
                Mi(t)
            }
            function Hi(t) {
                var e = t.circle
                  , n = e.x
                  , i = e.cy
                  , r = [n, i]
                  , o = t.P
                  , s = t.N
                  , a = [t];
                Yi(t);
                for (var u = o; u.circle && Math.abs(n - u.circle.x) < Ua && Math.abs(i - u.circle.cy) < Ua; )
                    o = u.P,
                    a.unshift(u),
                    Yi(u),
                    u = o;
                a.unshift(u),
                ji(u);
                for (var l = s; l.circle && Math.abs(n - l.circle.x) < Ua && Math.abs(i - l.circle.cy) < Ua; )
                    s = l.N,
                    a.push(l),
                    Yi(l),
                    l = s;
                a.push(l),
                ji(l);
                var c, h = a.length;
                for (c = 1; c < h; ++c)
                    l = a[c],
                    u = a[c - 1],
                    ki(l.edge, u.site, l.site, r);
                u = a[0],
                (l = a[h - 1]).edge = Di(u.site, l.site, null, r),
                Ui(u),
                Ui(l)
            }
            function Xi(t) {
                for (var e, n, i, r, o = t[0], s = t[1], a = ka._; a; )
                    if ((i = Wi(a, s) - o) > Ua)
                        a = a.L;
                    else {
                        if (!((r = o - function(t, e) {
                            var n = t.N;
                            if (n)
                                return Wi(n, e);
                            var i = t.site;
                            return i[1] === e ? i[0] : 1 / 0
                        }(a, s)) > Ua)) {
                            i > -Ua ? (e = a.P,
                            n = a) : r > -Ua ? (e = a,
                            n = a.N) : e = n = a;
                            break
                        }
                        if (!a.R) {
                            e = a;
                            break
                        }
                        a = a.R
                    }
                !function(t) {
                    Fa[t.index] = {
                        site: t,
                        halfedges: []
                    }
                }(t);
                var u = zi(t);
                if (ka.insert(e, u),
                e || n) {
                    if (e === n)
                        return ji(e),
                        n = zi(e.site),
                        ka.insert(u, n),
                        u.edge = n.edge = Di(e.site, u.site),
                        Ui(e),
                        void Ui(n);
                    if (n) {
                        ji(e),
                        ji(n);
                        var l = e.site
                          , c = l[0]
                          , h = l[1]
                          , p = t[0] - c
                          , f = t[1] - h
                          , d = n.site
                          , g = d[0] - c
                          , y = d[1] - h
                          , v = 2 * (p * y - f * g)
                          , m = p * p + f * f
                          , _ = g * g + y * y
                          , E = [(y * m - f * _) / v + c, (p * _ - g * m) / v + h];
                        ki(n.edge, l, d, E),
                        u.edge = Di(l, t, null, E),
                        n.edge = Di(t, d, null, E),
                        Ui(e),
                        Ui(n)
                    } else
                        u.edge = Di(e.site, u.site)
                }
            }
            function Wi(t, e) {
                var n = t.site
                  , i = n[0]
                  , r = n[1]
                  , o = r - e;
                if (!o)
                    return i;
                var s = t.P;
                if (!s)
                    return -1 / 0;
                var a = (n = s.site)[0]
                  , u = n[1]
                  , l = u - e;
                if (!l)
                    return a;
                var c = a - i
                  , h = 1 / o - 1 / l
                  , p = c / l;
                return h ? (-p + Math.sqrt(p * p - 2 * h * (c * c / (-2 * l) - u + l / 2 + r - o / 2))) / h + i : (i + a) / 2
            }
            function $i(t, e, n) {
                return (t[0] - n[0]) * (e[1] - t[1]) - (t[0] - e[0]) * (n[1] - t[1])
            }
            function Ki(t, e) {
                return e[1] - t[1] || e[0] - t[0]
            }
            function Zi(t, e) {
                var n, i, r, o = t.sort(Ki).pop();
                for (Ba = [],
                Fa = new Array(t.length),
                ka = new Ni,
                Ga = new Ni; ; )
                    if (r = Ra,
                    o && (!r || o[1] < r.y || o[1] === r.y && o[0] < r.x))
                        o[0] === n && o[1] === i || (Xi(o),
                        n = o[0],
                        i = o[1]),
                        o = t.pop();
                    else {
                        if (!r)
                            break;
                        Hi(r.arc)
                    }
                if (function() {
                    for (var t, e, n, i, r = 0, o = Fa.length; r < o; ++r)
                        if ((t = Fa[r]) && (i = (e = t.halfedges).length)) {
                            var s = new Array(i)
                              , a = new Array(i);
                            for (n = 0; n < i; ++n)
                                s[n] = n,
                                a[n] = Bi(t, Ba[e[n]]);
                            for (s.sort(function(t, e) {
                                return a[e] - a[t]
                            }),
                            n = 0; n < i; ++n)
                                a[n] = e[s[n]];
                            for (n = 0; n < i; ++n)
                                e[n] = a[n]
                        }
                }(),
                e) {
                    var s = +e[0][0]
                      , a = +e[0][1]
                      , u = +e[1][0]
                      , l = +e[1][1];
                    !function(t, e, n, i) {
                        for (var r, o = Ba.length; o--; )
                            Gi(r = Ba[o], t, e, n, i) && Fi(r, t, e, n, i) && (Math.abs(r[0][0] - r[1][0]) > Ua || Math.abs(r[0][1] - r[1][1]) > Ua) || delete Ba[o]
                    }(s, a, u, l),
                    function(t, e, n, i) {
                        var r, o, s, a, u, l, c, h, p, f, d, g, y = Fa.length, v = !0;
                        for (r = 0; r < y; ++r)
                            if (o = Fa[r]) {
                                for (s = o.site,
                                a = (u = o.halfedges).length; a--; )
                                    Ba[u[a]] || u.splice(a, 1);
                                for (a = 0,
                                l = u.length; a < l; )
                                    d = (f = Vi(o, Ba[u[a]]))[0],
                                    g = f[1],
                                    h = (c = qi(o, Ba[u[++a % l]]))[0],
                                    p = c[1],
                                    (Math.abs(d - h) > Ua || Math.abs(g - p) > Ua) && (u.splice(a, 0, Ba.push(Ri(s, f, Math.abs(d - t) < Ua && i - g > Ua ? [t, Math.abs(h - t) < Ua ? p : i] : Math.abs(g - i) < Ua && n - d > Ua ? [Math.abs(p - i) < Ua ? h : n, i] : Math.abs(d - n) < Ua && g - e > Ua ? [n, Math.abs(h - n) < Ua ? p : e] : Math.abs(g - e) < Ua && d - t > Ua ? [Math.abs(p - e) < Ua ? h : t, e] : null)) - 1),
                                    ++l);
                                l && (v = !1)
                            }
                        if (v) {
                            var m, _, E, C = 1 / 0;
                            for (r = 0,
                            v = null; r < y; ++r)
                                (o = Fa[r]) && (E = (m = (s = o.site)[0] - t) * m + (_ = s[1] - e) * _) < C && (C = E,
                                v = o);
                            if (v) {
                                var w = [t, e]
                                  , b = [t, i]
                                  , x = [n, i]
                                  , I = [n, e];
                                v.halfedges.push(Ba.push(Ri(s = v.site, w, b)) - 1, Ba.push(Ri(s, b, x)) - 1, Ba.push(Ri(s, x, I)) - 1, Ba.push(Ri(s, I, w)) - 1)
                            }
                        }
                        for (r = 0; r < y; ++r)
                            (o = Fa[r]) && (o.halfedges.length || delete Fa[r])
                    }(s, a, u, l)
                }
                this.edges = Ba,
                this.cells = Fa,
                ka = Ga = Ba = Fa = null
            }
            function Qi(t) {
                return (t = t.slice()).push(t[0]),
                o([t])
            }
            function Ji(t, e, n, i) {
                var r = (i = i || {}).steps || 64
                  , s = i.units || "kilometers"
                  , a = i.angle || 0
                  , u = i.pivot || t
                  , l = i.properties || t.properties || {};
                if (!t)
                    throw new Error("center is required");
                if (!e)
                    throw new Error("xSemiAxis is required");
                if (!n)
                    throw new Error("ySemiAxis is required");
                if (!x(i))
                    throw new Error("options must be an object");
                if (!b(r))
                    throw new Error("steps must be a number");
                if (!b(a))
                    throw new Error("angle must be a number");
                var c = j(t);
                if ("degrees" === s)
                    var h = E(a);
                else
                    e = Yn(t, e, 90, {
                        units: s
                    }),
                    n = Yn(t, n, 0, {
                        units: s
                    }),
                    e = j(e)[0] - c[0],
                    n = j(n)[1] - c[1];
                for (var p = [], f = 0; f < r; f += 1) {
                    var d = -360 * f / r
                      , g = e * n / Math.sqrt(Math.pow(n, 2) + Math.pow(e, 2) * Math.pow(tr(d), 2))
                      , y = e * n / Math.sqrt(Math.pow(e, 2) + Math.pow(n, 2) / Math.pow(tr(d), 2));
                    if (d < -90 && d >= -270 && (g = -g),
                    d < -180 && d >= -360 && (y = -y),
                    "degrees" === s) {
                        var v = g * Math.cos(h) + y * Math.sin(h)
                          , m = y * Math.cos(h) - g * Math.sin(h);
                        g = v,
                        y = m
                    }
                    p.push([g + c[0], y + c[1]])
                }
                return p.push(p[0]),
                "degrees" === s ? o([p], l) : ei(o([p], l), a, {
                    pivot: u
                })
            }
            function tr(t) {
                var e = t * Math.PI / 180;
                return Math.tan(e)
            }
            function er(t, e) {
                if (!x(e = e || {}))
                    throw new Error("options is invalid");
                var n = e.properties
                  , r = e.weight;
                if (!t)
                    throw new Error("geojson is required");
                var o = 0
                  , s = 0
                  , a = 0;
                return D(t, function(t, e, n) {
                    var i = n[r];
                    if (!b(i = void 0 === i || null === i ? 1 : i))
                        throw new Error("weight value must be a number for feature index " + e);
                    (i = Number(i)) > 0 && L(t, function(t) {
                        o += t[0] * i,
                        s += t[1] * i,
                        a += i
                    })
                }),
                i([o / a, s / a], n)
            }
            function nr(t, e, n, r) {
                var o = n.properties.tolerance || .001
                  , s = 0
                  , a = 0
                  , u = 0
                  , l = 0;
                if (T(n, function(e) {
                    var n = e.properties.weight
                      , i = void 0 === n || null === n ? 1 : n;
                    if (!b(i = Number(i)))
                        throw new Error("weight value must be a number");
                    if (i > 0) {
                        l += 1;
                        var r = i * Rt(e, t);
                        0 === r && (r = 1);
                        var o = i / r;
                        s += e.geometry.coordinates[0] * o,
                        a += e.geometry.coordinates[1] * o,
                        u += o
                    }
                }),
                l < 1)
                    throw new Error("no features to measure");
                var c = s / u
                  , h = a / u;
                return 1 === l || 0 === r || Math.abs(c - e[0]) < o && Math.abs(h - e[1]) < o ? i([c, h], {
                    medianCandidates: n.properties.medianCandidates
                }) : (n.properties.medianCandidates.push([c, h]),
                nr([c, h], t, n, r - 1))
            }
            function ir(t, e) {
                return {
                    x: t[0] - e[0],
                    y: t[1] - e[1]
                }
            }
            function rr(t) {
                if (x(t) && (t = t.bbox),
                t && !Array.isArray(t))
                    throw new Error("bbox is invalid");
                return t ? function(t) {
                    return [Math.random() * (t[2] - t[0]) + t[0], Math.random() * (t[3] - t[1]) + t[1]]
                }(t) : [360 * ur(), 180 * ur()]
            }
            function or(t, e) {
                if (!x(e = e || {}))
                    throw new Error("options is invalid");
                var n = e.bbox;
                void 0 !== t && null !== t || (t = 1);
                for (var r = [], o = 0; o < t; o++)
                    r.push(i(rr(n)));
                return l(r)
            }
            function sr(t, e) {
                if (!x(e = e || {}))
                    throw new Error("options is invalid");
                var n = e.bbox
                  , i = e.num_vertices
                  , r = e.max_radial_length;
                void 0 !== t && null !== t || (t = 1),
                b(i) || (i = 10),
                b(r) || (r = 10);
                for (var s = [], a = 0; a < t; a++) {
                    var u = []
                      , c = Array.apply(null, new Array(i + 1)).map(Math.random);
                    c.forEach(function(t, e, n) {
                        n[e] = e > 0 ? t + n[e - 1] : t
                    }),
                    c.forEach(function(t) {
                        t = 2 * t * Math.PI / c[c.length - 1];
                        var e = Math.random();
                        u.push([e * r * Math.sin(t), e * r * Math.cos(t)])
                    }),
                    u[u.length - 1] = u[0],
                    u = u.map(function(t) {
                        return function(e) {
                            return [e[0] + t[0], e[1] + t[1]]
                        }
                    }(rr(n))),
                    s.push(o([u]))
                }
                return l(s)
            }
            function ar(t, e) {
                if (!x(e = e || {}))
                    throw new Error("options is invalid");
                var n = e.bbox
                  , i = e.num_vertices
                  , r = e.max_length
                  , o = e.max_rotation;
                void 0 !== t && null !== t || (t = 1),
                (!b(i) || i < 2) && (i = 10),
                b(r) || (r = 1e-4),
                b(o) || (o = Math.PI / 8);
                for (var s = [], u = 0; u < t; u++) {
                    for (var c = [rr(n)], h = 0; h < i - 1; h++) {
                        var p = (0 === h ? 2 * Math.random() * Math.PI : Math.tan((c[h][1] - c[h - 1][1]) / (c[h][0] - c[h - 1][0]))) + (Math.random() - .5) * o * 2
                          , f = Math.random() * r;
                        c.push([c[h][0] + f * Math.cos(p), c[h][1] + f * Math.sin(p)])
                    }
                    s.push(a(c))
                }
                return l(s)
            }
            function ur() {
                return Math.random() - .5
            }
            function lr(t, e) {
                if (!t)
                    throw new Error("geojson is required");
                if ("FeatureCollection" !== t.type)
                    throw new Error("geojson must be a FeatureCollection");
                if (void 0 === e || null === e)
                    throw new Error("filter is required");
                var n = [];
                return T(t, function(t) {
                    fr(t.properties, e) && n.push(t)
                }),
                l(n)
            }
            function cr(t, e, n) {
                if (!t)
                    throw new Error("geojson is required");
                if ("FeatureCollection" !== t.type)
                    throw new Error("geojson must be a FeatureCollection");
                if (void 0 === e || null === e)
                    throw new Error("property is required");
                for (var i = pr(t, e), r = Object.keys(i), o = 0; o < r.length; o++) {
                    for (var s = r[o], a = i[s], u = [], c = 0; c < a.length; c++)
                        u.push(t.features[a[c]]);
                    n(l(u), s, o)
                }
            }
            function hr(t, e, n, i) {
                var r = i;
                return cr(t, e, function(t, e, o) {
                    r = 0 === o && void 0 === i ? t : n(r, t, e, o)
                }),
                r
            }
            function pr(t, e) {
                var n = {};
                return T(t, function(t, i) {
                    var r = t.properties || {};
                    if (r.hasOwnProperty(e)) {
                        var o = r[e];
                        n.hasOwnProperty(o) ? n[o].push(i) : n[o] = [i]
                    }
                }),
                n
            }
            function fr(t, e) {
                if (void 0 === t)
                    return !1;
                var n = typeof e;
                if ("number" === n || "string" === n)
                    return t.hasOwnProperty(e);
                if (Array.isArray(e)) {
                    for (var i = 0; i < e.length; i++)
                        if (!fr(t, e[i]))
                            return !1;
                    return !0
                }
                return dr(t, e)
            }
            function dr(t, e) {
                for (var n = Object.keys(e), i = 0; i < n.length; i++) {
                    var r = n[i];
                    if (t[r] !== e[r])
                        return !1
                }
                return !0
            }
            function gr(t, e) {
                if (!e)
                    return {};
                if (!e.length)
                    return {};
                for (var n = {}, i = 0; i < e.length; i++) {
                    var r = e[i];
                    t.hasOwnProperty(r) && (n[r] = t[r])
                }
                return n
            }
            function yr() {}
            function vr(t) {
                this.message = t || ""
            }
            function mr(t) {
                this.message = t || ""
            }
            function _r() {}
            function Er(t) {
                return null === t ? cl : t.color
            }
            function Cr(t) {
                return null === t ? null : t.parent
            }
            function wr(t, e) {
                null !== t && (t.color = e)
            }
            function br(t) {
                return null === t ? null : t.left
            }
            function xr(t) {
                return null === t ? null : t.right
            }
            function Ir() {
                this.root_ = null,
                this.size_ = 0
            }
            function Pr() {}
            function Lr() {
                this.array_ = [],
                arguments[0]instanceof $u && this.addAll(arguments[0])
            }
            function Sr() {}
            function Nr(t) {
                this.message = t || ""
            }
            function Mr() {
                this.array_ = []
            }
            function Tr(t) {
                switch (t.type) {
                case "Polygon":
                    return un(t) > 1 ? t : null;
                case "MultiPolygon":
                    var e = [];
                    if (k(t, function(t) {
                        un(t) > 1 && e.push(t.geometry.coordinates)
                    }),
                    e.length)
                        return {
                            type: "MultiPolygon",
                            coordinates: e
                        }
                }
            }
            function Or() {
                this.reset()
            }
            function Ar(t, e, n) {
                var i = t.s = e + n
                  , r = i - e
                  , o = i - r;
                t.t = e - o + (n - r)
            }
            function Dr(t) {
                return t > 1 ? yf : t < -1 ? -yf : Math.asin(t)
            }
            function Rr() {}
            function kr(t, e) {
                t && Tf.hasOwnProperty(t.type) && Tf[t.type](t, e)
            }
            function Fr(t, e, n) {
                var i, r = -1, o = t.length - n;
                for (e.lineStart(); ++r < o; )
                    i = t[r],
                    e.point(i[0], i[1], i[2]);
                e.lineEnd()
            }
            function Gr(t, e) {
                var n = -1
                  , i = t.length;
                for (e.polygonStart(); ++n < i; )
                    Fr(t[n], e, 1);
                e.polygonEnd()
            }
            function Br(t) {
                return [bf(t[1], t[0]), Dr(t[2])]
            }
            function qr(t) {
                var e = t[0]
                  , n = t[1]
                  , i = xf(n);
                return [i * xf(e), i * Lf(e), Lf(n)]
            }
            function Vr(t, e) {
                return t[0] * e[0] + t[1] * e[1] + t[2] * e[2]
            }
            function Ur(t, e) {
                return [t[1] * e[2] - t[2] * e[1], t[2] * e[0] - t[0] * e[2], t[0] * e[1] - t[1] * e[0]]
            }
            function jr(t, e) {
                t[0] += e[0],
                t[1] += e[1],
                t[2] += e[2]
            }
            function zr(t, e) {
                return [t[0] * e, t[1] * e, t[2] * e]
            }
            function Yr(t) {
                var e = Sf(t[0] * t[0] + t[1] * t[1] + t[2] * t[2]);
                t[0] /= e,
                t[1] /= e,
                t[2] /= e
            }
            function Hr(t, e) {
                return [t > gf ? t - mf : t < -gf ? t + mf : t, e]
            }
            function Xr(t, e, n) {
                return (t %= mf) ? e || n ? Af($r(t), Kr(e, n)) : $r(t) : e || n ? Kr(e, n) : Hr
            }
            function Wr(t) {
                return function(e, n) {
                    return [(e += t) > gf ? e - mf : e < -gf ? e + mf : e, n]
                }
            }
            function $r(t) {
                var e = Wr(t);
                return e.invert = Wr(-t),
                e
            }
            function Kr(t, e) {
                function n(t, e) {
                    var n = xf(e)
                      , a = xf(t) * n
                      , u = Lf(t) * n
                      , l = Lf(e)
                      , c = l * i + a * r;
                    return [bf(u * o - c * s, a * i - l * r), Dr(c * o + u * s)]
                }
                var i = xf(t)
                  , r = Lf(t)
                  , o = xf(e)
                  , s = Lf(e);
                return n.invert = function(t, e) {
                    var n = xf(e)
                      , a = xf(t) * n
                      , u = Lf(t) * n
                      , l = Lf(e)
                      , c = l * o - u * s;
                    return [bf(u * o + l * s, a * i + c * r), Dr(c * i - a * r)]
                }
                ,
                n
            }
            function Zr(t, e) {
                (e = qr(e))[0] -= t,
                Yr(e);
                var n = function(t) {
                    return t > 1 ? 0 : t < -1 ? gf : Math.acos(t)
                }(-e[1]);
                return ((-e[2] < 0 ? -n : n) + mf - df) % mf
            }
            function Qr(t, e, n, i) {
                this.x = t,
                this.z = e,
                this.o = n,
                this.e = i,
                this.v = !1,
                this.n = this.p = null
            }
            function Jr(t) {
                if (e = t.length) {
                    for (var e, n, i = 0, r = t[0]; ++i < e; )
                        r.n = n = t[i],
                        n.p = r,
                        r = n;
                    r.n = n = t[0],
                    n.p = r
                }
            }
            function to(t) {
                return t.length > 1
            }
            function eo(t, e) {
                return ((t = t.x)[0] < 0 ? t[1] - yf - df : yf - t[1]) - ((e = e.x)[0] < 0 ? e[1] - yf - df : yf - e[1])
            }
            function no(t) {
                return function(e) {
                    var n = new io;
                    for (var i in t)
                        n[i] = t[i];
                    return n.stream = e,
                    n
                }
            }
            function io() {}
            function ro(t, e, n) {
                var i = e[1][0] - e[0][0]
                  , r = e[1][1] - e[0][1]
                  , o = t.clipExtent && t.clipExtent();
                t.scale(150).translate([0, 0]),
                null != o && t.clipExtent(null),
                Of(n, t.stream($f));
                var s = $f.result()
                  , a = Math.min(i / (s[1][0] - s[0][0]), r / (s[1][1] - s[0][1]))
                  , u = +e[0][0] + (i - a * (s[1][0] + s[0][0])) / 2
                  , l = +e[0][1] + (r - a * (s[1][1] + s[0][1])) / 2;
                return null != o && t.clipExtent(o),
                t.scale(150 * a).translate([u, l])
            }
            function oo(t) {
                return function(t) {
                    function e(t) {
                        return [(t = l(t[0] * Ef, t[1] * Ef))[0] * g + s, a - t[1] * g]
                    }
                    function n(t, e) {
                        return [(t = o(t, e))[0] * g + s, a - t[1] * g]
                    }
                    function i() {
                        l = Af(u = Xr(E, C, w), o);
                        var t = o(m, _);
                        return s = y - t[0] * g,
                        a = v + t[1] * g,
                        r()
                    }
                    function r() {
                        return f = d = null,
                        e
                    }
                    var o, s, a, u, l, c, h, p, f, d, g = 150, y = 480, v = 250, m = 0, _ = 0, E = 0, C = 0, w = 0, b = null, x = Zf, I = null, P = zf, L = .5, S = ed(n, L);
                    return e.stream = function(t) {
                        return f && d === t ? f : f = nd(x(u, S(P(d = t))))
                    }
                    ,
                    e.clipAngle = function(t) {
                        return arguments.length ? (x = +t ? Qf(b = t * Ef, 6 * Ef) : (b = null,
                        Zf),
                        r()) : b * _f
                    }
                    ,
                    e.clipExtent = function(t) {
                        return arguments.length ? (P = null == t ? (I = c = h = p = null,
                        zf) : function(t, e, n, i) {
                            function r(r, o) {
                                return t <= r && r <= n && e <= o && o <= i
                            }
                            function o(r, o, a, l) {
                                var c = 0
                                  , h = 0;
                                if (null == r || (c = s(r, a)) !== (h = s(o, a)) || u(r, o) < 0 ^ a > 0)
                                    do {
                                        l.point(0 === c || 3 === c ? t : n, c > 1 ? i : e)
                                    } while ((c = (c + a + 4) % 4) !== h);
                                else
                                    l.point(o[0], o[1])
                            }
                            function s(i, r) {
                                return Cf(i[0] - t) < df ? r > 0 ? 0 : 3 : Cf(i[0] - n) < df ? r > 0 ? 2 : 1 : Cf(i[1] - e) < df ? r > 0 ? 1 : 0 : r > 0 ? 3 : 2
                            }
                            function a(t, e) {
                                return u(t.x, e.x)
                            }
                            function u(t, e) {
                                var n = s(t, 1)
                                  , i = s(e, 1);
                                return n !== i ? n - i : 0 === n ? e[1] - t[1] : 1 === n ? t[0] - e[0] : 2 === n ? t[1] - e[1] : e[0] - t[0]
                            }
                            return function(s) {
                                function u(t, e) {
                                    r(t, e) && C.point(t, e)
                                }
                                function l(o, s) {
                                    var a = r(o, s);
                                    if (h && p.push([o, s]),
                                    _)
                                        f = o,
                                        d = s,
                                        g = a,
                                        _ = !1,
                                        a && (C.lineStart(),
                                        C.point(o, s));
                                    else if (a && m)
                                        C.point(o, s);
                                    else {
                                        var u = [y = Math.max(Uf, Math.min(Vf, y)), v = Math.max(Uf, Math.min(Vf, v))]
                                          , l = [o = Math.max(Uf, Math.min(Vf, o)), s = Math.max(Uf, Math.min(Vf, s))];
                                        kf(u, l, t, e, n, i) ? (m || (C.lineStart(),
                                        C.point(u[0], u[1])),
                                        C.point(l[0], l[1]),
                                        a || C.lineEnd(),
                                        E = !1) : a && (C.lineStart(),
                                        C.point(o, s),
                                        E = !1)
                                    }
                                    y = o,
                                    v = s,
                                    m = a
                                }
                                var c, h, p, f, d, g, y, v, m, _, E, C = s, w = Rf(), b = {
                                    point: u,
                                    lineStart: function() {
                                        b.point = l,
                                        h && h.push(p = []),
                                        _ = !0,
                                        m = !1,
                                        y = v = NaN
                                    },
                                    lineEnd: function() {
                                        c && (l(f, d),
                                        g && m && w.rejoin(),
                                        c.push(w.result())),
                                        b.point = u,
                                        m && C.lineEnd()
                                    },
                                    polygonStart: function() {
                                        C = w,
                                        c = [],
                                        h = [],
                                        E = !0
                                    },
                                    polygonEnd: function() {
                                        var e = function() {
                                            for (var e = 0, n = 0, r = h.length; n < r; ++n)
                                                for (var o, s, a = h[n], u = 1, l = a.length, c = a[0], p = c[0], f = c[1]; u < l; ++u)
                                                    o = p,
                                                    s = f,
                                                    p = (c = a[u])[0],
                                                    f = c[1],
                                                    s <= i ? f > i && (p - o) * (i - s) > (f - s) * (t - o) && ++e : f <= i && (p - o) * (i - s) < (f - s) * (t - o) && --e;
                                            return e
                                        }()
                                          , n = E && e
                                          , r = (c = qf(c)).length;
                                        (n || r) && (s.polygonStart(),
                                        n && (s.lineStart(),
                                        o(null, null, 1, s),
                                        s.lineEnd()),
                                        r && Gf(c, a, e, o, s),
                                        s.polygonEnd()),
                                        C = s,
                                        c = h = p = null
                                    }
                                };
                                return b
                            }
                        }(I = +t[0][0], c = +t[0][1], h = +t[1][0], p = +t[1][1]),
                        r()) : null == I ? null : [[I, c], [h, p]]
                    }
                    ,
                    e.scale = function(t) {
                        return arguments.length ? (g = +t,
                        i()) : g
                    }
                    ,
                    e.translate = function(t) {
                        return arguments.length ? (y = +t[0],
                        v = +t[1],
                        i()) : [y, v]
                    }
                    ,
                    e.center = function(t) {
                        return arguments.length ? (m = t[0] % 360 * Ef,
                        _ = t[1] % 360 * Ef,
                        i()) : [m * _f, _ * _f]
                    }
                    ,
                    e.rotate = function(t) {
                        return arguments.length ? (E = t[0] % 360 * Ef,
                        C = t[1] % 360 * Ef,
                        w = t.length > 2 ? t[2] % 360 * Ef : 0,
                        i()) : [E * _f, C * _f, w * _f]
                    }
                    ,
                    e.precision = function(t) {
                        return arguments.length ? (S = ed(n, L = t * t),
                        r()) : Sf(L)
                    }
                    ,
                    e.fitExtent = function(t, n) {
                        return ro(e, t, n)
                    }
                    ,
                    e.fitSize = function(t, n) {
                        return function(t, e, n) {
                            return ro(t, [[0, 0], e], n)
                        }(e, t, n)
                    }
                    ,
                    function() {
                        return o = t.apply(this, arguments),
                        e.invert = o.invert && function(t) {
                            return (t = l.invert((t[0] - s) / g, (a - t[1]) / g)) && [t[0] * _f, t[1] * _f]
                        }
                        ,
                        i()
                    }
                }(function() {
                    return t
                })()
            }
            function so(t, e) {
                return [t, Pf(Nf((yf + e) / 2))]
            }
            function ao(t, e) {
                return [Pf(Nf((yf + e) / 2)), -t]
            }
            function uo(t, n, i, r) {
                var o = t.properties || {}
                  , s = "Feature" === t.type ? t.geometry : t;
                if ("GeometryCollection" === s.type) {
                    var a = [];
                    return D(t, function(t) {
                        var e = uo(t, n, i, r);
                        e && a.push(e)
                    }),
                    l(a)
                }
                var u, c = U(t), h = c[1] > 50 && c[3] > 50;
                u = h ? {
                    type: s.type,
                    coordinates: function t(e, n) {
                        return "object" != typeof e[0] ? n(e) : e.map(function(e) {
                            return t(e, n)
                        })
                    }(s.coordinates, lo(s))
                } : Qe(s);
                var p, f = (new Jl).read(u), d = g(y(n, i), "meters"), v = zh.bufferOp(f, d);
                if (!function t(e) {
                    return Array.isArray(e[0]) ? t(e[0]) : isNaN(e[0])
                }((v = (new tc).write(v)).coordinates))
                    return (p = h ? {
                        type: v.type,
                        coordinates: function t(e, n) {
                            return "object" != typeof e[0] ? n.invert(e) : e.map(function(e) {
                                return t(e, n)
                            })
                        }(v.coordinates, lo(s))
                    } : Je(v)).geometry ? p : e(p, o)
            }
            function lo(t) {
                var e = ue(t).geometry.coordinates.reverse()
                  , n = e.map(function(t) {
                    return -t
                });
                return id().center(e).rotate(n).scale(_o)
            }
            function co() {
                for (var t = new Jl, e = t.read(JSON.stringify(arguments[0].geometry)), n = 1; n < arguments.length; n++)
                    e = hf.union(e, t.read(JSON.stringify(arguments[n].geometry)));
                return {
                    type: "Feature",
                    geometry: e = (new tc).write(e),
                    properties: arguments[0].properties
                }
            }
            function ho(t, n) {
                var i = $(t)
                  , r = $(n);
                if (Wt(_n(r, {
                    precision: 4
                })).coordinates[0].length < 4)
                    return null;
                if (Wt(_n(i, {
                    precision: 4
                })).coordinates[0].length < 4)
                    return null;
                var o = new Jl
                  , s = o.read(_n(i))
                  , a = o.read(_n(r))
                  , u = ef.intersection(s, a);
                return u.isEmpty() ? null : e((new tc).write(u))
            }
            function po(t, e) {
                return function(t, e, n) {
                    var i, r;
                    if (!Array.isArray(e))
                        throw new Error("Get closest expects an array as second argument");
                    return e.forEach(function(e, n) {
                        var o = function(t, e) {
                            return t - e
                        }(e, t);
                        o >= 0 && (void 0 === r || o < r) && (r = o,
                        i = n)
                    }),
                    i
                }(t, e)
            }
            function fo(t, e, n) {
                if (!x(n = n || {}))
                    throw new Error("options is invalid");
                var i = n.properties || {}
                  , r = n.triangles
                  , s = n.mask;
                if (null === e || void 0 === e)
                    throw new Error("cellSide is required");
                if (!b(e))
                    throw new Error("cellSide is invalid");
                if (!t)
                    throw new Error("bbox is required");
                if (!Array.isArray(t))
                    throw new Error("bbox must be array");
                if (4 !== t.length)
                    throw new Error("bbox must contain 4 numbers");
                if (s && -1 === ["Polygon", "MultiPolygon"].indexOf(Z(s)))
                    throw new Error("options.mask must be a (Multi)Polygon");
                var a = t[0]
                  , u = t[1]
                  , c = t[2]
                  , h = t[3]
                  , p = (u + h) / 2
                  , f = (a + c) / 2
                  , d = 2 * e / Rt([a, p], [c, p], n) * (c - a)
                  , g = 2 * e / Rt([f, u], [f, h], n) * (h - u)
                  , y = d / 2
                  , v = 2 * y
                  , m = Math.sqrt(3) / 2 * g
                  , _ = c - a
                  , E = h - u
                  , C = .75 * v
                  , w = m
                  , I = (_ - v) / (v - y / 2)
                  , P = Math.floor(I)
                  , L = (P * C - y / 2 - _) / 2 - y / 2 + C / 2
                  , S = Math.floor((E - m) / m)
                  , N = (E - S * m) / 2
                  , M = S * m - E > m / 2;
                M && (N -= m / 4);
                for (var T = [], O = [], A = 0; A < 6; A++) {
                    var D = 2 * Math.PI / 6 * A;
                    T.push(Math.cos(D)),
                    O.push(Math.sin(D))
                }
                for (var R = [], k = 0; k <= P; k++)
                    for (var F = 0; F <= S; F++) {
                        var G = k % 2 == 1;
                        if (!(0 === F && G || 0 === F && M)) {
                            var B = k * C + a - L
                              , q = F * w + u + N;
                            if (G && (q -= m / 2),
                            !0 === r)
                                (function(t, e, n, i, r, s) {
                                    for (var a = [], u = 0; u < 6; u++) {
                                        var l = [];
                                        l.push(t),
                                        l.push([t[0] + e * r[u], t[1] + n * s[u]]),
                                        l.push([t[0] + e * r[(u + 1) % 6], t[1] + n * s[(u + 1) % 6]]),
                                        l.push(t),
                                        a.push(o([l], i))
                                    }
                                    return a
                                }
                                )([B, q], d / 2, g / 2, i, T, O).forEach(function(t) {
                                    s ? ho(s, t) && R.push(t) : R.push(t)
                                });
                            else {
                                var V = function(t, e, n, i, r, s) {
                                    for (var a = [], u = 0; u < 6; u++) {
                                        var l = t[0] + e * r[u]
                                          , c = t[1] + n * s[u];
                                        a.push([l, c])
                                    }
                                    return a.push(a[0].slice()),
                                    o([a], i)
                                }([B, q], d / 2, g / 2, i, T, O);
                                s ? ho(s, V) && R.push(V) : R.push(V)
                            }
                        }
                    }
                return l(R)
            }
            function go(t) {
                if (t.features.length <= 1)
                    return t;
                var e = function(t) {
                    var e = No()
                      , n = [];
                    return k(t, function(t, e) {
                        var i = U(t);
                        n.push({
                            minX: i[0],
                            minY: i[1],
                            maxX: i[2],
                            maxY: i[3],
                            geojson: t,
                            index: e
                        })
                    }),
                    e.load(n),
                    e
                }(t)
                  , n = []
                  , i = {};
                return k(t, function(t, r) {
                    if (i[r])
                        return !0;
                    for (e.remove({
                        index: r
                    }, yo),
                    i[r] = !0; ; ) {
                        var o = U(t)
                          , s = e.search({
                            minX: o[0],
                            minY: o[1],
                            maxX: o[2],
                            maxY: o[3]
                        });
                        if (s.length > 0) {
                            var a = s.map(function(t) {
                                return i[t.index] = !0,
                                e.remove({
                                    index: t.index
                                }, yo),
                                t.geojson
                            });
                            a.push(t),
                            t = co.apply(this, a)
                        }
                        if (0 === s.length)
                            break
                    }
                    n.push(t)
                }),
                l(n)
            }
            function yo(t, e) {
                return t.index === e.index
            }
            function vo(t, e, n) {
                if (!x(n = n || {}))
                    throw new Error("options is invalid");
                var i = n.properties
                  , r = n.mask
                  , s = [];
                if (null === e || void 0 === e)
                    throw new Error("cellSide is required");
                if (!b(e))
                    throw new Error("cellSide is invalid");
                if (!t)
                    throw new Error("bbox is required");
                if (!Array.isArray(t))
                    throw new Error("bbox must be array");
                if (4 !== t.length)
                    throw new Error("bbox must contain 4 numbers");
                if (r && -1 === ["Polygon", "MultiPolygon"].indexOf(Z(r)))
                    throw new Error("options.mask must be a (Multi)Polygon");
                for (var a = t[0], u = t[1], c = t[2], h = t[3], p = e / Rt([a, u], [c, u], n) * (c - a), f = e / Rt([a, u], [a, h], n) * (h - u), d = c - a, g = h - u, y = Math.floor(d / p), v = Math.floor(g / f), m = (g - v * f) / 2, _ = a + (d - y * p) / 2, E = 0; E < y; E++) {
                    for (var C = u + m, w = 0; w < v; w++) {
                        var I = o([[[_, C], [_, C + f], [_ + p, C + f], [_ + p, C], [_, C]]], i);
                        r ? ho(r, I) && s.push(I) : s.push(I),
                        C += f
                    }
                    _ += p
                }
                return l(s)
            }
            function mo(t, e, n) {
                if (!x(n = n || {}))
                    throw new Error("options is invalid");
                var i = n.properties
                  , r = n.mask
                  , s = [];
                if (null === e || void 0 === e)
                    throw new Error("cellSide is required");
                if (!b(e))
                    throw new Error("cellSide is invalid");
                if (!t)
                    throw new Error("bbox is required");
                if (!Array.isArray(t))
                    throw new Error("bbox must be array");
                if (4 !== t.length)
                    throw new Error("bbox must contain 4 numbers");
                if (r && -1 === ["Polygon", "MultiPolygon"].indexOf(Z(r)))
                    throw new Error("options.mask must be a (Multi)Polygon");
                for (var a = e / Rt([t[0], t[1]], [t[2], t[1]], n) * (t[2] - t[0]), u = e / Rt([t[0], t[1]], [t[0], t[3]], n) * (t[3] - t[1]), c = 0, h = t[0]; h <= t[2]; ) {
                    for (var p = 0, f = t[1]; f <= t[3]; ) {
                        var d = null
                          , g = null;
                        c % 2 == 0 && p % 2 == 0 ? (d = o([[[h, f], [h, f + u], [h + a, f], [h, f]]], i),
                        g = o([[[h, f + u], [h + a, f + u], [h + a, f], [h, f + u]]], i)) : c % 2 == 0 && p % 2 == 1 ? (d = o([[[h, f], [h + a, f + u], [h + a, f], [h, f]]], i),
                        g = o([[[h, f], [h, f + u], [h + a, f + u], [h, f]]], i)) : p % 2 == 0 && c % 2 == 1 ? (d = o([[[h, f], [h, f + u], [h + a, f + u], [h, f]]], i),
                        g = o([[[h, f], [h + a, f + u], [h + a, f], [h, f]]], i)) : p % 2 == 1 && c % 2 == 1 && (d = o([[[h, f], [h, f + u], [h + a, f], [h, f]]], i),
                        g = o([[[h, f + u], [h + a, f + u], [h + a, f], [h, f + u]]], i)),
                        r ? (ho(r, d) && s.push(d),
                        ho(r, g) && s.push(g)) : (s.push(d),
                        s.push(g)),
                        f += u,
                        p++
                    }
                    c++,
                    h += a
                }
                return l(s)
            }
            var _o = 6371008.8
              , Eo = {
                meters: _o,
                metres: _o,
                millimeters: 1e3 * _o,
                millimetres: 1e3 * _o,
                centimeters: 100 * _o,
                centimetres: 100 * _o,
                kilometers: _o / 1e3,
                kilometres: _o / 1e3,
                miles: _o / 1609.344,
                nauticalmiles: _o / 1852,
                inches: 39.37 * _o,
                yards: _o / 1.0936,
                feet: 3.28084 * _o,
                radians: 1,
                degrees: _o / 111325
            }
              , Co = {
                meters: 1,
                metres: 1,
                millimeters: 1e3,
                millimetres: 1e3,
                centimeters: 100,
                centimetres: 100,
                kilometers: .001,
                kilometres: .001,
                miles: 1 / 1609.344,
                nauticalmiles: 1 / 1852,
                inches: 39.37,
                yards: 1 / 1.0936,
                feet: 3.28084,
                radians: 1 / _o,
                degrees: 1 / 111325
            }
              , wo = {
                meters: 1,
                metres: 1,
                millimeters: 1e6,
                millimetres: 1e6,
                centimeters: 1e4,
                centimetres: 1e4,
                kilometers: 1e-6,
                kilometres: 1e-6,
                acres: 247105e-9,
                miles: 3.86e-7,
                yards: 1.195990046,
                feet: 10.763910417,
                inches: 1550.003100006
            }
              , bo = Object.freeze({
                earthRadius: _o,
                factors: Eo,
                unitsFactors: Co,
                areaFactors: wo,
                feature: e,
                geometry: n,
                point: i,
                points: r,
                polygon: o,
                polygons: s,
                lineString: a,
                lineStrings: u,
                featureCollection: l,
                multiLineString: c,
                multiPoint: h,
                multiPolygon: p,
                geometryCollection: f,
                round: d,
                radiansToLength: g,
                lengthToRadians: y,
                lengthToDegrees: v,
                bearingToAzimuth: m,
                radiansToDegrees: _,
                degreesToRadians: E,
                convertLength: C,
                convertArea: w,
                isNumber: b,
                isObject: x,
                validateBBox: I,
                validateId: P,
                radians2degrees: function() {
                    throw new Error("method has been renamed to `radiansToDegrees`")
                },
                degrees2radians: function() {
                    throw new Error("method has been renamed to `degreesToRadians`")
                },
                distanceToDegrees: function() {
                    throw new Error("method has been renamed to `lengthToDegrees`")
                },
                distanceToRadians: function() {
                    throw new Error("method has been renamed to `lengthToRadians`")
                },
                radiansToDistance: function() {
                    throw new Error("method has been renamed to `radiansToLength`")
                },
                bearingToAngle: function() {
                    throw new Error("method has been renamed to `bearingToAzimuth`")
                },
                convertDistance: function() {
                    throw new Error("method has been renamed to `convertLength`")
                }
            })
              , xo = Object.freeze({
                coordEach: L,
                coordReduce: S,
                propEach: N,
                propReduce: M,
                featureEach: T,
                featureReduce: O,
                coordAll: A,
                geomEach: D,
                geomReduce: R,
                flattenEach: k,
                flattenReduce: F,
                segmentEach: G,
                segmentReduce: B,
                lineEach: q,
                lineReduce: V
            })
              , Io = Object.freeze({
                getCoord: j,
                getCoords: z,
                containsNumber: Y,
                geojsonType: H,
                featureOf: X,
                collectionOf: W,
                getGeom: $,
                getGeomType: K,
                getType: Z
            })
              , Po = {
                successCallback: null,
                verbose: !1
            }
              , Lo = {}
              , So = function t(e, n, i, r, o) {
                for (i = i || 0,
                r = r || e.length - 1,
                o = o || function(t, e) {
                    return t < e ? -1 : t > e ? 1 : 0
                }
                ; r > i; ) {
                    if (r - i > 600) {
                        var s = r - i + 1
                          , a = n - i + 1
                          , u = Math.log(s)
                          , l = .5 * Math.exp(2 * u / 3)
                          , c = .5 * Math.sqrt(u * l * (s - l) / s) * (a - s / 2 < 0 ? -1 : 1);
                        t(e, n, Math.max(i, Math.floor(n - a * l / s + c)), Math.min(r, Math.floor(n + (s - a) * l / s + c)), o)
                    }
                    var h = e[n]
                      , p = i
                      , f = r;
                    for (it(e, i, n),
                    o(e[r], h) > 0 && it(e, i, r); p < f; ) {
                        for (it(e, p, f),
                        p++,
                        f--; o(e[p], h) < 0; )
                            p++;
                        for (; o(e[f], h) > 0; )
                            f--
                    }
                    0 === o(e[i], h) ? it(e, i, f) : it(e, ++f, r),
                    f <= n && (i = f + 1),
                    n <= f && (r = f - 1)
                }
            }
              , No = rt;
            rt.prototype = {
                all: function() {
                    return this._all(this.data, [])
                },
                search: function(t) {
                    var e = this.data
                      , n = []
                      , i = this.toBBox;
                    if (!ft(t, e))
                        return n;
                    for (var r, o, s, a, u = []; e; ) {
                        for (r = 0,
                        o = e.children.length; r < o; r++)
                            s = e.children[r],
                            ft(t, a = e.leaf ? i(s) : s) && (e.leaf ? n.push(s) : pt(t, a) ? this._all(s, n) : u.push(s));
                        e = u.pop()
                    }
                    return n
                },
                collides: function(t) {
                    var e = this.data
                      , n = this.toBBox;
                    if (!ft(t, e))
                        return !1;
                    for (var i, r, o, s, a = []; e; ) {
                        for (i = 0,
                        r = e.children.length; i < r; i++)
                            if (o = e.children[i],
                            ft(t, s = e.leaf ? n(o) : o)) {
                                if (e.leaf || pt(t, s))
                                    return !0;
                                a.push(o)
                            }
                        e = a.pop()
                    }
                    return !1
                },
                load: function(t) {
                    if (!t || !t.length)
                        return this;
                    if (t.length < this._minEntries) {
                        for (var e = 0, n = t.length; e < n; e++)
                            this.insert(t[e]);
                        return this
                    }
                    var i = this._build(t.slice(), 0, t.length - 1, 0);
                    if (this.data.children.length)
                        if (this.data.height === i.height)
                            this._splitRoot(this.data, i);
                        else {
                            if (this.data.height < i.height) {
                                var r = this.data;
                                this.data = i,
                                i = r
                            }
                            this._insert(i, this.data.height - i.height - 1, !0)
                        }
                    else
                        this.data = i;
                    return this
                },
                insert: function(t) {
                    return t && this._insert(t, this.data.height - 1),
                    this
                },
                clear: function() {
                    return this.data = dt([]),
                    this
                },
                remove: function(t, e) {
                    if (!t)
                        return this;
                    for (var n, i, r, o, s = this.data, a = this.toBBox(t), u = [], l = []; s || u.length; ) {
                        if (s || (s = u.pop(),
                        i = u[u.length - 1],
                        n = l.pop(),
                        o = !0),
                        s.leaf && -1 !== (r = function(t, e, n) {
                            if (!n)
                                return e.indexOf(t);
                            for (var i = 0; i < e.length; i++)
                                if (n(t, e[i]))
                                    return i;
                            return -1
                        }(t, s.children, e)))
                            return s.children.splice(r, 1),
                            u.push(s),
                            this._condense(u),
                            this;
                        o || s.leaf || !pt(s, a) ? i ? (n++,
                        s = i.children[n],
                        o = !1) : s = null : (u.push(s),
                        l.push(n),
                        n = 0,
                        i = s,
                        s = s.children[0])
                    }
                    return this
                },
                toBBox: function(t) {
                    return t
                },
                compareMinX: ut,
                compareMinY: lt,
                toJSON: function() {
                    return this.data
                },
                fromJSON: function(t) {
                    return this.data = t,
                    this
                },
                _all: function(t, e) {
                    for (var n = []; t; )
                        t.leaf ? e.push.apply(e, t.children) : n.push.apply(n, t.children),
                        t = n.pop();
                    return e
                },
                _build: function(t, e, n, i) {
                    var r, o = n - e + 1, s = this._maxEntries;
                    if (o <= s)
                        return ot(r = dt(t.slice(e, n + 1)), this.toBBox),
                        r;
                    i || (i = Math.ceil(Math.log(o) / Math.log(s)),
                    s = Math.ceil(o / Math.pow(s, i - 1))),
                    (r = dt([])).leaf = !1,
                    r.height = i;
                    var a, u, l, c, h = Math.ceil(o / s), p = h * Math.ceil(Math.sqrt(s));
                    for (gt(t, e, n, p, this.compareMinX),
                    a = e; a <= n; a += p)
                        for (gt(t, a, l = Math.min(a + p - 1, n), h, this.compareMinY),
                        u = a; u <= l; u += h)
                            c = Math.min(u + h - 1, l),
                            r.children.push(this._build(t, u, c, i - 1));
                    return ot(r, this.toBBox),
                    r
                },
                _chooseSubtree: function(t, e, n, i) {
                    for (var r, o, s, a, u, l, c, h; i.push(e),
                    !e.leaf && i.length - 1 !== n; ) {
                        for (c = h = 1 / 0,
                        r = 0,
                        o = e.children.length; r < o; r++)
                            u = ct(s = e.children[r]),
                            (l = function(t, e) {
                                return (Math.max(e.maxX, t.maxX) - Math.min(e.minX, t.minX)) * (Math.max(e.maxY, t.maxY) - Math.min(e.minY, t.minY))
                            }(t, s) - u) < h ? (h = l,
                            c = u < c ? u : c,
                            a = s) : l === h && u < c && (c = u,
                            a = s);
                        e = a || e.children[0]
                    }
                    return e
                },
                _insert: function(t, e, n) {
                    var i = this.toBBox
                      , r = n ? t : i(t)
                      , o = []
                      , s = this._chooseSubtree(r, this.data, e, o);
                    for (s.children.push(t),
                    at(s, r); e >= 0 && o[e].children.length > this._maxEntries; )
                        this._split(o, e),
                        e--;
                    this._adjustParentBBoxes(r, o, e)
                },
                _split: function(t, e) {
                    var n = t[e]
                      , i = n.children.length
                      , r = this._minEntries;
                    this._chooseSplitAxis(n, r, i);
                    var o = this._chooseSplitIndex(n, r, i)
                      , s = dt(n.children.splice(o, n.children.length - o));
                    s.height = n.height,
                    s.leaf = n.leaf,
                    ot(n, this.toBBox),
                    ot(s, this.toBBox),
                    e ? t[e - 1].children.push(s) : this._splitRoot(n, s)
                },
                _splitRoot: function(t, e) {
                    this.data = dt([t, e]),
                    this.data.height = t.height + 1,
                    this.data.leaf = !1,
                    ot(this.data, this.toBBox)
                },
                _chooseSplitIndex: function(t, e, n) {
                    var i, r, o, s, a, u, l, c;
                    for (u = l = 1 / 0,
                    i = e; i <= n - e; i++)
                        s = function(t, e) {
                            var n = Math.max(t.minX, e.minX)
                              , i = Math.max(t.minY, e.minY)
                              , r = Math.min(t.maxX, e.maxX)
                              , o = Math.min(t.maxY, e.maxY);
                            return Math.max(0, r - n) * Math.max(0, o - i)
                        }(r = st(t, 0, i, this.toBBox), o = st(t, i, n, this.toBBox)),
                        a = ct(r) + ct(o),
                        s < u ? (u = s,
                        c = i,
                        l = a < l ? a : l) : s === u && a < l && (l = a,
                        c = i);
                    return c
                },
                _chooseSplitAxis: function(t, e, n) {
                    var i = t.leaf ? this.compareMinX : ut
                      , r = t.leaf ? this.compareMinY : lt;
                    this._allDistMargin(t, e, n, i) < this._allDistMargin(t, e, n, r) && t.children.sort(i)
                },
                _allDistMargin: function(t, e, n, i) {
                    t.children.sort(i);
                    var r, o, s = this.toBBox, a = st(t, 0, e, s), u = st(t, n - e, n, s), l = ht(a) + ht(u);
                    for (r = e; r < n - e; r++)
                        o = t.children[r],
                        at(a, t.leaf ? s(o) : o),
                        l += ht(a);
                    for (r = n - e - 1; r >= e; r--)
                        o = t.children[r],
                        at(u, t.leaf ? s(o) : o),
                        l += ht(u);
                    return l
                },
                _adjustParentBBoxes: function(t, e, n) {
                    for (var i = n; i >= 0; i--)
                        at(e[i], t)
                },
                _condense: function(t) {
                    for (var e, n = t.length - 1; n >= 0; n--)
                        0 === t[n].children.length ? n > 0 ? (e = t[n - 1].children).splice(e.indexOf(t[n]), 1) : this.clear() : ot(t[n], this.toBBox)
                },
                _initFormat: function(t) {
                    var e = ["return a", " - b", ";"];
                    this.compareMinX = new Function("a","b",e.join(t[0])),
                    this.compareMinY = new Function("a","b",e.join(t[1])),
                    this.toBBox = new Function("a","return {minX: a" + t[0] + ", minY: a" + t[1] + ", maxX: a" + t[2] + ", maxY: a" + t[3] + "};")
                }
            };
            var Mo = function(t, e, n) {
                var i = t * e
                  , r = To * t
                  , o = r - (r - t)
                  , s = t - o
                  , a = To * e
                  , u = a - (a - e)
                  , l = e - u
                  , c = s * l - (i - o * u - s * u - o * l);
                return n ? (n[0] = c,
                n[1] = i,
                n) : [c, i]
            }
              , To = +(Math.pow(2, 27) + 1)
              , Oo = function(t, e) {
                var n = 0 | t.length
                  , i = 0 | e.length;
                if (1 === n && 1 === i)
                    return function(t, e) {
                        var n = t + e
                          , i = n - t
                          , r = t - (n - i) + (e - i);
                        return r ? [r, n] : [n]
                    }(t[0], e[0]);
                var r, o, s = new Array(n + i), a = 0, u = 0, l = 0, c = Math.abs, h = t[u], p = c(h), f = e[l], d = c(f);
                p < d ? (o = h,
                (u += 1) < n && (p = c(h = t[u]))) : (o = f,
                (l += 1) < i && (d = c(f = e[l]))),
                u < n && p < d || l >= i ? (r = h,
                (u += 1) < n && (p = c(h = t[u]))) : (r = f,
                (l += 1) < i && (d = c(f = e[l])));
                for (var g, y, v = r + o, m = v - r, _ = o - m, E = _, C = v; u < n && l < i; )
                    p < d ? (r = h,
                    (u += 1) < n && (p = c(h = t[u]))) : (r = f,
                    (l += 1) < i && (d = c(f = e[l]))),
                    (_ = (o = E) - (m = (v = r + o) - r)) && (s[a++] = _),
                    E = C - ((g = C + v) - (y = g - C)) + (v - y),
                    C = g;
                for (; u < n; )
                    (_ = (o = E) - (m = (v = (r = h) + o) - r)) && (s[a++] = _),
                    E = C - ((g = C + v) - (y = g - C)) + (v - y),
                    C = g,
                    (u += 1) < n && (h = t[u]);
                for (; l < i; )
                    (_ = (o = E) - (m = (v = (r = f) + o) - r)) && (s[a++] = _),
                    E = C - ((g = C + v) - (y = g - C)) + (v - y),
                    C = g,
                    (l += 1) < i && (f = e[l]);
                return E && (s[a++] = E),
                C && (s[a++] = C),
                a || (s[a++] = 0),
                s.length = a,
                s
            }
              , Ao = function(t, e, n) {
                var i = t + e
                  , r = i - t
                  , o = e - r
                  , s = t - (i - r);
                return n ? (n[0] = s + o,
                n[1] = i,
                n) : [s + o, i]
            }
              , Do = function(t, e) {
                var n = t.length;
                if (1 === n) {
                    var i = Mo(t[0], e);
                    return i[0] ? i : [i[1]]
                }
                var r = new Array(2 * n)
                  , o = [.1, .1]
                  , s = [.1, .1]
                  , a = 0;
                Mo(t[0], e, o),
                o[0] && (r[a++] = o[0]);
                for (var u = 1; u < n; ++u) {
                    Mo(t[u], e, s);
                    var l = o[1];
                    Ao(l, s[0], o),
                    o[0] && (r[a++] = o[0]);
                    var c = s[1]
                      , h = o[1]
                      , p = c + h
                      , f = h - (p - c);
                    o[1] = p,
                    f && (r[a++] = f)
                }
                return o[1] && (r[a++] = o[1]),
                0 === a && (r[a++] = 0),
                r.length = a,
                r
            }
              , Ro = function(t, e) {
                var n = 0 | t.length
                  , i = 0 | e.length;
                if (1 === n && 1 === i)
                    return function(t, e) {
                        var n = t + e
                          , i = n - t
                          , r = t - (n - i) + (e - i);
                        return r ? [r, n] : [n]
                    }(t[0], -e[0]);
                var r, o, s = new Array(n + i), a = 0, u = 0, l = 0, c = Math.abs, h = t[u], p = c(h), f = -e[l], d = c(f);
                p < d ? (o = h,
                (u += 1) < n && (p = c(h = t[u]))) : (o = f,
                (l += 1) < i && (d = c(f = -e[l]))),
                u < n && p < d || l >= i ? (r = h,
                (u += 1) < n && (p = c(h = t[u]))) : (r = f,
                (l += 1) < i && (d = c(f = -e[l])));
                for (var g, y, v = r + o, m = v - r, _ = o - m, E = _, C = v; u < n && l < i; )
                    p < d ? (r = h,
                    (u += 1) < n && (p = c(h = t[u]))) : (r = f,
                    (l += 1) < i && (d = c(f = -e[l]))),
                    (_ = (o = E) - (m = (v = r + o) - r)) && (s[a++] = _),
                    E = C - ((g = C + v) - (y = g - C)) + (v - y),
                    C = g;
                for (; u < n; )
                    (_ = (o = E) - (m = (v = (r = h) + o) - r)) && (s[a++] = _),
                    E = C - ((g = C + v) - (y = g - C)) + (v - y),
                    C = g,
                    (u += 1) < n && (h = t[u]);
                for (; l < i; )
                    (_ = (o = E) - (m = (v = (r = f) + o) - r)) && (s[a++] = _),
                    E = C - ((g = C + v) - (y = g - C)) + (v - y),
                    C = g,
                    (l += 1) < i && (f = -e[l]);
                return E && (s[a++] = E),
                C && (s[a++] = C),
                a || (s[a++] = 0),
                s.length = a,
                s
            }
              , ko = yt(function(t) {
                function e(t, e) {
                    for (var n = new Array(t.length - 1), i = 1; i < t.length; ++i)
                        for (var r = n[i - 1] = new Array(t.length - 1), o = 0, s = 0; o < t.length; ++o)
                            o !== e && (r[s++] = t[i][o]);
                    return n
                }
                function n(t) {
                    return 1 & t ? "-" : ""
                }
                function i(t) {
                    if (1 === t.length)
                        return t[0];
                    if (2 === t.length)
                        return ["sum(", t[0], ",", t[1], ")"].join("");
                    var e = t.length >> 1;
                    return ["sum(", i(t.slice(0, e)), ",", i(t.slice(e)), ")"].join("")
                }
                function r(t) {
                    if (2 === t.length)
                        return [["sum(prod(", t[0][0], ",", t[1][1], "),prod(-", t[0][1], ",", t[1][0], "))"].join("")];
                    for (var o = [], s = 0; s < t.length; ++s)
                        o.push(["scale(", i(r(e(t, s))), ",", n(s), t[0][s], ")"].join(""));
                    return o
                }
                function o(t) {
                    for (var n = [], o = [], s = function(t) {
                        for (var e = new Array(t), n = 0; n < t; ++n) {
                            e[n] = new Array(t);
                            for (var i = 0; i < t; ++i)
                                e[n][i] = ["m", i, "[", t - n - 1, "]"].join("")
                        }
                        return e
                    }(t), a = [], u = 0; u < t; ++u)
                        0 == (1 & u) ? n.push.apply(n, r(e(s, u))) : o.push.apply(o, r(e(s, u))),
                        a.push("m" + u);
                    var l = i(n)
                      , c = i(o)
                      , h = "orientation" + t + "Exact"
                      , p = ["function ", h, "(", a.join(), "){var p=", l, ",n=", c, ",d=sub(p,n);return d[d.length-1];};return ", h].join("");
                    return new Function("sum","prod","scale","sub",p)(Oo, Mo, Do, Ro)
                }
                var s = o(3)
                  , a = o(4)
                  , u = [function() {
                    return 0
                }
                , function() {
                    return 0
                }
                , function(t, e) {
                    return e[0] - t[0]
                }
                , function(t, e, n) {
                    var i, r = (t[1] - n[1]) * (e[0] - n[0]), o = (t[0] - n[0]) * (e[1] - n[1]), a = r - o;
                    if (r > 0) {
                        if (o <= 0)
                            return a;
                        i = r + o
                    } else {
                        if (!(r < 0))
                            return a;
                        if (o >= 0)
                            return a;
                        i = -(r + o)
                    }
                    var u = 3.3306690738754716e-16 * i;
                    return a >= u || a <= -u ? a : s(t, e, n)
                }
                , function(t, e, n, i) {
                    var r = t[0] - i[0]
                      , o = e[0] - i[0]
                      , s = n[0] - i[0]
                      , u = t[1] - i[1]
                      , l = e[1] - i[1]
                      , c = n[1] - i[1]
                      , h = t[2] - i[2]
                      , p = e[2] - i[2]
                      , f = n[2] - i[2]
                      , d = o * c
                      , g = s * l
                      , y = s * u
                      , v = r * c
                      , m = r * l
                      , _ = o * u
                      , E = h * (d - g) + p * (y - v) + f * (m - _)
                      , C = 7.771561172376103e-16 * ((Math.abs(d) + Math.abs(g)) * Math.abs(h) + (Math.abs(y) + Math.abs(v)) * Math.abs(p) + (Math.abs(m) + Math.abs(_)) * Math.abs(f));
                    return E > C || -E > C ? E : a(t, e, n, i)
                }
                ];
                !function() {
                    for (; u.length <= 5; )
                        u.push(o(u.length));
                    for (var e = [], n = ["slow"], i = 0; i <= 5; ++i)
                        e.push("a" + i),
                        n.push("o" + i);
                    var r = ["function getOrientation(", e.join(), "){switch(arguments.length){case 0:case 1:return 0;"];
                    for (i = 2; i <= 5; ++i)
                        r.push("case ", i, ":return o", i, "(", e.slice(0, i).join(), ");");
                    r.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),
                    n.push(r.join(""));
                    var s = Function.apply(void 0, n);
                    for (t.exports = s.apply(void 0, [function(t) {
                        var e = u[t.length];
                        return e || (e = u[t.length] = o(t.length)),
                        e.apply(void 0, t)
                    }
                    ].concat(u)),
                    i = 0; i <= 5; ++i)
                        t.exports[i] = u[i]
                }()
            })
              , Fo = function(t) {
                var e = t.length;
                if (e < 3) {
                    for (var n = new Array(e), i = 0; i < e; ++i)
                        n[i] = i;
                    return 2 === e && t[0][0] === t[1][0] && t[0][1] === t[1][1] ? [0] : n
                }
                var r = new Array(e);
                for (i = 0; i < e; ++i)
                    r[i] = i;
                r.sort(function(e, n) {
                    return t[e][0] - t[n][0] || t[e][1] - t[n][1]
                });
                var o = [r[0], r[1]]
                  , s = [r[0], r[1]];
                for (i = 2; i < e; ++i) {
                    for (var a = r[i], u = t[a], l = o.length; l > 1 && Go(t[o[l - 2]], t[o[l - 1]], u) <= 0; )
                        l -= 1,
                        o.pop();
                    for (o.push(a),
                    l = s.length; l > 1 && Go(t[s[l - 2]], t[s[l - 1]], u) >= 0; )
                        l -= 1,
                        s.pop();
                    s.push(a)
                }
                n = new Array(s.length + o.length - 2);
                for (var c = 0, h = (i = 0,
                o.length); i < h; ++i)
                    n[c++] = o[i];
                for (var p = s.length - 2; p > 0; --p)
                    n[c++] = s[p];
                return n
            }
              , Go = ko[3]
              , Bo = vt
              , qo = vt;
            vt.prototype = {
                push: function(t) {
                    this.data.push(t),
                    this.length++,
                    this._up(this.length - 1)
                },
                pop: function() {
                    if (0 !== this.length) {
                        var t = this.data[0];
                        return this.length--,
                        this.length > 0 && (this.data[0] = this.data[this.length],
                        this._down(0)),
                        this.data.pop(),
                        t
                    }
                },
                peek: function() {
                    return this.data[0]
                },
                _up: function(t) {
                    for (var e = this.data, n = this.compare, i = e[t]; t > 0; ) {
                        var r = t - 1 >> 1
                          , o = e[r];
                        if (n(i, o) >= 0)
                            break;
                        e[t] = o,
                        t = r
                    }
                    e[t] = i
                },
                _down: function(t) {
                    for (var e = this.data, n = this.compare, i = this.length >> 1, r = e[t]; t < i; ) {
                        var o = 1 + (t << 1)
                          , s = o + 1
                          , a = e[o];
                        if (s < this.length && n(e[s], a) < 0 && (o = s,
                        a = e[s]),
                        n(a, r) >= 0)
                            break;
                        e[t] = a,
                        t = o
                    }
                    e[t] = r
                }
            },
            Bo.default = qo;
            var Vo = function(t, e) {
                for (var n = t[0], i = t[1], r = !1, o = 0, s = e.length - 1; o < e.length; s = o++) {
                    var a = e[o][0]
                      , u = e[o][1]
                      , l = e[s][0]
                      , c = e[s][1];
                    u > i != c > i && n < (l - a) * (i - u) / (c - u) + a && (r = !r)
                }
                return r
            }
              , Uo = ko[3]
              , jo = mt
              , zo = mt;
            jo.default = zo;
            var Yo = function(t) {
                return t
            }
              , Ho = function(t) {
                if (null == t)
                    return Yo;
                var e, n, i = t.scale[0], r = t.scale[1], o = t.translate[0], s = t.translate[1];
                return function(t, a) {
                    a || (e = n = 0);
                    var u = 2
                      , l = t.length
                      , c = new Array(l);
                    for (c[0] = (e += t[0]) * i + o,
                    c[1] = (n += t[1]) * r + s; u < l; )
                        c[u] = t[u],
                        ++u;
                    return c
                }
            }
              , Xo = function(t, e) {
                for (var n, i = t.length, r = i - e; r < --i; )
                    n = t[r],
                    t[r++] = t[i],
                    t[i] = n
            }
              , Wo = function(t, e) {
                function n(t, e) {
                    for (var n in t) {
                        var r = t[n];
                        delete e[r.start],
                        delete r.start,
                        delete r.end,
                        r.forEach(function(t) {
                            i[t < 0 ? ~t : t] = 1
                        }),
                        s.push(r)
                    }
                }
                var i = {}
                  , r = {}
                  , o = {}
                  , s = []
                  , a = -1;
                return e.forEach(function(n, i) {
                    var r, o = t.arcs[n < 0 ? ~n : n];
                    o.length < 3 && !o[1][0] && !o[1][1] && (r = e[++a],
                    e[a] = n,
                    e[i] = r)
                }),
                e.forEach(function(e) {
                    var n, i, s = function(e) {
                        var n, i = t.arcs[e < 0 ? ~e : e], r = i[0];
                        return t.transform ? (n = [0, 0],
                        i.forEach(function(t) {
                            n[0] += t[0],
                            n[1] += t[1]
                        })) : n = i[i.length - 1],
                        e < 0 ? [n, r] : [r, n]
                    }(e), a = s[0], u = s[1];
                    if (n = o[a])
                        if (delete o[n.end],
                        n.push(e),
                        n.end = u,
                        i = r[u]) {
                            delete r[i.start];
                            var l = i === n ? n : n.concat(i);
                            r[l.start = n.start] = o[l.end = i.end] = l
                        } else
                            r[n.start] = o[n.end] = n;
                    else if (n = r[u])
                        if (delete r[n.start],
                        n.unshift(e),
                        n.start = a,
                        i = o[a]) {
                            delete o[i.end];
                            var c = i === n ? n : i.concat(n);
                            r[c.start = i.start] = o[c.end = n.end] = c
                        } else
                            r[n.start] = o[n.end] = n;
                    else
                        r[(n = [e]).start = a] = o[n.end = u] = n
                }),
                n(o, r),
                n(r, o),
                e.forEach(function(t) {
                    i[t < 0 ? ~t : t] || s.push([t])
                }),
                s
            }
              , $o = function(t) {
                return Bt(t, function(t, e) {
                    function n(t) {
                        t.forEach(function(e) {
                            e.forEach(function(e) {
                                (r[e = e < 0 ? ~e : e] || (r[e] = [])).push(t)
                            })
                        }),
                        o.push(t)
                    }
                    function i(e) {
                        return function(t) {
                            for (var e, n = -1, i = t.length, r = t[i - 1], o = 0; ++n < i; )
                                e = r,
                                r = t[n],
                                o += e[0] * r[1] - e[1] * r[0];
                            return Math.abs(o)
                        }(Bt(t, {
                            type: "Polygon",
                            arcs: [e]
                        }).coordinates[0])
                    }
                    var r = {}
                      , o = []
                      , s = [];
                    return e.forEach(function t(e) {
                        switch (e.type) {
                        case "GeometryCollection":
                            e.geometries.forEach(t);
                            break;
                        case "Polygon":
                            n(e.arcs);
                            break;
                        case "MultiPolygon":
                            e.arcs.forEach(n)
                        }
                    }),
                    o.forEach(function(t) {
                        if (!t._) {
                            var e = []
                              , n = [t];
                            for (t._ = 1,
                            s.push(e); t = n.pop(); )
                                e.push(t),
                                t.forEach(function(t) {
                                    t.forEach(function(t) {
                                        r[t < 0 ? ~t : t].forEach(function(t) {
                                            t._ || (t._ = 1,
                                            n.push(t))
                                        })
                                    })
                                })
                        }
                    }),
                    o.forEach(function(t) {
                        delete t._
                    }),
                    {
                        type: "MultiPolygon",
                        arcs: s.map(function(e) {
                            var n, o = [];
                            if (e.forEach(function(t) {
                                t.forEach(function(t) {
                                    t.forEach(function(t) {
                                        r[t < 0 ? ~t : t].length < 2 && o.push(t)
                                    })
                                })
                            }),
                            (n = (o = Wo(t, o)).length) > 1)
                                for (var s, a, u = 1, l = i(o[0]); u < n; ++u)
                                    (s = i(o[u])) > l && (a = o[0],
                                    o[0] = o[u],
                                    o[u] = a,
                                    l = s);
                            return o
                        })
                    }
                }
                .apply(this, arguments))
            }
              , Ko = function(t, e, n, i, r, o) {
                3 === arguments.length && (i = o = Array,
                r = null);
                for (var s = new i(t = 1 << Math.max(4, Math.ceil(Math.log(t) / Math.LN2))), a = new o(t), u = t - 1, l = 0; l < t; ++l)
                    s[l] = r;
                return {
                    set: function(i, o) {
                        for (var l = e(i) & u, c = s[l], h = 0; c != r; ) {
                            if (n(c, i))
                                return a[l] = o;
                            if (++h >= t)
                                throw new Error("full hashmap");
                            c = s[l = l + 1 & u]
                        }
                        return s[l] = i,
                        a[l] = o,
                        o
                    },
                    maybeSet: function(i, o) {
                        for (var l = e(i) & u, c = s[l], h = 0; c != r; ) {
                            if (n(c, i))
                                return a[l];
                            if (++h >= t)
                                throw new Error("full hashmap");
                            c = s[l = l + 1 & u]
                        }
                        return s[l] = i,
                        a[l] = o,
                        o
                    },
                    get: function(i, o) {
                        for (var l = e(i) & u, c = s[l], h = 0; c != r; ) {
                            if (n(c, i))
                                return a[l];
                            if (++h >= t)
                                break;
                            c = s[l = l + 1 & u]
                        }
                        return o
                    },
                    keys: function() {
                        for (var t = [], e = 0, n = s.length; e < n; ++e) {
                            var i = s[e];
                            i != r && t.push(i)
                        }
                        return t
                    }
                }
            }
              , Zo = function(t, e) {
                return t[0] === e[0] && t[1] === e[1]
            }
              , Qo = new ArrayBuffer(16)
              , Jo = new Float64Array(Qo)
              , ts = new Uint32Array(Qo)
              , es = function(t) {
                Jo[0] = t[0],
                Jo[1] = t[1];
                var e = ts[0] ^ ts[1];
                return 2147483647 & (e << 5 ^ e >> 7 ^ ts[2] ^ ts[3])
            }
              , ns = function(t) {
                var e, n, i, r = function(t) {
                    function e(t, e, n, i) {
                        if (p[n] !== t) {
                            p[n] = t;
                            var r = f[n];
                            if (r >= 0) {
                                var o = d[n];
                                r === e && o === i || r === i && o === e || (++y,
                                g[n] = 1)
                            } else
                                f[n] = e,
                                d[n] = i
                        }
                    }
                    function n(t) {
                        return es(u[t])
                    }
                    function i(t, e) {
                        return Zo(u[t], u[e])
                    }
                    var r, o, s, a, u = t.coordinates, l = t.lines, c = t.rings, h = function() {
                        for (var t = Ko(1.4 * u.length, n, i, Int32Array, -1, Int32Array), e = new Int32Array(u.length), r = 0, o = u.length; r < o; ++r)
                            e[r] = t.maybeSet(r, r);
                        return e
                    }(), p = new Int32Array(u.length), f = new Int32Array(u.length), d = new Int32Array(u.length), g = new Int8Array(u.length), y = 0;
                    for (r = 0,
                    o = u.length; r < o; ++r)
                        p[r] = f[r] = d[r] = -1;
                    for (r = 0,
                    o = l.length; r < o; ++r) {
                        var v = l[r]
                          , m = v[0]
                          , _ = v[1];
                        for (s = h[m],
                        a = h[++m],
                        ++y,
                        g[s] = 1; ++m <= _; )
                            e(r, s, s = a, a = h[m]);
                        ++y,
                        g[a] = 1
                    }
                    for (r = 0,
                    o = u.length; r < o; ++r)
                        p[r] = -1;
                    for (r = 0,
                    o = c.length; r < o; ++r) {
                        var E = c[r]
                          , C = E[0] + 1
                          , w = E[1];
                        for (e(r, h[w - 1], s = h[C - 1], a = h[C]); ++C <= w; )
                            e(r, s, s = a, a = h[C])
                    }
                    p = f = d = null;
                    var b, x = function(t, e, n, i, r) {
                        3 === arguments.length && (i = Array,
                        r = null);
                        for (var o = new i(t = 1 << Math.max(4, Math.ceil(Math.log(t) / Math.LN2))), s = t - 1, a = 0; a < t; ++a)
                            o[a] = r;
                        return {
                            add: function(i) {
                                for (var a = e(i) & s, u = o[a], l = 0; u != r; ) {
                                    if (n(u, i))
                                        return !0;
                                    if (++l >= t)
                                        throw new Error("full hashset");
                                    u = o[a = a + 1 & s]
                                }
                                return o[a] = i,
                                !0
                            },
                            has: function(i) {
                                for (var a = e(i) & s, u = o[a], l = 0; u != r; ) {
                                    if (n(u, i))
                                        return !0;
                                    if (++l >= t)
                                        break;
                                    u = o[a = a + 1 & s]
                                }
                                return !1
                            },
                            values: function() {
                                for (var t = [], e = 0, n = o.length; e < n; ++e) {
                                    var i = o[e];
                                    i != r && t.push(i)
                                }
                                return t
                            }
                        }
                    }(1.4 * y, es, Zo);
                    for (r = 0,
                    o = u.length; r < o; ++r)
                        g[b = h[r]] && x.add(u[b]);
                    return x
                }(t), o = t.coordinates, s = t.lines, a = t.rings;
                for (n = 0,
                i = s.length; n < i; ++n)
                    for (var u = s[n], l = u[0], c = u[1]; ++l < c; )
                        r.has(o[l]) && (e = {
                            0: l,
                            1: u[1]
                        },
                        u[1] = l,
                        u = u.next = e);
                for (n = 0,
                i = a.length; n < i; ++n)
                    for (var h = a[n], p = h[0], f = p, d = h[1], g = r.has(o[p]); ++f < d; )
                        r.has(o[f]) && (g ? (e = {
                            0: f,
                            1: h[1]
                        },
                        h[1] = f,
                        h = h.next = e) : (function(t, e, n, i) {
                            qt(t, e, n),
                            qt(t, e, e + i),
                            qt(t, e + i, n)
                        }(o, p, d, d - f),
                        o[d] = o[p],
                        g = !0,
                        f = p));
                return t
            }
              , is = function(t, e) {
                function n(t) {
                    t && c.hasOwnProperty(t.type) && c[t.type](t)
                }
                function i(t) {
                    var e = [];
                    do {
                        var n = l.get(t);
                        e.push(t[0] < t[1] ? n : ~n)
                    } while (t = t.next);
                    return e
                }
                function r(t) {
                    return t.map(i)
                }
                var o = function(t) {
                    function e(t) {
                        null != t && l.hasOwnProperty(t.type) && l[t.type](t)
                    }
                    function n(t) {
                        var e = t[0]
                          , n = t[1];
                        e < o && (o = e),
                        e > a && (a = e),
                        n < s && (s = n),
                        n > u && (u = n)
                    }
                    function i(t) {
                        t.forEach(n)
                    }
                    function r(t) {
                        t.forEach(i)
                    }
                    var o = 1 / 0
                      , s = 1 / 0
                      , a = -1 / 0
                      , u = -1 / 0
                      , l = {
                        GeometryCollection: function(t) {
                            t.geometries.forEach(e)
                        },
                        Point: function(t) {
                            n(t.coordinates)
                        },
                        MultiPoint: function(t) {
                            t.coordinates.forEach(n)
                        },
                        LineString: function(t) {
                            i(t.arcs)
                        },
                        MultiLineString: function(t) {
                            t.arcs.forEach(i)
                        },
                        Polygon: function(t) {
                            t.arcs.forEach(i)
                        },
                        MultiPolygon: function(t) {
                            t.arcs.forEach(r)
                        }
                    };
                    for (var c in t)
                        e(t[c]);
                    return a >= o && u >= s ? [o, s, a, u] : void 0
                }(t = function(t) {
                    var e, n = {};
                    for (e in t)
                        n[e] = Vt(t[e]);
                    return n
                }(t))
                  , s = e > 0 && o && function(t, e, n) {
                    function i(t) {
                        return [Math.round((t[0] - l) * f), Math.round((t[1] - c) * d)]
                    }
                    function r(t, e) {
                        for (var n, i, r, o, s, a = -1, u = 0, h = t.length, p = new Array(h); ++a < h; )
                            n = t[a],
                            o = Math.round((n[0] - l) * f),
                            s = Math.round((n[1] - c) * d),
                            o === i && s === r || (p[u++] = [i = o, r = s]);
                        for (p.length = u; u < e; )
                            u = p.push([p[0][0], p[0][1]]);
                        return p
                    }
                    function o(t) {
                        return r(t, 2)
                    }
                    function s(t) {
                        return r(t, 4)
                    }
                    function a(t) {
                        return t.map(s)
                    }
                    function u(t) {
                        null != t && g.hasOwnProperty(t.type) && g[t.type](t)
                    }
                    var l = e[0]
                      , c = e[1]
                      , h = e[2]
                      , p = e[3]
                      , f = h - l ? (n - 1) / (h - l) : 1
                      , d = p - c ? (n - 1) / (p - c) : 1
                      , g = {
                        GeometryCollection: function(t) {
                            t.geometries.forEach(u)
                        },
                        Point: function(t) {
                            t.coordinates = i(t.coordinates)
                        },
                        MultiPoint: function(t) {
                            t.coordinates = t.coordinates.map(i)
                        },
                        LineString: function(t) {
                            t.arcs = o(t.arcs)
                        },
                        MultiLineString: function(t) {
                            t.arcs = t.arcs.map(o)
                        },
                        Polygon: function(t) {
                            t.arcs = a(t.arcs)
                        },
                        MultiPolygon: function(t) {
                            t.arcs = t.arcs.map(a)
                        }
                    };
                    for (var y in t)
                        u(t[y]);
                    return {
                        scale: [1 / f, 1 / d],
                        translate: [l, c]
                    }
                }(t, o, e)
                  , a = function(t) {
                    function e(t) {
                        var e, n, i, r, o, s, a, u;
                        if (i = f.get(e = l[t[0]]))
                            for (a = 0,
                            u = i.length; a < u; ++a)
                                if (function(t, e) {
                                    var n = t[0]
                                      , i = e[0]
                                      , r = t[1];
                                    if (n - r != i - e[1])
                                        return !1;
                                    for (; n <= r; ++n,
                                    ++i)
                                        if (!Zo(l[n], l[i]))
                                            return !1;
                                    return !0
                                }(r = i[a], t))
                                    return t[0] = r[0],
                                    void (t[1] = r[1]);
                        if (o = f.get(n = l[t[1]]))
                            for (a = 0,
                            u = o.length; a < u; ++a)
                                if (function(t, e) {
                                    var n = t[0]
                                      , i = e[0]
                                      , r = t[1]
                                      , o = e[1];
                                    if (n - r != i - o)
                                        return !1;
                                    for (; n <= r; ++n,
                                    --o)
                                        if (!Zo(l[n], l[o]))
                                            return !1;
                                    return !0
                                }(s = o[a], t))
                                    return t[1] = s[0],
                                    void (t[0] = s[1]);
                        i ? i.push(t) : f.set(e, [t]),
                        o ? o.push(t) : f.set(n, [t]),
                        d.push(t)
                    }
                    function n(t, e) {
                        var n = t[0]
                          , i = e[0]
                          , o = t[1] - n;
                        if (o !== e[1] - i)
                            return !1;
                        for (var s = r(t), a = r(e), u = 0; u < o; ++u)
                            if (!Zo(l[n + (u + s) % o], l[i + (u + a) % o]))
                                return !1;
                        return !0
                    }
                    function i(t, e) {
                        var n = t[0]
                          , i = e[0]
                          , o = t[1]
                          , s = e[1]
                          , a = o - n;
                        if (a !== s - i)
                            return !1;
                        for (var u = r(t), c = a - r(e), h = 0; h < a; ++h)
                            if (!Zo(l[n + (h + u) % a], l[s - (h + c) % a]))
                                return !1;
                        return !0
                    }
                    function r(t) {
                        for (var e = t[0], n = t[1], i = e, r = i, o = l[i]; ++i < n; ) {
                            var s = l[i];
                            (s[0] < o[0] || s[0] === o[0] && s[1] < o[1]) && (r = i,
                            o = s)
                        }
                        return r - e
                    }
                    var o, s, a, u, l = t.coordinates, c = t.lines, h = t.rings, p = c.length + h.length;
                    for (delete t.lines,
                    delete t.rings,
                    a = 0,
                    u = c.length; a < u; ++a)
                        for (o = c[a]; o = o.next; )
                            ++p;
                    for (a = 0,
                    u = h.length; a < u; ++a)
                        for (s = h[a]; s = s.next; )
                            ++p;
                    var f = Ko(2 * p * 1.4, es, Zo)
                      , d = t.arcs = [];
                    for (a = 0,
                    u = c.length; a < u; ++a) {
                        o = c[a];
                        do {
                            e(o)
                        } while (o = o.next)
                    }
                    for (a = 0,
                    u = h.length; a < u; ++a)
                        if ((s = h[a]).next)
                            do {
                                e(s)
                            } while (s = s.next);
                        else
                            !function(t) {
                                var e, o, s, a, u;
                                if (o = f.get(l[t[0]]))
                                    for (a = 0,
                                    u = o.length; a < u; ++a) {
                                        if (n(s = o[a], t))
                                            return t[0] = s[0],
                                            void (t[1] = s[1]);
                                        if (i(s, t))
                                            return t[0] = s[1],
                                            void (t[1] = s[0])
                                    }
                                if (o = f.get(e = l[t[0] + r(t)]))
                                    for (a = 0,
                                    u = o.length; a < u; ++a) {
                                        if (n(s = o[a], t))
                                            return t[0] = s[0],
                                            void (t[1] = s[1]);
                                        if (i(s, t))
                                            return t[0] = s[1],
                                            void (t[1] = s[0])
                                    }
                                o ? o.push(t) : f.set(e, [t]),
                                d.push(t)
                            }(s);
                    return t
                }(ns(function(t) {
                    function e(t) {
                        t && l.hasOwnProperty(t.type) && l[t.type](t)
                    }
                    function n(t) {
                        for (var e = 0, n = t.length; e < n; ++e)
                            u[++o] = t[e];
                        var i = {
                            0: o - n + 1,
                            1: o
                        };
                        return s.push(i),
                        i
                    }
                    function i(t) {
                        for (var e = 0, n = t.length; e < n; ++e)
                            u[++o] = t[e];
                        var i = {
                            0: o - n + 1,
                            1: o
                        };
                        return a.push(i),
                        i
                    }
                    function r(t) {
                        return t.map(i)
                    }
                    var o = -1
                      , s = []
                      , a = []
                      , u = []
                      , l = {
                        GeometryCollection: function(t) {
                            t.geometries.forEach(e)
                        },
                        LineString: function(t) {
                            t.arcs = n(t.arcs)
                        },
                        MultiLineString: function(t) {
                            t.arcs = t.arcs.map(n)
                        },
                        Polygon: function(t) {
                            t.arcs = t.arcs.map(i)
                        },
                        MultiPolygon: function(t) {
                            t.arcs = t.arcs.map(r)
                        }
                    };
                    for (var c in t)
                        e(t[c]);
                    return {
                        type: "Topology",
                        coordinates: u,
                        lines: s,
                        rings: a,
                        objects: t
                    }
                }(t)))
                  , u = a.coordinates
                  , l = Ko(1.4 * a.arcs.length, zt, Yt);
                t = a.objects,
                a.bbox = o,
                a.arcs = a.arcs.map(function(t, e) {
                    return l.set(t, e),
                    u.slice(t[0], t[1] + 1)
                }),
                delete a.coordinates,
                u = null;
                var c = {
                    GeometryCollection: function(t) {
                        t.geometries.forEach(n)
                    },
                    LineString: function(t) {
                        t.arcs = i(t.arcs)
                    },
                    MultiLineString: function(t) {
                        t.arcs = t.arcs.map(i)
                    },
                    Polygon: function(t) {
                        t.arcs = t.arcs.map(i)
                    },
                    MultiPolygon: function(t) {
                        t.arcs = t.arcs.map(r)
                    }
                };
                for (var h in t)
                    n(t[h]);
                return s && (a.transform = s,
                a.arcs = function(t) {
                    for (var e = -1, n = t.length; ++e < n; ) {
                        for (var i, r, o = t[e], s = 0, a = 1, u = o.length, l = o[0], c = l[0], h = l[1]; ++s < u; )
                            i = (l = o[s])[0],
                            r = l[1],
                            i === c && r === h || (o[a++] = [i - c, r - h],
                            c = i,
                            h = r);
                        1 === a && (o[a++] = [0, 0]),
                        o.length = a
                    }
                    return t
                }(a.arcs)),
                a
            }
              , rs = function(t) {
                this.points = t.points || [],
                this.duration = t.duration || 1e4,
                this.sharpness = t.sharpness || .85,
                this.centers = [],
                this.controls = [],
                this.stepLength = t.stepLength || 60,
                this.length = this.points.length,
                this.delay = 0;
                for (var e = 0; e < this.length; e++)
                    this.points[e].z = this.points[e].z || 0;
                for (e = 0; e < this.length - 1; e++) {
                    var n = this.points[e]
                      , i = this.points[e + 1];
                    this.centers.push({
                        x: (n.x + i.x) / 2,
                        y: (n.y + i.y) / 2,
                        z: (n.z + i.z) / 2
                    })
                }
                for (this.controls.push([this.points[0], this.points[0]]),
                e = 0; e < this.centers.length - 1; e++) {
                    n = this.centers[e],
                    i = this.centers[e + 1];
                    var r = this.points[e + 1].x - (this.centers[e].x + this.centers[e + 1].x) / 2
                      , o = this.points[e + 1].y - (this.centers[e].y + this.centers[e + 1].y) / 2
                      , s = this.points[e + 1].z - (this.centers[e].y + this.centers[e + 1].z) / 2;
                    this.controls.push([{
                        x: (1 - this.sharpness) * this.points[e + 1].x + this.sharpness * (this.centers[e].x + r),
                        y: (1 - this.sharpness) * this.points[e + 1].y + this.sharpness * (this.centers[e].y + o),
                        z: (1 - this.sharpness) * this.points[e + 1].z + this.sharpness * (this.centers[e].z + s)
                    }, {
                        x: (1 - this.sharpness) * this.points[e + 1].x + this.sharpness * (this.centers[e + 1].x + r),
                        y: (1 - this.sharpness) * this.points[e + 1].y + this.sharpness * (this.centers[e + 1].y + o),
                        z: (1 - this.sharpness) * this.points[e + 1].z + this.sharpness * (this.centers[e + 1].z + s)
                    }])
                }
                return this.controls.push([this.points[this.length - 1], this.points[this.length - 1]]),
                this.steps = this.cacheSteps(this.stepLength),
                this
            };
            rs.prototype.cacheSteps = function(t) {
                var e = []
                  , n = this.pos(0);
                e.push(0);
                for (var i = 0; i < this.duration; i += 10) {
                    var r = this.pos(i);
                    Math.sqrt((r.x - n.x) * (r.x - n.x) + (r.y - n.y) * (r.y - n.y) + (r.z - n.z) * (r.z - n.z)) > t && (e.push(i),
                    n = r)
                }
                return e
            }
            ,
            rs.prototype.vector = function(t) {
                var e = this.pos(t + 10)
                  , n = this.pos(t - 10);
                return {
                    angle: 180 * Math.atan2(e.y - n.y, e.x - n.x) / 3.14,
                    speed: Math.sqrt((n.x - e.x) * (n.x - e.x) + (n.y - e.y) * (n.y - e.y) + (n.z - e.z) * (n.z - e.z))
                }
            }
            ,
            rs.prototype.pos = function(t) {
                var e = t - this.delay;
                e < 0 && (e = 0),
                e > this.duration && (e = this.duration - 1);
                var n = e / this.duration;
                if (n >= 1)
                    return this.points[this.length - 1];
                var i = Math.floor((this.points.length - 1) * n);
                return function(t, e, n, i, r) {
                    var o = function(t) {
                        var e = t * t;
                        return [e * t, 3 * e * (1 - t), 3 * t * (1 - t) * (1 - t), (1 - t) * (1 - t) * (1 - t)]
                    }(t);
                    return {
                        x: r.x * o[0] + i.x * o[1] + n.x * o[2] + e.x * o[3],
                        y: r.y * o[0] + i.y * o[1] + n.y * o[2] + e.y * o[3],
                        z: r.z * o[0] + i.z * o[1] + n.z * o[2] + e.z * o[3]
                    }
                }((this.length - 1) * n - i, this.points[i], this.controls[i][1], this.controls[i + 1][0], this.points[i + 1])
            }
            ;
            var os = he
              , ss = he;
            he.deviation = function(t, e, n, i) {
                var r = e && e.length
                  , o = r ? e[0] * n : t.length
                  , s = Math.abs(Ie(t, 0, o, n));
                if (r)
                    for (var a = 0, u = e.length; a < u; a++) {
                        var l = e[a] * n
                          , c = a < u - 1 ? e[a + 1] * n : t.length;
                        s -= Math.abs(Ie(t, l, c, n))
                    }
                var h = 0;
                for (a = 0; a < i.length; a += 3) {
                    var p = i[a] * n
                      , f = i[a + 1] * n
                      , d = i[a + 2] * n;
                    h += Math.abs((t[p] - t[d]) * (t[f + 1] - t[p + 1]) - (t[p] - t[f]) * (t[d + 1] - t[p + 1]))
                }
                return 0 === s && 0 === h ? 0 : Math.abs((h - s) / s)
            }
            ,
            he.flatten = function(t) {
                for (var e = t[0][0].length, n = {
                    vertices: [],
                    holes: [],
                    dimensions: e
                }, i = 0, r = 0; r < t.length; r++) {
                    for (var o = 0; o < t[r].length; o++)
                        for (var s = 0; s < e; s++)
                            n.vertices.push(t[r][o][s]);
                    r > 0 && (i += t[r - 1].length,
                    n.holes.push(i))
                }
                return n
            }
            ,
            os.default = ss,
            Me.prototype = {
                all: function() {
                    return this._all(this.data, [])
                },
                search: function(t) {
                    var e = this.data
                      , n = []
                      , i = this.toBBox;
                    if (!Be(t, e))
                        return n;
                    for (var r, o, s, a, u = []; e; ) {
                        for (r = 0,
                        o = e.children.length; r < o; r++)
                            s = e.children[r],
                            Be(t, a = e.leaf ? i(s) : s) && (e.leaf ? n.push(s) : Ge(t, a) ? this._all(s, n) : u.push(s));
                        e = u.pop()
                    }
                    return n
                },
                collides: function(t) {
                    var e = this.data
                      , n = this.toBBox;
                    if (!Be(t, e))
                        return !1;
                    for (var i, r, o, s, a = []; e; ) {
                        for (i = 0,
                        r = e.children.length; i < r; i++)
                            if (o = e.children[i],
                            Be(t, s = e.leaf ? n(o) : o)) {
                                if (e.leaf || Ge(t, s))
                                    return !0;
                                a.push(o)
                            }
                        e = a.pop()
                    }
                    return !1
                },
                load: function(t) {
                    if (!t || !t.length)
                        return this;
                    if (t.length < this._minEntries) {
                        for (var e = 0, n = t.length; e < n; e++)
                            this.insert(t[e]);
                        return this
                    }
                    var i = this._build(t.slice(), 0, t.length - 1, 0);
                    if (this.data.children.length)
                        if (this.data.height === i.height)
                            this._splitRoot(this.data, i);
                        else {
                            if (this.data.height < i.height) {
                                var r = this.data;
                                this.data = i,
                                i = r
                            }
                            this._insert(i, this.data.height - i.height - 1, !0)
                        }
                    else
                        this.data = i;
                    return this
                },
                insert: function(t) {
                    return t && this._insert(t, this.data.height - 1),
                    this
                },
                clear: function() {
                    return this.data = qe([]),
                    this
                },
                remove: function(t, e) {
                    if (!t)
                        return this;
                    for (var n, i, r, o, s = this.data, a = this.toBBox(t), u = [], l = []; s || u.length; ) {
                        if (s || (s = u.pop(),
                        i = u[u.length - 1],
                        n = l.pop(),
                        o = !0),
                        s.leaf && -1 !== (r = function(t, e, n) {
                            if (!n)
                                return e.indexOf(t);
                            for (var i = 0; i < e.length; i++)
                                if (n(t, e[i]))
                                    return i;
                            return -1
                        }(t, s.children, e)))
                            return s.children.splice(r, 1),
                            u.push(s),
                            this._condense(u),
                            this;
                        o || s.leaf || !Ge(s, a) ? i ? (n++,
                        s = i.children[n],
                        o = !1) : s = null : (u.push(s),
                        l.push(n),
                        n = 0,
                        i = s,
                        s = s.children[0])
                    }
                    return this
                },
                toBBox: function(t) {
                    return t
                },
                compareMinX: De,
                compareMinY: Re,
                toJSON: function() {
                    return this.data
                },
                fromJSON: function(t) {
                    return this.data = t,
                    this
                },
                _all: function(t, e) {
                    for (var n = []; t; )
                        t.leaf ? e.push.apply(e, t.children) : n.push.apply(n, t.children),
                        t = n.pop();
                    return e
                },
                _build: function(t, e, n, i) {
                    var r, o = n - e + 1, s = this._maxEntries;
                    if (o <= s)
                        return Te(r = qe(t.slice(e, n + 1)), this.toBBox),
                        r;
                    i || (i = Math.ceil(Math.log(o) / Math.log(s)),
                    s = Math.ceil(o / Math.pow(s, i - 1))),
                    (r = qe([])).leaf = !1,
                    r.height = i;
                    var a, u, l, c, h = Math.ceil(o / s), p = h * Math.ceil(Math.sqrt(s));
                    for (Ve(t, e, n, p, this.compareMinX),
                    a = e; a <= n; a += p)
                        for (Ve(t, a, l = Math.min(a + p - 1, n), h, this.compareMinY),
                        u = a; u <= l; u += h)
                            c = Math.min(u + h - 1, l),
                            r.children.push(this._build(t, u, c, i - 1));
                    return Te(r, this.toBBox),
                    r
                },
                _chooseSubtree: function(t, e, n, i) {
                    for (var r, o, s, a, u, l, c, h; i.push(e),
                    !e.leaf && i.length - 1 !== n; ) {
                        for (c = h = 1 / 0,
                        r = 0,
                        o = e.children.length; r < o; r++)
                            u = ke(s = e.children[r]),
                            (l = function(t, e) {
                                return (Math.max(e.maxX, t.maxX) - Math.min(e.minX, t.minX)) * (Math.max(e.maxY, t.maxY) - Math.min(e.minY, t.minY))
                            }(t, s) - u) < h ? (h = l,
                            c = u < c ? u : c,
                            a = s) : l === h && u < c && (c = u,
                            a = s);
                        e = a || e.children[0]
                    }
                    return e
                },
                _insert: function(t, e, n) {
                    var i = this.toBBox
                      , r = n ? t : i(t)
                      , o = []
                      , s = this._chooseSubtree(r, this.data, e, o);
                    for (s.children.push(t),
                    Ae(s, r); e >= 0 && o[e].children.length > this._maxEntries; )
                        this._split(o, e),
                        e--;
                    this._adjustParentBBoxes(r, o, e)
                },
                _split: function(t, e) {
                    var n = t[e]
                      , i = n.children.length
                      , r = this._minEntries;
                    this._chooseSplitAxis(n, r, i);
                    var o = this._chooseSplitIndex(n, r, i)
                      , s = qe(n.children.splice(o, n.children.length - o));
                    s.height = n.height,
                    s.leaf = n.leaf,
                    Te(n, this.toBBox),
                    Te(s, this.toBBox),
                    e ? t[e - 1].children.push(s) : this._splitRoot(n, s)
                },
                _splitRoot: function(t, e) {
                    this.data = qe([t, e]),
                    this.data.height = t.height + 1,
                    this.data.leaf = !1,
                    Te(this.data, this.toBBox)
                },
                _chooseSplitIndex: function(t, e, n) {
                    var i, r, o, s, a, u, l, c;
                    for (u = l = 1 / 0,
                    i = e; i <= n - e; i++)
                        s = function(t, e) {
                            var n = Math.max(t.minX, e.minX)
                              , i = Math.max(t.minY, e.minY)
                              , r = Math.min(t.maxX, e.maxX)
                              , o = Math.min(t.maxY, e.maxY);
                            return Math.max(0, r - n) * Math.max(0, o - i)
                        }(r = Oe(t, 0, i, this.toBBox), o = Oe(t, i, n, this.toBBox)),
                        a = ke(r) + ke(o),
                        s < u ? (u = s,
                        c = i,
                        l = a < l ? a : l) : s === u && a < l && (l = a,
                        c = i);
                    return c
                },
                _chooseSplitAxis: function(t, e, n) {
                    var i = t.leaf ? this.compareMinX : De
                      , r = t.leaf ? this.compareMinY : Re;
                    this._allDistMargin(t, e, n, i) < this._allDistMargin(t, e, n, r) && t.children.sort(i)
                },
                _allDistMargin: function(t, e, n, i) {
                    t.children.sort(i);
                    var r, o, s = this.toBBox, a = Oe(t, 0, e, s), u = Oe(t, n - e, n, s), l = Fe(a) + Fe(u);
                    for (r = e; r < n - e; r++)
                        o = t.children[r],
                        Ae(a, t.leaf ? s(o) : o),
                        l += Fe(a);
                    for (r = n - e - 1; r >= e; r--)
                        o = t.children[r],
                        Ae(u, t.leaf ? s(o) : o),
                        l += Fe(u);
                    return l
                },
                _adjustParentBBoxes: function(t, e, n) {
                    for (var i = n; i >= 0; i--)
                        Ae(e[i], t)
                },
                _condense: function(t) {
                    for (var e, n = t.length - 1; n >= 0; n--)
                        0 === t[n].children.length ? n > 0 ? (e = t[n - 1].children).splice(e.indexOf(t[n]), 1) : this.clear() : Te(t[n], this.toBBox)
                },
                _initFormat: function(t) {
                    var e = ["return a", " - b", ";"];
                    this.compareMinX = new Function("a","b",e.join(t[0])),
                    this.compareMinY = new Function("a","b",e.join(t[1])),
                    this.toBBox = new Function("a","return {minX: a" + t[0] + ", minY: a" + t[1] + ", maxX: a" + t[2] + ", maxY: a" + t[3] + "};")
                }
            };
            var as = Object.freeze({
                toMercator: Qe,
                toWgs84: Je
            })
              , us = 6378137
              , ls = function(t) {
                function e() {
                    for (var t = [], e = 0; e < d.features.length; e++)
                        -1 == d.features[e].properties.parent && t.push(e);
                    if (t.length > 1)
                        for (e = 0; e < t.length; e++) {
                            for (var n = -1, i = 0; i < d.features.length; i++)
                                t[e] != i && St(d.features[t[e]].geometry.coordinates[0][0], d.features[i], {
                                    ignoreBoundary: !0
                                }) && un(d.features[i]) < 1 / 0 && (n = i);
                            d.features[t[e]].properties.parent = n
                        }
                }
                function n() {
                    for (var t = 0; t < d.features.length; t++)
                        if (-1 == d.features[t].properties.parent) {
                            var e = d.features[t].properties.winding;
                            d.features[t].properties.netWinding = e,
                            i(t, e)
                        }
                }
                function i(t, e) {
                    for (var n = 0; n < d.features.length; n++)
                        if (d.features[n].properties.parent == t) {
                            var r = e + d.features[n].properties.winding;
                            d.features[n].properties.netWinding = r,
                            i(n, r)
                        }
                }
                if ("Feature" != t.type)
                    throw new Error("The input must a geojson object of type Feature");
                if (void 0 === t.geometry || null == t.geometry)
                    throw new Error("The input must a geojson object with a non-empty geometry");
                if ("Polygon" != t.geometry.type)
                    throw new Error("The input must be a geojson Polygon");
                for (var r = t.geometry.coordinates.length, s = [], a = 0; a < r; a++) {
                    var u = t.geometry.coordinates[a];
                    wn(u[0], u[u.length - 1]) || u.push(u[0]),
                    s.push.apply(s, u.slice(0, u.length - 1))
                }
                if (!function(t) {
                    for (var e = {}, n = 1, i = 0, r = t.length; i < r; ++i) {
                        if (e.hasOwnProperty(t[i])) {
                            n = 0;
                            break
                        }
                        e[t[i]] = 1
                    }
                    return n
                }(s))
                    throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");
                var c = s.length
                  , h = function(t, e, n) {
                    function i(t, n, i, r) {
                        var u, l, c = o[t][n], h = o[t][n + 1], p = o[i][r], f = o[i][r + 1], d = function(t, e, n, i) {
                            if (En(t, n) || En(t, i) || En(e, n) || En(i, n))
                                return null;
                            var r = t[0]
                              , o = t[1]
                              , s = e[0]
                              , a = e[1]
                              , u = n[0]
                              , l = n[1]
                              , c = i[0]
                              , h = i[1]
                              , p = (r - s) * (l - h) - (o - a) * (u - c);
                            return 0 === p ? null : [((r * a - o * s) * (u - c) - (r - s) * (u * h - l * c)) / p, ((r * a - o * s) * (l - h) - (o - a) * (u * h - l * c)) / p]
                        }(c, h, p, f);
                        if (null !== d && (u = h[0] !== c[0] ? (d[0] - c[0]) / (h[0] - c[0]) : (d[1] - c[1]) / (h[1] - c[1]),
                        l = f[0] !== p[0] ? (d[0] - p[0]) / (f[0] - p[0]) : (d[1] - p[1]) / (f[1] - p[1]),
                        !(u >= 1 || u <= 0 || l >= 1 || l <= 0))) {
                            var g = d
                              , y = !a[g];
                            y && (a[g] = !0),
                            e ? s.push(e(d, t, n, c, h, u, i, r, p, f, l, y)) : s.push(d)
                        }
                    }
                    function r(t, e) {
                        var n, i, r, s, a = o[t][e], u = o[t][e + 1];
                        return a[0] < u[0] ? (n = a[0],
                        i = u[0]) : (n = u[0],
                        i = a[0]),
                        a[1] < u[1] ? (r = a[1],
                        s = u[1]) : (r = u[1],
                        s = a[1]),
                        {
                            minX: n,
                            minY: r,
                            maxX: i,
                            maxY: s,
                            ring: t,
                            edge: e
                        }
                    }
                    if ("Polygon" !== t.geometry.type)
                        throw new Error("The input feature must be a Polygon");
                    void 0 === n && (n = 1);
                    var o = t.geometry.coordinates
                      , s = []
                      , a = {};
                    if (n) {
                        for (var u = [], l = 0; l < o.length; l++)
                            for (var c = 0; c < o[l].length - 1; c++)
                                u.push(r(l, c));
                        var h = No();
                        h.load(u)
                    }
                    for (var p = 0; p < o.length; p++)
                        for (var f = 0; f < o[p].length - 1; f++)
                            if (n)
                                h.search(r(p, f)).forEach(function(t) {
                                    var e = t.ring
                                      , n = t.edge;
                                    i(p, f, e, n)
                                });
                            else
                                for (var d = 0; d < o.length; d++)
                                    for (var g = 0; g < o[d].length - 1; g++)
                                        i(p, f, d, g);
                    return e || (s = {
                        type: "Feature",
                        geometry: {
                            type: "MultiPoint",
                            coordinates: s
                        }
                    }),
                    s
                }(t, function(t, e, n, i, r, o, s, a, u, l, c, h) {
                    return [t, e, n, i, r, o, s, a, u, l, c, h]
                })
                  , p = h.length;
                if (0 == p) {
                    var f = [];
                    for (a = 0; a < r; a++)
                        f.push(o([t.geometry.coordinates[a]], {
                            parent: -1,
                            winding: function(t) {
                                for (var e = 0, n = 0; n < t.length - 1; n++)
                                    t[n][0] < t[e][0] && (e = n);
                                if (Cn([t[(e - 1).modulo(t.length - 1)], t[e], t[(e + 1).modulo(t.length - 1)]], !0))
                                    var i = 1;
                                else
                                    i = -1;
                                return i
                            }(t.geometry.coordinates[a])
                        }));
                    var d = l(f);
                    return e(),
                    n(),
                    d
                }
                var g = []
                  , y = [];
                for (a = 0; a < r; a++) {
                    g.push([]);
                    for (var v = 0; v < t.geometry.coordinates[a].length - 1; v++)
                        g[a].push([new cs(t.geometry.coordinates[a][(v + 1).modulo(t.geometry.coordinates[a].length - 1)],1,[a, v],[a, (v + 1).modulo(t.geometry.coordinates[a].length - 1)],void 0)]),
                        y.push(new hs(t.geometry.coordinates[a][v],[a, (v - 1).modulo(t.geometry.coordinates[a].length - 1)],[a, v],void 0,void 0,!1,!0))
                }
                for (a = 0; a < p; a++)
                    g[h[a][1]][h[a][2]].push(new cs(h[a][0],h[a][5],[h[a][1], h[a][2]],[h[a][6], h[a][7]],void 0)),
                    h[a][11] && y.push(new hs(h[a][0],[h[a][1], h[a][2]],[h[a][6], h[a][7]],void 0,void 0,!0,!0));
                var m = y.length;
                for (a = 0; a < g.length; a++)
                    for (v = 0; v < g[a].length; v++)
                        g[a][v].sort(function(t, e) {
                            return t.param < e.param ? -1 : 1
                        });
                var _ = [];
                for (a = 0; a < m; a++)
                    _.push({
                        minX: y[a].coord[0],
                        minY: y[a].coord[1],
                        maxX: y[a].coord[0],
                        maxY: y[a].coord[1],
                        index: a
                    });
                var E = No();
                for (E.load(_),
                a = 0; a < g.length; a++)
                    for (v = 0; v < g[a].length; v++)
                        for (var C = 0; C < g[a][v].length; C++) {
                            b = C == g[a][v].length - 1 ? g[a][(v + 1).modulo(t.geometry.coordinates[a].length - 1)][0].coord : g[a][v][C + 1].coord;
                            var w = E.search({
                                minX: b[0],
                                minY: b[1],
                                maxX: b[0],
                                maxY: b[1]
                            })[0];
                            g[a][v][C].nxtIsectAlongEdgeIn = w.index
                        }
                for (a = 0; a < g.length; a++)
                    for (v = 0; v < g[a].length; v++)
                        for (C = 0; C < g[a][v].length; C++) {
                            var b = g[a][v][C].coord
                              , x = (w = E.search({
                                minX: b[0],
                                minY: b[1],
                                maxX: b[0],
                                maxY: b[1]
                            })[0]).index;
                            x < c ? y[x].nxtIsectAlongRingAndEdge2 = g[a][v][C].nxtIsectAlongEdgeIn : wn(y[x].ringAndEdge1, g[a][v][C].ringAndEdgeIn) ? y[x].nxtIsectAlongRingAndEdge1 = g[a][v][C].nxtIsectAlongEdgeIn : y[x].nxtIsectAlongRingAndEdge2 = g[a][v][C].nxtIsectAlongEdgeIn
                        }
                var I = [];
                for (a = 0,
                v = 0; v < r; v++) {
                    var P = a;
                    for (C = 0; C < t.geometry.coordinates[v].length - 1; C++)
                        y[a].coord[0] < y[P].coord[0] && (P = a),
                        a++;
                    var L = y[P].nxtIsectAlongRingAndEdge2;
                    for (C = 0; C < y.length; C++)
                        if (y[C].nxtIsectAlongRingAndEdge1 == P || y[C].nxtIsectAlongRingAndEdge2 == P) {
                            var S = C;
                            break
                        }
                    var N = Cn([y[S].coord, y[P].coord, y[L].coord], !0) ? 1 : -1;
                    I.push({
                        isect: P,
                        parent: -1,
                        winding: N
                    })
                }
                for (I.sort(function(t, e) {
                    return y[t.isect].coord > y[e.isect].coord ? -1 : 1
                }),
                f = []; I.length > 0; ) {
                    var M = I.pop()
                      , T = M.isect
                      , O = M.parent
                      , A = M.winding
                      , D = f.length
                      , R = [y[T].coord]
                      , k = T;
                    if (y[T].ringAndEdge1Walkable)
                        var F = y[T].ringAndEdge1
                          , G = y[T].nxtIsectAlongRingAndEdge1;
                    else
                        F = y[T].ringAndEdge2,
                        G = y[T].nxtIsectAlongRingAndEdge2;
                    for (; !wn(y[T].coord, y[G].coord); ) {
                        R.push(y[G].coord);
                        var B = void 0;
                        for (a = 0; a < I.length; a++)
                            if (I[a].isect == G) {
                                B = a;
                                break
                            }
                        if (void 0 != B && I.splice(B, 1),
                        wn(F, y[G].ringAndEdge1)) {
                            if (F = y[G].ringAndEdge2,
                            y[G].ringAndEdge2Walkable = !1,
                            y[G].ringAndEdge1Walkable) {
                                var q = {
                                    isect: G
                                };
                                Cn([y[k].coord, y[G].coord, y[y[G].nxtIsectAlongRingAndEdge2].coord], 1 == A) ? (q.parent = O,
                                q.winding = -A) : (q.parent = D,
                                q.winding = A),
                                I.push(q)
                            }
                            k = G,
                            G = y[G].nxtIsectAlongRingAndEdge2
                        } else
                            F = y[G].ringAndEdge1,
                            y[G].ringAndEdge1Walkable = !1,
                            y[G].ringAndEdge2Walkable && (q = {
                                isect: G
                            },
                            Cn([y[k].coord, y[G].coord, y[y[G].nxtIsectAlongRingAndEdge1].coord], 1 == A) ? (q.parent = O,
                            q.winding = -A) : (q.parent = D,
                            q.winding = A),
                            I.push(q)),
                            k = G,
                            G = y[G].nxtIsectAlongRingAndEdge1
                    }
                    R.push(y[G].coord),
                    f.push(o([R], {
                        index: D,
                        parent: O,
                        winding: A,
                        netWinding: void 0
                    }))
                }
                return d = l(f),
                e(),
                n(),
                d
            }
              , cs = function(t, e, n, i, r) {
                this.coord = t,
                this.param = e,
                this.ringAndEdgeIn = n,
                this.ringAndEdgeOut = i,
                this.nxtIsectAlongEdgeIn = r
            }
              , hs = function(t, e, n, i, r, o, s) {
                this.coord = t,
                this.ringAndEdge1 = e,
                this.ringAndEdge2 = n,
                this.nxtIsectAlongRingAndEdge1 = i,
                this.nxtIsectAlongRingAndEdge2 = r,
                this.ringAndEdge1Walkable = o,
                this.ringAndEdge2Walkable = s
            };
            Number.prototype.modulo = function(t) {
                return (this % t + t) % t
            }
            ;
            var ps = Math.PI / 180
              , fs = 180 / Math.PI
              , ds = function(t, e) {
                this.lon = t,
                this.lat = e,
                this.x = ps * t,
                this.y = ps * e
            };
            ds.prototype.view = function() {
                return String(this.lon).slice(0, 4) + "," + String(this.lat).slice(0, 4)
            }
            ,
            ds.prototype.antipode = function() {
                var t = -1 * this.lat
                  , e = this.lon < 0 ? 180 + this.lon : -1 * (180 - this.lon);
                return new ds(e,t)
            }
            ;
            var gs = function() {
                this.coords = [],
                this.length = 0
            };
            gs.prototype.move_to = function(t) {
                this.length++,
                this.coords.push(t)
            }
            ;
            var ys = function(t) {
                this.properties = t || {},
                this.geometries = []
            };
            ys.prototype.json = function() {
                if (this.geometries.length <= 0)
                    return {
                        geometry: {
                            type: "LineString",
                            coordinates: null
                        },
                        type: "Feature",
                        properties: this.properties
                    };
                if (1 === this.geometries.length)
                    return {
                        geometry: {
                            type: "LineString",
                            coordinates: this.geometries[0].coords
                        },
                        type: "Feature",
                        properties: this.properties
                    };
                for (var t = [], e = 0; e < this.geometries.length; e++)
                    t.push(this.geometries[e].coords);
                return {
                    geometry: {
                        type: "MultiLineString",
                        coordinates: t
                    },
                    type: "Feature",
                    properties: this.properties
                }
            }
            ,
            ys.prototype.wkt = function() {
                for (var t = "", e = "LINESTRING(", n = function(t) {
                    e += t[0] + " " + t[1] + ","
                }, i = 0; i < this.geometries.length; i++) {
                    if (0 === this.geometries[i].coords.length)
                        return "LINESTRING(empty)";
                    this.geometries[i].coords.forEach(n),
                    t += e.substring(0, e.length - 1) + ")"
                }
                return t
            }
            ;
            var vs = function(t, e, n) {
                if (!t || void 0 === t.x || void 0 === t.y)
                    throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");
                if (!e || void 0 === e.x || void 0 === e.y)
                    throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");
                this.start = new ds(t.x,t.y),
                this.end = new ds(e.x,e.y),
                this.properties = n || {};
                var i = this.start.x - this.end.x
                  , r = this.start.y - this.end.y
                  , o = Math.pow(Math.sin(r / 2), 2) + Math.cos(this.start.y) * Math.cos(this.end.y) * Math.pow(Math.sin(i / 2), 2);
                if (this.g = 2 * Math.asin(Math.sqrt(o)),
                this.g === Math.PI)
                    throw new Error("it appears " + t.view() + " and " + e.view() + " are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");
                if (isNaN(this.g))
                    throw new Error("could not calculate great circle between " + t + " and " + e)
            };
            vs.prototype.interpolate = function(t) {
                var e = Math.sin((1 - t) * this.g) / Math.sin(this.g)
                  , n = Math.sin(t * this.g) / Math.sin(this.g)
                  , i = e * Math.cos(this.start.y) * Math.cos(this.start.x) + n * Math.cos(this.end.y) * Math.cos(this.end.x)
                  , r = e * Math.cos(this.start.y) * Math.sin(this.start.x) + n * Math.cos(this.end.y) * Math.sin(this.end.x)
                  , o = e * Math.sin(this.start.y) + n * Math.sin(this.end.y)
                  , s = fs * Math.atan2(o, Math.sqrt(Math.pow(i, 2) + Math.pow(r, 2)));
                return [fs * Math.atan2(r, i), s]
            }
            ,
            vs.prototype.Arc = function(t, e) {
                var n = [];
                if (!t || t <= 2)
                    n.push([this.start.lon, this.start.lat]),
                    n.push([this.end.lon, this.end.lat]);
                else
                    for (var i = 1 / (t - 1), r = 0; r < t; ++r) {
                        var o = i * r
                          , s = this.interpolate(o);
                        n.push(s)
                    }
                for (var a = !1, u = 0, l = e && e.offset ? e.offset : 10, c = 180 - l, h = -180 + l, p = 360 - l, f = 1; f < n.length; ++f) {
                    var d = n[f - 1][0]
                      , g = n[f][0]
                      , y = Math.abs(g - d);
                    y > p && (g > c && d < h || d > c && g < h) ? a = !0 : y > u && (u = y)
                }
                var v = [];
                if (a && u < l) {
                    var m = [];
                    v.push(m);
                    for (var _ = 0; _ < n.length; ++_) {
                        var E = parseFloat(n[_][0]);
                        if (_ > 0 && Math.abs(E - n[_ - 1][0]) > p) {
                            var C = parseFloat(n[_ - 1][0])
                              , w = parseFloat(n[_ - 1][1])
                              , b = parseFloat(n[_][0])
                              , x = parseFloat(n[_][1]);
                            if (C > -180 && C < h && 180 === b && _ + 1 < n.length && n[_ - 1][0] > -180 && n[_ - 1][0] < h) {
                                m.push([-180, n[_][1]]),
                                _++,
                                m.push([n[_][0], n[_][1]]);
                                continue
                            }
                            if (C > c && C < 180 && -180 === b && _ + 1 < n.length && n[_ - 1][0] > c && n[_ - 1][0] < 180) {
                                m.push([180, n[_][1]]),
                                _++,
                                m.push([n[_][0], n[_][1]]);
                                continue
                            }
                            if (C < h && b > c) {
                                var I = C;
                                C = b,
                                b = I;
                                var P = w;
                                w = x,
                                x = P
                            }
                            if (C > c && b < h && (b += 360),
                            C <= 180 && b >= 180 && C < b) {
                                var L = (180 - C) / (b - C)
                                  , S = L * x + (1 - L) * w;
                                m.push([n[_ - 1][0] > c ? 180 : -180, S]),
                                (m = []).push([n[_ - 1][0] > c ? -180 : 180, S]),
                                v.push(m)
                            } else
                                m = [],
                                v.push(m);
                            m.push([E, n[_][1]])
                        } else
                            m.push([n[_][0], n[_][1]])
                    }
                } else {
                    var N = [];
                    v.push(N);
                    for (var M = 0; M < n.length; ++M)
                        N.push([n[M][0], n[M][1]])
                }
                for (var T = new ys(this.properties), O = 0; O < v.length; ++O) {
                    var A = new gs;
                    T.geometries.push(A);
                    for (var D = v[O], R = 0; R < D.length; ++R)
                        A.move_to(D[R])
                }
                return T
            }
            ;
            var ms = Dn;
            Dn.polyline = Dn,
            Dn.polygon = function(t, e) {
                var n, i, r, o, s, a, u;
                for (i = 1; i <= 8; i *= 2) {
                    for (n = [],
                    o = !(kn(r = t[t.length - 1], e) & i),
                    s = 0; s < t.length; s++)
                        (u = !(kn(a = t[s], e) & i)) !== o && n.push(Rn(r, a, i, e)),
                        u && n.push(a),
                        r = a,
                        o = u;
                    if (!(t = n).length)
                        break
                }
                return n
            }
            ;
            var _s = Array.prototype.slice
              , Es = {
                successCallback: null,
                verbose: !1,
                polygons: !1
            }
              , Cs = {}
              , ws = 64
              , bs = 16
              , xs = 4
              , Is = 1
              , Ps = []
              , Ls = []
              , Ss = []
              , Ns = []
              , Ms = []
              , Ts = []
              , Os = []
              , As = []
              , Ds = []
              , Rs = []
              , ks = []
              , Fs = []
              , Gs = []
              , Bs = []
              , qs = []
              , Vs = []
              , Us = []
              , js = []
              , zs = []
              , Ys = []
              , Hs = []
              , Xs = []
              , Ws = []
              , $s = [];
            Os[85] = Rs[85] = -1,
            As[85] = ks[85] = 0,
            Ds[85] = Fs[85] = 1,
            zs[85] = Xs[85] = 1,
            Ys[85] = Ws[85] = 0,
            Hs[85] = $s[85] = 1,
            Ps[85] = Ns[85] = 0,
            Ls[85] = Ms[85] = -1,
            Ss[85] = qs[85] = 0,
            Vs[85] = Gs[85] = 0,
            Us[85] = Bs[85] = 1,
            Ts[85] = js[85] = 1,
            Xs[1] = Xs[169] = 0,
            Ws[1] = Ws[169] = -1,
            $s[1] = $s[169] = 0,
            Gs[1] = Gs[169] = -1,
            Bs[1] = Bs[169] = 0,
            qs[1] = qs[169] = 0,
            Rs[4] = Rs[166] = 0,
            ks[4] = ks[166] = -1,
            Fs[4] = Fs[166] = 1,
            Vs[4] = Vs[166] = 1,
            Us[4] = Us[166] = 0,
            js[4] = js[166] = 0,
            Os[16] = Os[154] = 0,
            As[16] = As[154] = 1,
            Ds[16] = Ds[154] = 1,
            Ns[16] = Ns[154] = 1,
            Ms[16] = Ms[154] = 0,
            Ts[16] = Ts[154] = 1,
            zs[64] = zs[106] = 0,
            Ys[64] = Ys[106] = 1,
            Hs[64] = Hs[106] = 0,
            Ps[64] = Ps[106] = -1,
            Ls[64] = Ls[106] = 0,
            Ss[64] = Ss[106] = 1,
            zs[2] = zs[168] = 0,
            Ys[2] = Ys[168] = -1,
            Hs[2] = Hs[168] = 1,
            Xs[2] = Xs[168] = 0,
            Ws[2] = Ws[168] = -1,
            $s[2] = $s[168] = 0,
            Gs[2] = Gs[168] = -1,
            Bs[2] = Bs[168] = 0,
            qs[2] = qs[168] = 0,
            Vs[2] = Vs[168] = -1,
            Us[2] = Us[168] = 0,
            js[2] = js[168] = 1,
            Os[8] = Os[162] = 0,
            As[8] = As[162] = -1,
            Ds[8] = Ds[162] = 0,
            Rs[8] = Rs[162] = 0,
            ks[8] = ks[162] = -1,
            Fs[8] = Fs[162] = 1,
            Gs[8] = Gs[162] = 1,
            Bs[8] = Bs[162] = 0,
            qs[8] = qs[162] = 1,
            Vs[8] = Vs[162] = 1,
            Us[8] = Us[162] = 0,
            js[8] = js[162] = 0,
            Os[32] = Os[138] = 0,
            As[32] = As[138] = 1,
            Ds[32] = Ds[138] = 1,
            Rs[32] = Rs[138] = 0,
            ks[32] = ks[138] = 1,
            Fs[32] = Fs[138] = 0,
            Ps[32] = Ps[138] = 1,
            Ls[32] = Ls[138] = 0,
            Ss[32] = Ss[138] = 0,
            Ns[32] = Ns[138] = 1,
            Ms[32] = Ms[138] = 0,
            Ts[32] = Ts[138] = 1,
            Xs[128] = Xs[42] = 0,
            Ws[128] = Ws[42] = 1,
            $s[128] = $s[42] = 1,
            zs[128] = zs[42] = 0,
            Ys[128] = Ys[42] = 1,
            Hs[128] = Hs[42] = 0,
            Ps[128] = Ps[42] = -1,
            Ls[128] = Ls[42] = 0,
            Ss[128] = Ss[42] = 1,
            Ns[128] = Ns[42] = -1,
            Ms[128] = Ms[42] = 0,
            Ts[128] = Ts[42] = 0,
            Rs[5] = Rs[165] = -1,
            ks[5] = ks[165] = 0,
            Fs[5] = Fs[165] = 0,
            Xs[5] = Xs[165] = 1,
            Ws[5] = Ws[165] = 0,
            $s[5] = $s[165] = 0,
            Vs[20] = Vs[150] = 0,
            Us[20] = Us[150] = 1,
            js[20] = js[150] = 1,
            Ns[20] = Ns[150] = 0,
            Ms[20] = Ms[150] = -1,
            Ts[20] = Ts[150] = 1,
            Os[80] = Os[90] = -1,
            As[80] = As[90] = 0,
            Ds[80] = Ds[90] = 1,
            zs[80] = zs[90] = 1,
            Ys[80] = Ys[90] = 0,
            Hs[80] = Hs[90] = 1,
            Gs[65] = Gs[105] = 0,
            Bs[65] = Bs[105] = 1,
            qs[65] = qs[105] = 0,
            Ps[65] = Ps[105] = 0,
            Ls[65] = Ls[105] = -1,
            Ss[65] = Ss[105] = 0,
            Os[160] = Os[10] = -1,
            As[160] = As[10] = 0,
            Ds[160] = Ds[10] = 1,
            Rs[160] = Rs[10] = -1,
            ks[160] = ks[10] = 0,
            Fs[160] = Fs[10] = 0,
            Xs[160] = Xs[10] = 1,
            Ws[160] = Ws[10] = 0,
            $s[160] = $s[10] = 0,
            zs[160] = zs[10] = 1,
            Ys[160] = Ys[10] = 0,
            Hs[160] = Hs[10] = 1,
            Vs[130] = Vs[40] = 0,
            Us[130] = Us[40] = 1,
            js[130] = js[40] = 1,
            Gs[130] = Gs[40] = 0,
            Bs[130] = Bs[40] = 1,
            qs[130] = qs[40] = 0,
            Ps[130] = Ps[40] = 0,
            Ls[130] = Ls[40] = -1,
            Ss[130] = Ss[40] = 0,
            Ns[130] = Ns[40] = 0,
            Ms[130] = Ms[40] = -1,
            Ts[130] = Ts[40] = 1,
            Rs[37] = Rs[133] = 0,
            ks[37] = ks[133] = 1,
            Fs[37] = Fs[133] = 1,
            Xs[37] = Xs[133] = 0,
            Ws[37] = Ws[133] = 1,
            $s[37] = $s[133] = 0,
            Ps[37] = Ps[133] = -1,
            Ls[37] = Ls[133] = 0,
            Ss[37] = Ss[133] = 0,
            Ns[37] = Ns[133] = 1,
            Ms[37] = Ms[133] = 0,
            Ts[37] = Ts[133] = 0,
            Vs[148] = Vs[22] = -1,
            Us[148] = Us[22] = 0,
            js[148] = js[22] = 0,
            Xs[148] = Xs[22] = 0,
            Ws[148] = Ws[22] = -1,
            $s[148] = $s[22] = 1,
            zs[148] = zs[22] = 0,
            Ys[148] = Ys[22] = 1,
            Hs[148] = Hs[22] = 1,
            Ns[148] = Ns[22] = -1,
            Ms[148] = Ms[22] = 0,
            Ts[148] = Ts[22] = 1,
            Os[82] = Os[88] = 0,
            As[82] = As[88] = -1,
            Ds[82] = Ds[88] = 1,
            Vs[82] = Vs[88] = 1,
            Us[82] = Us[88] = 0,
            js[82] = js[88] = 1,
            Gs[82] = Gs[88] = -1,
            Bs[82] = Bs[88] = 0,
            qs[82] = qs[88] = 1,
            zs[82] = zs[88] = 0,
            Ys[82] = Ys[88] = -1,
            Hs[82] = Hs[88] = 0,
            Os[73] = Os[97] = 0,
            As[73] = As[97] = 1,
            Ds[73] = Ds[97] = 0,
            Rs[73] = Rs[97] = 0,
            ks[73] = ks[97] = -1,
            Fs[73] = Fs[97] = 0,
            Gs[73] = Gs[97] = 1,
            Bs[73] = Bs[97] = 0,
            qs[73] = qs[97] = 0,
            Ps[73] = Ps[97] = 1,
            Ls[73] = Ls[97] = 0,
            Ss[73] = Ss[97] = 1,
            Os[145] = Os[25] = 0,
            As[145] = As[25] = -1,
            Ds[145] = Ds[25] = 0,
            Gs[145] = Gs[25] = 1,
            Bs[145] = Bs[25] = 0,
            qs[145] = qs[25] = 1,
            Xs[145] = Xs[25] = 0,
            Ws[145] = Ws[25] = 1,
            $s[145] = $s[25] = 1,
            Ns[145] = Ns[25] = -1,
            Ms[145] = Ms[25] = 0,
            Ts[145] = Ts[25] = 0,
            Rs[70] = Rs[100] = 0,
            ks[70] = ks[100] = 1,
            Fs[70] = Fs[100] = 0,
            Vs[70] = Vs[100] = -1,
            Us[70] = Us[100] = 0,
            js[70] = js[100] = 1,
            zs[70] = zs[100] = 0,
            Ys[70] = Ys[100] = -1,
            Hs[70] = Hs[100] = 1,
            Ps[70] = Ps[100] = 1,
            Ls[70] = Ls[100] = 0,
            Ss[70] = Ss[100] = 0,
            Rs[101] = Rs[69] = 0,
            ks[101] = ks[69] = 1,
            Fs[101] = Fs[69] = 0,
            Ps[101] = Ps[69] = 1,
            Ls[101] = Ls[69] = 0,
            Ss[101] = Ss[69] = 0,
            Xs[149] = Xs[21] = 0,
            Ws[149] = Ws[21] = 1,
            $s[149] = $s[21] = 1,
            Ns[149] = Ns[21] = -1,
            Ms[149] = Ms[21] = 0,
            Ts[149] = Ts[21] = 0,
            Vs[86] = Vs[84] = -1,
            Us[86] = Us[84] = 0,
            js[86] = js[84] = 1,
            zs[86] = zs[84] = 0,
            Ys[86] = Ys[84] = -1,
            Hs[86] = Hs[84] = 1,
            Os[89] = Os[81] = 0,
            As[89] = As[81] = -1,
            Ds[89] = Ds[81] = 0,
            Gs[89] = Gs[81] = 1,
            Bs[89] = Bs[81] = 0,
            qs[89] = qs[81] = 1,
            Os[96] = Os[74] = 0,
            As[96] = As[74] = 1,
            Ds[96] = Ds[74] = 0,
            Rs[96] = Rs[74] = -1,
            ks[96] = ks[74] = 0,
            Fs[96] = Fs[74] = 1,
            zs[96] = zs[74] = 1,
            Ys[96] = Ys[74] = 0,
            Hs[96] = Hs[74] = 0,
            Ps[96] = Ps[74] = 1,
            Ls[96] = Ls[74] = 0,
            Ss[96] = Ss[74] = 1,
            Os[24] = Os[146] = 0,
            As[24] = As[146] = -1,
            Ds[24] = Ds[146] = 1,
            Vs[24] = Vs[146] = 1,
            Us[24] = Us[146] = 0,
            js[24] = js[146] = 1,
            Gs[24] = Gs[146] = 0,
            Bs[24] = Bs[146] = 1,
            qs[24] = qs[146] = 1,
            Ns[24] = Ns[146] = 0,
            Ms[24] = Ms[146] = -1,
            Ts[24] = Ts[146] = 0,
            Rs[6] = Rs[164] = -1,
            ks[6] = ks[164] = 0,
            Fs[6] = Fs[164] = 1,
            Vs[6] = Vs[164] = -1,
            Us[6] = Us[164] = 0,
            js[6] = js[164] = 0,
            Xs[6] = Xs[164] = 0,
            Ws[6] = Ws[164] = -1,
            $s[6] = $s[164] = 1,
            zs[6] = zs[164] = 1,
            Ys[6] = Ys[164] = 0,
            Hs[6] = Hs[164] = 0,
            Gs[129] = Gs[41] = 0,
            Bs[129] = Bs[41] = 1,
            qs[129] = qs[41] = 1,
            Xs[129] = Xs[41] = 0,
            Ws[129] = Ws[41] = 1,
            $s[129] = $s[41] = 0,
            Ps[129] = Ps[41] = -1,
            Ls[129] = Ls[41] = 0,
            Ss[129] = Ss[41] = 0,
            Ns[129] = Ns[41] = 0,
            Ms[129] = Ms[41] = -1,
            Ts[129] = Ts[41] = 0,
            Vs[66] = Vs[104] = 0,
            Us[66] = Us[104] = 1,
            js[66] = js[104] = 0,
            Gs[66] = Gs[104] = -1,
            Bs[66] = Bs[104] = 0,
            qs[66] = qs[104] = 1,
            zs[66] = zs[104] = 0,
            Ys[66] = Ys[104] = -1,
            Hs[66] = Hs[104] = 0,
            Ps[66] = Ps[104] = 0,
            Ls[66] = Ls[104] = -1,
            Ss[66] = Ss[104] = 1,
            Os[144] = Os[26] = -1,
            As[144] = As[26] = 0,
            Ds[144] = Ds[26] = 0,
            Xs[144] = Xs[26] = 1,
            Ws[144] = Ws[26] = 0,
            $s[144] = $s[26] = 1,
            zs[144] = zs[26] = 0,
            Ys[144] = Ys[26] = 1,
            Hs[144] = Hs[26] = 1,
            Ns[144] = Ns[26] = -1,
            Ms[144] = Ms[26] = 0,
            Ts[144] = Ts[26] = 1,
            Rs[36] = Rs[134] = 0,
            ks[36] = ks[134] = 1,
            Fs[36] = Fs[134] = 1,
            Vs[36] = Vs[134] = 0,
            Us[36] = Us[134] = 1,
            js[36] = js[134] = 0,
            Ps[36] = Ps[134] = 0,
            Ls[36] = Ls[134] = -1,
            Ss[36] = Ss[134] = 1,
            Ns[36] = Ns[134] = 1,
            Ms[36] = Ms[134] = 0,
            Ts[36] = Ts[134] = 0,
            Os[9] = Os[161] = -1,
            As[9] = As[161] = 0,
            Ds[9] = Ds[161] = 0,
            Rs[9] = Rs[161] = 0,
            ks[9] = ks[161] = -1,
            Fs[9] = Fs[161] = 0,
            Gs[9] = Gs[161] = 1,
            Bs[9] = Bs[161] = 0,
            qs[9] = qs[161] = 0,
            Xs[9] = Xs[161] = 1,
            Ws[9] = Ws[161] = 0,
            $s[9] = $s[161] = 1,
            Os[136] = 0,
            As[136] = 1,
            Ds[136] = 1,
            Rs[136] = 0,
            ks[136] = 1,
            Fs[136] = 0,
            Vs[136] = -1,
            Us[136] = 0,
            js[136] = 1,
            Gs[136] = -1,
            Bs[136] = 0,
            qs[136] = 0,
            Xs[136] = 0,
            Ws[136] = -1,
            $s[136] = 0,
            zs[136] = 0,
            Ys[136] = -1,
            Hs[136] = 1,
            Ps[136] = 1,
            Ls[136] = 0,
            Ss[136] = 0,
            Ns[136] = 1,
            Ms[136] = 0,
            Ts[136] = 1,
            Os[34] = 0,
            As[34] = -1,
            Ds[34] = 0,
            Rs[34] = 0,
            ks[34] = -1,
            Fs[34] = 1,
            Vs[34] = 1,
            Us[34] = 0,
            js[34] = 0,
            Gs[34] = 1,
            Bs[34] = 0,
            qs[34] = 1,
            Xs[34] = 0,
            Ws[34] = 1,
            $s[34] = 1,
            zs[34] = 0,
            Ys[34] = 1,
            Hs[34] = 0,
            Ps[34] = -1,
            Ls[34] = 0,
            Ss[34] = 1,
            Ns[34] = -1,
            Ms[34] = 0,
            Ts[34] = 0,
            Os[35] = 0,
            As[35] = 1,
            Ds[35] = 1,
            Rs[35] = 0,
            ks[35] = -1,
            Fs[35] = 1,
            Vs[35] = 1,
            Us[35] = 0,
            js[35] = 0,
            Gs[35] = -1,
            Bs[35] = 0,
            qs[35] = 0,
            Xs[35] = 0,
            Ws[35] = -1,
            $s[35] = 0,
            zs[35] = 0,
            Ys[35] = 1,
            Hs[35] = 0,
            Ps[35] = -1,
            Ls[35] = 0,
            Ss[35] = 1,
            Ns[35] = 1,
            Ms[35] = 0,
            Ts[35] = 1,
            Os[153] = 0,
            As[153] = 1,
            Ds[153] = 1,
            Gs[153] = -1,
            Bs[153] = 0,
            qs[153] = 0,
            Xs[153] = 0,
            Ws[153] = -1,
            $s[153] = 0,
            Ns[153] = 1,
            Ms[153] = 0,
            Ts[153] = 1,
            Rs[102] = 0,
            ks[102] = -1,
            Fs[102] = 1,
            Vs[102] = 1,
            Us[102] = 0,
            js[102] = 0,
            zs[102] = 0,
            Ys[102] = 1,
            Hs[102] = 0,
            Ps[102] = -1,
            Ls[102] = 0,
            Ss[102] = 1,
            Os[155] = 0,
            As[155] = -1,
            Ds[155] = 0,
            Gs[155] = 1,
            Bs[155] = 0,
            qs[155] = 1,
            Xs[155] = 0,
            Ws[155] = 1,
            $s[155] = 1,
            Ns[155] = -1,
            Ms[155] = 0,
            Ts[155] = 0,
            Rs[103] = 0,
            ks[103] = 1,
            Fs[103] = 0,
            Vs[103] = -1,
            Us[103] = 0,
            js[103] = 1,
            zs[103] = 0,
            Ys[103] = -1,
            Hs[103] = 1,
            Ps[103] = 1,
            Ls[103] = 0,
            Ss[103] = 0,
            Os[152] = 0,
            As[152] = 1,
            Ds[152] = 1,
            Vs[152] = -1,
            Us[152] = 0,
            js[152] = 1,
            Gs[152] = -1,
            Bs[152] = 0,
            qs[152] = 0,
            Xs[152] = 0,
            Ws[152] = -1,
            $s[152] = 0,
            zs[152] = 0,
            Ys[152] = -1,
            Hs[152] = 1,
            Ns[152] = 1,
            Ms[152] = 0,
            Ts[152] = 1,
            Os[156] = 0,
            As[156] = -1,
            Ds[156] = 1,
            Vs[156] = 1,
            Us[156] = 0,
            js[156] = 1,
            Gs[156] = -1,
            Bs[156] = 0,
            qs[156] = 0,
            Xs[156] = 0,
            Ws[156] = -1,
            $s[156] = 0,
            zs[156] = 0,
            Ys[156] = 1,
            Hs[156] = 1,
            Ns[156] = -1,
            Ms[156] = 0,
            Ts[156] = 1,
            Os[137] = 0,
            As[137] = 1,
            Ds[137] = 1,
            Rs[137] = 0,
            ks[137] = 1,
            Fs[137] = 0,
            Gs[137] = -1,
            Bs[137] = 0,
            qs[137] = 0,
            Xs[137] = 0,
            Ws[137] = -1,
            $s[137] = 0,
            Ps[137] = 1,
            Ls[137] = 0,
            Ss[137] = 0,
            Ns[137] = 1,
            Ms[137] = 0,
            Ts[137] = 1,
            Os[139] = 0,
            As[139] = 1,
            Ds[139] = 1,
            Rs[139] = 0,
            ks[139] = -1,
            Fs[139] = 0,
            Gs[139] = 1,
            Bs[139] = 0,
            qs[139] = 0,
            Xs[139] = 0,
            Ws[139] = 1,
            $s[139] = 0,
            Ps[139] = -1,
            Ls[139] = 0,
            Ss[139] = 0,
            Ns[139] = 1,
            Ms[139] = 0,
            Ts[139] = 1,
            Os[98] = 0,
            As[98] = -1,
            Ds[98] = 0,
            Rs[98] = 0,
            ks[98] = -1,
            Fs[98] = 1,
            Vs[98] = 1,
            Us[98] = 0,
            js[98] = 0,
            Gs[98] = 1,
            Bs[98] = 0,
            qs[98] = 1,
            zs[98] = 0,
            Ys[98] = 1,
            Hs[98] = 0,
            Ps[98] = -1,
            Ls[98] = 0,
            Ss[98] = 1,
            Os[99] = 0,
            As[99] = 1,
            Ds[99] = 0,
            Rs[99] = 0,
            ks[99] = -1,
            Fs[99] = 1,
            Vs[99] = 1,
            Us[99] = 0,
            js[99] = 0,
            Gs[99] = -1,
            Bs[99] = 0,
            qs[99] = 1,
            zs[99] = 0,
            Ys[99] = -1,
            Hs[99] = 0,
            Ps[99] = 1,
            Ls[99] = 0,
            Ss[99] = 1,
            Rs[38] = 0,
            ks[38] = -1,
            Fs[38] = 1,
            Vs[38] = 1,
            Us[38] = 0,
            js[38] = 0,
            Xs[38] = 0,
            Ws[38] = 1,
            $s[38] = 1,
            zs[38] = 0,
            Ys[38] = 1,
            Hs[38] = 0,
            Ps[38] = -1,
            Ls[38] = 0,
            Ss[38] = 1,
            Ns[38] = -1,
            Ms[38] = 0,
            Ts[38] = 0,
            Rs[39] = 0,
            ks[39] = 1,
            Fs[39] = 1,
            Vs[39] = -1,
            Us[39] = 0,
            js[39] = 0,
            Xs[39] = 0,
            Ws[39] = -1,
            $s[39] = 1,
            zs[39] = 0,
            Ys[39] = 1,
            Hs[39] = 0,
            Ps[39] = -1,
            Ls[39] = 0,
            Ss[39] = 1,
            Ns[39] = 1,
            Ms[39] = 0,
            Ts[39] = 0;
            var Ks = function(t) {
                return [[t.bottomleft, 0], [0, 0], [0, t.leftbottom]]
            }
              , Zs = function(t) {
                return [[1, t.rightbottom], [1, 0], [t.bottomright, 0]]
            }
              , Qs = function(t) {
                return [[t.topright, 1], [1, 1], [1, t.righttop]]
            }
              , Js = function(t) {
                return [[0, t.lefttop], [0, 1], [t.topleft, 1]]
            }
              , ta = function(t) {
                return [[t.bottomright, 0], [t.bottomleft, 0], [0, t.leftbottom], [0, t.lefttop]]
            }
              , ea = function(t) {
                return [[t.bottomright, 0], [t.bottomleft, 0], [1, t.righttop], [1, t.rightbottom]]
            }
              , na = function(t) {
                return [[1, t.righttop], [1, t.rightbottom], [t.topleft, 1], [t.topright, 1]]
            }
              , ia = function(t) {
                return [[0, t.leftbottom], [0, t.lefttop], [t.topleft, 1], [t.topright, 1]]
            }
              , ra = []
              , oa = []
              , sa = []
              , aa = []
              , ua = []
              , la = []
              , ca = []
              , ha = [];
            aa[1] = ua[1] = 18,
            aa[169] = ua[169] = 18,
            sa[4] = oa[4] = 12,
            sa[166] = oa[166] = 12,
            ra[16] = ha[16] = 4,
            ra[154] = ha[154] = 4,
            la[64] = ca[64] = 22,
            la[106] = ca[106] = 22,
            sa[2] = la[2] = 17,
            aa[2] = ua[2] = 18,
            sa[168] = la[168] = 17,
            aa[168] = ua[168] = 18,
            ra[8] = aa[8] = 9,
            oa[8] = sa[8] = 12,
            ra[162] = aa[162] = 9,
            oa[162] = sa[162] = 12,
            ra[32] = ha[32] = 4,
            oa[32] = ca[32] = 1,
            ra[138] = ha[138] = 4,
            oa[138] = ca[138] = 1,
            ua[128] = ha[128] = 21,
            la[128] = ca[128] = 22,
            ua[42] = ha[42] = 21,
            la[42] = ca[42] = 22,
            oa[5] = ua[5] = 14,
            oa[165] = ua[165] = 14,
            sa[20] = ha[20] = 6,
            sa[150] = ha[150] = 6,
            ra[80] = la[80] = 11,
            ra[90] = la[90] = 11,
            aa[65] = ca[65] = 3,
            aa[105] = ca[105] = 3,
            ra[160] = la[160] = 11,
            oa[160] = ua[160] = 14,
            ra[10] = la[10] = 11,
            oa[10] = ua[10] = 14,
            sa[130] = ha[130] = 6,
            aa[130] = ca[130] = 3,
            sa[40] = ha[40] = 6,
            aa[40] = ca[40] = 3,
            oa[101] = ca[101] = 1,
            oa[69] = ca[69] = 1,
            ua[149] = ha[149] = 21,
            ua[21] = ha[21] = 21,
            sa[86] = la[86] = 17,
            sa[84] = la[84] = 17,
            ra[89] = aa[89] = 9,
            ra[81] = aa[81] = 9,
            ra[96] = ca[96] = 0,
            oa[96] = la[96] = 15,
            ra[74] = ca[74] = 0,
            oa[74] = la[74] = 15,
            ra[24] = sa[24] = 8,
            aa[24] = ha[24] = 7,
            ra[146] = sa[146] = 8,
            aa[146] = ha[146] = 7,
            oa[6] = la[6] = 15,
            sa[6] = ua[6] = 16,
            oa[164] = la[164] = 15,
            sa[164] = ua[164] = 16,
            aa[129] = ha[129] = 7,
            ua[129] = ca[129] = 20,
            aa[41] = ha[41] = 7,
            ua[41] = ca[41] = 20,
            sa[66] = ca[66] = 2,
            aa[66] = la[66] = 19,
            sa[104] = ca[104] = 2,
            aa[104] = la[104] = 19,
            ra[144] = ua[144] = 10,
            la[144] = ha[144] = 23,
            ra[26] = ua[26] = 10,
            la[26] = ha[26] = 23,
            oa[36] = ha[36] = 5,
            sa[36] = ca[36] = 2,
            oa[134] = ha[134] = 5,
            sa[134] = ca[134] = 2,
            ra[9] = ua[9] = 10,
            oa[9] = aa[9] = 13,
            ra[161] = ua[161] = 10,
            oa[161] = aa[161] = 13,
            oa[37] = ha[37] = 5,
            ua[37] = ca[37] = 20,
            oa[133] = ha[133] = 5,
            ua[133] = ca[133] = 20,
            sa[148] = ua[148] = 16,
            la[148] = ha[148] = 23,
            sa[22] = ua[22] = 16,
            la[22] = ha[22] = 23,
            ra[82] = sa[82] = 8,
            aa[82] = la[82] = 19,
            ra[88] = sa[88] = 8,
            aa[88] = la[88] = 19,
            ra[73] = ca[73] = 0,
            oa[73] = aa[73] = 13,
            ra[97] = ca[97] = 0,
            oa[97] = aa[97] = 13,
            ra[145] = aa[145] = 9,
            ua[145] = ha[145] = 21,
            ra[25] = aa[25] = 9,
            ua[25] = ha[25] = 21,
            oa[70] = ca[70] = 1,
            sa[70] = la[70] = 17,
            oa[100] = ca[100] = 1,
            sa[100] = la[100] = 17,
            ra[34] = aa[34] = 9,
            oa[34] = sa[34] = 12,
            ua[34] = ha[34] = 21,
            la[34] = ca[34] = 22,
            ra[136] = ha[136] = 4,
            oa[136] = ca[136] = 1,
            sa[136] = la[136] = 17,
            aa[136] = ua[136] = 18,
            ra[35] = ha[35] = 4,
            oa[35] = sa[35] = 12,
            aa[35] = ua[35] = 18,
            la[35] = ca[35] = 22,
            ra[153] = ha[153] = 4,
            aa[153] = ua[153] = 18,
            oa[102] = sa[102] = 12,
            la[102] = ca[102] = 22,
            ra[155] = aa[155] = 9,
            ua[155] = ha[155] = 23,
            oa[103] = ca[103] = 1,
            sa[103] = la[103] = 17,
            ra[152] = ha[152] = 4,
            sa[152] = la[152] = 17,
            aa[152] = ua[152] = 18,
            ra[156] = sa[156] = 8,
            aa[156] = ua[156] = 18,
            la[156] = ha[156] = 23,
            ra[137] = ha[137] = 4,
            oa[137] = ca[137] = 1,
            aa[137] = ua[137] = 18,
            ra[139] = ha[139] = 4,
            oa[139] = aa[139] = 13,
            ua[139] = ca[139] = 20,
            ra[98] = aa[98] = 9,
            oa[98] = sa[98] = 12,
            la[98] = ca[98] = 22,
            ra[99] = ca[99] = 0,
            oa[99] = sa[99] = 12,
            aa[99] = la[99] = 19,
            oa[38] = sa[38] = 12,
            ua[38] = ha[38] = 21,
            la[38] = ca[38] = 22,
            oa[39] = ha[39] = 5,
            sa[39] = ua[39] = 16,
            la[39] = ca[39] = 22;
            var pa = [];
            pa[1] = pa[169] = Ks,
            pa[4] = pa[166] = Zs,
            pa[16] = pa[154] = Qs,
            pa[64] = pa[106] = Js,
            pa[168] = pa[2] = ta,
            pa[162] = pa[8] = ea,
            pa[138] = pa[32] = na,
            pa[42] = pa[128] = ia,
            pa[5] = pa[165] = function(t) {
                return [[0, 0], [0, t.leftbottom], [1, t.rightbottom], [1, 0]]
            }
            ,
            pa[20] = pa[150] = function(t) {
                return [[1, 0], [t.bottomright, 0], [t.topright, 1], [1, 1]]
            }
            ,
            pa[80] = pa[90] = function(t) {
                return [[1, 1], [1, t.righttop], [0, t.lefttop], [0, 1]]
            }
            ,
            pa[65] = pa[105] = function(t) {
                return [[t.bottomleft, 0], [0, 0], [0, 1], [t.topleft, 1]]
            }
            ,
            pa[160] = pa[10] = function(t) {
                return [[1, t.righttop], [1, t.rightbottom], [0, t.leftbottom], [0, t.lefttop]]
            }
            ,
            pa[130] = pa[40] = function(t) {
                return [[t.topleft, 1], [t.topright, 1], [t.bottomright, 0], [t.bottomleft, 0]]
            }
            ,
            pa[85] = function() {
                return [[0, 0], [0, 1], [1, 1], [1, 0]]
            }
            ,
            pa[101] = pa[69] = function(t) {
                return [[1, t.rightbottom], [1, 0], [0, 0], [0, 1], [t.topleft, 1]]
            }
            ,
            pa[149] = pa[21] = function(t) {
                return [[t.topright, 1], [1, 1], [1, 0], [0, 0], [0, t.leftbottom]]
            }
            ,
            pa[86] = pa[84] = function(t) {
                return [[1, 0], [t.bottomright, 0], [0, t.lefttop], [0, 1], [1, 1]]
            }
            ,
            pa[89] = pa[81] = function(t) {
                return [[1, 1], [1, t.righttop], [t.bottomleft, 0], [0, 0], [0, 1]]
            }
            ,
            pa[96] = pa[74] = function(t) {
                return [[1, t.righttop], [1, t.rightbottom], [0, t.lefttop], [0, 1], [t.topleft, 1]]
            }
            ,
            pa[24] = pa[146] = function(t) {
                return [[1, 1], [1, t.righttop], [t.bottomright, 0], [t.bottomleft, 0], [t.topright, 1]]
            }
            ,
            pa[6] = pa[164] = function(t) {
                return [[1, t.rightbottom], [1, 0], [t.bottomright, 0], [0, t.leftbottom], [0, t.lefttop]]
            }
            ,
            pa[129] = pa[41] = function(t) {
                return [[t.topright, 1], [t.bottomleft, 0], [0, 0], [0, t.leftbottom], [t.topleft, 1]]
            }
            ,
            pa[66] = pa[104] = function(t) {
                return [[t.bottomright, 0], [t.bottomleft, 0], [0, t.lefttop], [0, 1], [t.topleft, 1]]
            }
            ,
            pa[144] = pa[26] = function(t) {
                return [[1, 1], [1, t.righttop], [0, t.leftbottom], [0, t.lefttop], [t.topright, 1]]
            }
            ,
            pa[36] = pa[134] = function(t) {
                return [[1, t.rightbottom], [1, 0], [t.bottomright, 0], [t.topleft, 1], [t.topright, 1]]
            }
            ,
            pa[9] = pa[161] = function(t) {
                return [[1, t.righttop], [1, t.rightbottom], [t.bottomleft, 0], [0, 0], [0, t.leftbottom]]
            }
            ,
            pa[37] = pa[133] = function(t) {
                return [[1, t.rightbottom], [1, 0], [0, 0], [0, t.leftbottom], [t.topleft, 1], [t.topright, 1]]
            }
            ,
            pa[148] = pa[22] = function(t) {
                return [[1, 1], [1, 0], [t.bottomright, 0], [0, t.leftbottom], [0, t.lefttop], [t.topright, 1]]
            }
            ,
            pa[82] = pa[88] = function(t) {
                return [[1, 1], [1, t.righttop], [t.bottomright, 0], [t.bottomleft, 0], [0, t.lefttop], [0, 1]]
            }
            ,
            pa[73] = pa[97] = function(t) {
                return [[1, t.righttop], [1, t.rightbottom], [t.bottomleft, 0], [0, 0], [0, 1], [t.topleft, 1]]
            }
            ,
            pa[145] = pa[25] = function(t) {
                return [[1, 1], [1, t.righttop], [t.bottomleft, 0], [0, 0], [0, t.leftbottom], [t.topright, 1]]
            }
            ,
            pa[70] = pa[100] = function(t) {
                return [[1, t.rightbottom], [1, 0], [t.bottomright, 0], [0, t.lefttop], [0, 1], [t.topleft, 1]]
            }
            ,
            pa[34] = function(t) {
                return [ia(t), ea(t)]
            }
            ,
            pa[35] = function(t) {
                return [[1, t.righttop], [1, t.rightbottom], [t.bottomright, 0], [t.bottomleft, 0], [0, t.leftbottom], [0, t.lefttop], [t.topleft, 1], [t.topright, 1]]
            }
            ,
            pa[136] = function(t) {
                return [na(t), ta(t)]
            }
            ,
            pa[153] = function(t) {
                return [Qs(t), Ks(t)]
            }
            ,
            pa[102] = function(t) {
                return [Zs(t), Js(t)]
            }
            ,
            pa[155] = function(t) {
                return [[1, 1], [1, t.righttop], [t.bottomleft, 0], [0, 0], [0, t.leftbottom], [t.topright, 1]]
            }
            ,
            pa[103] = function(t) {
                return [[1, t.rightbottom], [1, 0], [t.bottomright, 0], [0, t.lefttop], [0, 1], [t.topleft, 1]]
            }
            ,
            pa[152] = function(t) {
                return [Qs(t), ta(t)]
            }
            ,
            pa[156] = function(t) {
                return [[1, 1], [1, t.righttop], [t.bottomright, 0], [t.bottomleft, 0], [0, t.leftbottom], [0, t.lefttop], [t.topright, 1]]
            }
            ,
            pa[137] = function(t) {
                return [na(t), Ks(t)]
            }
            ,
            pa[139] = function(t) {
                return [[1, t.righttop], [1, t.rightbottom], [t.bottomleft, 0], [0, 0], [0, t.leftbottom], [t.topleft, 1], [t.topright, 1]]
            }
            ,
            pa[98] = function(t) {
                return [ea(t), Js(t)]
            }
            ,
            pa[99] = function(t) {
                return [[1, t.righttop], [1, t.rightbottom], [t.bottomright, 0], [t.bottomleft, 0], [0, t.lefttop], [0, 1], [t.topleft, 1]]
            }
            ,
            pa[38] = function(t) {
                return [Zs(t), ia(t)]
            }
            ,
            pa[39] = function(t) {
                return [[1, t.rightbottom], [1, 0], [t.bottomright, 0], [0, t.leftbottom], [0, t.lefttop], [t.topleft, 1], [t.topright, 1]]
            }
            ;
            var fa = function t(e) {
                this.id = t.buildId(e),
                this.coordinates = e,
                this.innerEdges = [],
                this.outerEdges = [],
                this.outerEdgesSorted = !1
            };
            fa.buildId = function(t) {
                return t.join(",")
            }
            ,
            fa.prototype.removeInnerEdge = function(t) {
                this.innerEdges = this.innerEdges.filter(function(e) {
                    return e.from.id !== t.from.id
                })
            }
            ,
            fa.prototype.removeOuterEdge = function(t) {
                this.outerEdges = this.outerEdges.filter(function(e) {
                    return e.to.id !== t.to.id
                })
            }
            ,
            fa.prototype.addOuterEdge = function(t) {
                this.outerEdges.push(t),
                this.outerEdgesSorted = !1
            }
            ,
            fa.prototype.sortOuterEdges = function() {
                var t = this;
                this.outerEdgesSorted || (this.outerEdges.sort(function(e, n) {
                    var i = e.to
                      , r = n.to;
                    if (i.coordinates[0] - t.coordinates[0] >= 0 && r.coordinates[0] - t.coordinates[0] < 0)
                        return 1;
                    if (i.coordinates[0] - t.coordinates[0] < 0 && r.coordinates[0] - t.coordinates[0] >= 0)
                        return -1;
                    if (i.coordinates[0] - t.coordinates[0] == 0 && r.coordinates[0] - t.coordinates[0] == 0)
                        return i.coordinates[1] - t.coordinates[1] >= 0 || r.coordinates[1] - t.coordinates[1] >= 0 ? i.coordinates[1] - r.coordinates[1] : r.coordinates[1] - i.coordinates[1];
                    var o = ai(t.coordinates, i.coordinates, r.coordinates);
                    return o < 0 ? 1 : o > 0 ? -1 : Math.pow(i.coordinates[0] - t.coordinates[0], 2) + Math.pow(i.coordinates[1] - t.coordinates[1], 2) - (Math.pow(r.coordinates[0] - t.coordinates[0], 2) + Math.pow(r.coordinates[1] - t.coordinates[1], 2))
                }),
                this.outerEdgesSorted = !0)
            }
            ,
            fa.prototype.getOuterEdges = function() {
                return this.sortOuterEdges(),
                this.outerEdges
            }
            ,
            fa.prototype.getOuterEdge = function(t) {
                return this.sortOuterEdges(),
                this.outerEdges[t]
            }
            ,
            fa.prototype.addInnerEdge = function(t) {
                this.innerEdges.push(t)
            }
            ;
            var da = function(t, e) {
                this.from = t,
                this.to = e,
                this.next = void 0,
                this.label = void 0,
                this.symetric = void 0,
                this.ring = void 0,
                this.from.addOuterEdge(this),
                this.to.addInnerEdge(this)
            };
            da.prototype.getSymetric = function() {
                return this.symetric || (this.symetric = new da(this.to,this.from),
                this.symetric.symetric = this),
                this.symetric
            }
            ,
            da.prototype.deleteEdge = function() {
                this.from.removeOuterEdge(this),
                this.to.removeInnerEdge(this)
            }
            ,
            da.prototype.isEqual = function(t) {
                return this.from.id === t.from.id && this.to.id === t.to.id
            }
            ,
            da.prototype.toString = function() {
                return "Edge { " + this.from.id + " -> " + this.to.id + " }"
            }
            ,
            da.prototype.toLineString = function() {
                return a([this.from.coordinates, this.to.coordinates])
            }
            ,
            da.prototype.compareTo = function(t) {
                return ai(t.from.coordinates, t.to.coordinates, this.to.coordinates)
            }
            ;
            var ga = function() {
                this.edges = [],
                this.polygon = void 0,
                this.envelope = void 0
            }
              , ya = {
                length: {
                    configurable: !0
                }
            };
            ga.prototype.push = function(t) {
                this[this.edges.length] = t,
                this.edges.push(t),
                this.polygon = this.envelope = void 0
            }
            ,
            ga.prototype.get = function(t) {
                return this.edges[t]
            }
            ,
            ya.length.get = function() {
                return this.edges.length
            }
            ,
            ga.prototype.forEach = function(t) {
                this.edges.forEach(t)
            }
            ,
            ga.prototype.map = function(t) {
                return this.edges.map(t)
            }
            ,
            ga.prototype.some = function(t) {
                return this.edges.some(t)
            }
            ,
            ga.prototype.isValid = function() {
                return !0
            }
            ,
            ga.prototype.isHole = function() {
                var t = this
                  , e = this.edges.reduce(function(e, n, i) {
                    return n.from.coordinates[1] > t.edges[e].from.coordinates[1] && (e = i),
                    e
                }, 0)
                  , n = (0 === e ? this.length : e) - 1
                  , i = (e + 1) % this.length
                  , r = ai(this.edges[n].from.coordinates, this.edges[e].from.coordinates, this.edges[i].from.coordinates);
                return 0 === r ? this.edges[n].from.coordinates[0] > this.edges[i].from.coordinates[0] : r > 0
            }
            ,
            ga.prototype.toMultiPoint = function() {
                return h(this.edges.map(function(t) {
                    return t.from.coordinates
                }))
            }
            ,
            ga.prototype.toPolygon = function() {
                if (this.polygon)
                    return this.polygon;
                var t = this.edges.map(function(t) {
                    return t.from.coordinates
                });
                return t.push(this.edges[0].from.coordinates),
                this.polygon = o([t])
            }
            ,
            ga.prototype.getEnvelope = function() {
                return this.envelope ? this.envelope : this.envelope = ie(this.toPolygon())
            }
            ,
            ga.findEdgeRingContaining = function(t, e) {
                var n, r, o = t.getEnvelope();
                return e.forEach(function(e) {
                    var s = e.getEnvelope();
                    if (r && (n = r.getEnvelope()),
                    !function(t, e) {
                        var n = t.geometry.coordinates.map(function(t) {
                            return t[0]
                        })
                          , i = t.geometry.coordinates.map(function(t) {
                            return t[1]
                        })
                          , r = e.geometry.coordinates.map(function(t) {
                            return t[0]
                        })
                          , o = e.geometry.coordinates.map(function(t) {
                            return t[1]
                        });
                        return Math.max(null, n) === Math.max(null, r) && Math.max(null, i) === Math.max(null, o) && Math.min(null, n) === Math.min(null, r) && Math.min(null, i) === Math.min(null, o)
                    }(s, o) && ui(s, o)) {
                        var a = t.map(function(t) {
                            return t.from.coordinates
                        }).find(function(t) {
                            return !e.some(function(e) {
                                return function(t, e) {
                                    return t[0] === e[0] && t[1] === e[1]
                                }(t, e.from.coordinates)
                            })
                        });
                        a && e.inside(i(a)) && (r && !ui(n, s) || (r = e))
                    }
                }),
                r
            }
            ,
            ga.prototype.inside = function(t) {
                return St(t, this.toPolygon())
            }
            ,
            Object.defineProperties(ga.prototype, ya);
            var va = function() {
                this.edges = [],
                this.nodes = {}
            };
            va.fromGeoJson = function(t) {
                !function(t) {
                    if (!t)
                        throw new Error("No geojson passed");
                    if ("FeatureCollection" !== t.type && "GeometryCollection" !== t.type && "MultiLineString" !== t.type && "LineString" !== t.type && "Feature" !== t.type)
                        throw new Error("Invalid input type '" + t.type + "'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")
                }(t);
                var e = new va;
                return k(t, function(t) {
                    X(t, "LineString", "Graph::fromGeoJson"),
                    S(t, function(t, n) {
                        if (t) {
                            var i = e.getNode(t)
                              , r = e.getNode(n);
                            e.addEdge(i, r)
                        }
                        return n
                    })
                }),
                e
            }
            ,
            va.prototype.getNode = function(t) {
                var e = fa.buildId(t)
                  , n = this.nodes[e];
                return n || (n = this.nodes[e] = new fa(t)),
                n
            }
            ,
            va.prototype.addEdge = function(t, e) {
                var n = new da(t,e)
                  , i = n.getSymetric();
                this.edges.push(n),
                this.edges.push(i)
            }
            ,
            va.prototype.deleteDangles = function() {
                var t = this;
                Object.keys(this.nodes).map(function(e) {
                    return t.nodes[e]
                }).forEach(function(e) {
                    return t._removeIfDangle(e)
                })
            }
            ,
            va.prototype._removeIfDangle = function(t) {
                var e = this;
                if (t.innerEdges.length <= 1) {
                    var n = t.getOuterEdges().map(function(t) {
                        return t.to
                    });
                    this.removeNode(t),
                    n.forEach(function(t) {
                        return e._removeIfDangle(t)
                    })
                }
            }
            ,
            va.prototype.deleteCutEdges = function() {
                var t = this;
                this._computeNextCWEdges(),
                this._findLabeledEdgeRings(),
                this.edges.forEach(function(e) {
                    e.label === e.symetric.label && (t.removeEdge(e.symetric),
                    t.removeEdge(e))
                })
            }
            ,
            va.prototype._computeNextCWEdges = function(t) {
                var e = this;
                void 0 === t ? Object.keys(this.nodes).forEach(function(t) {
                    return e._computeNextCWEdges(e.nodes[t])
                }) : t.getOuterEdges().forEach(function(e, n) {
                    t.getOuterEdge((0 === n ? t.getOuterEdges().length : n) - 1).symetric.next = e
                })
            }
            ,
            va.prototype._computeNextCCWEdges = function(t, e) {
                for (var n, i, r = t.getOuterEdges(), o = r.length - 1; o >= 0; --o) {
                    var s = r[o]
                      , a = s.symetric
                      , u = void 0
                      , l = void 0;
                    s.label === e && (u = s),
                    a.label === e && (l = a),
                    u && l && (l && (i = l),
                    u && (i && (i.next = u,
                    i = void 0),
                    n || (n = u)))
                }
                i && (i.next = n)
            }
            ,
            va.prototype._findLabeledEdgeRings = function() {
                var t = []
                  , e = 0;
                return this.edges.forEach(function(n) {
                    if (!(n.label >= 0)) {
                        t.push(n);
                        var i = n;
                        do {
                            i.label = e,
                            i = i.next
                        } while (!n.isEqual(i));
                        e++
                    }
                }),
                t
            }
            ,
            va.prototype.getEdgeRings = function() {
                var t = this;
                this._computeNextCWEdges(),
                this.edges.forEach(function(t) {
                    t.label = void 0
                }),
                this._findLabeledEdgeRings().forEach(function(e) {
                    t._findIntersectionNodes(e).forEach(function(n) {
                        t._computeNextCCWEdges(n, e.label)
                    })
                });
                var e = [];
                return this.edges.forEach(function(n) {
                    n.ring || e.push(t._findEdgeRing(n))
                }),
                e
            }
            ,
            va.prototype._findIntersectionNodes = function(t) {
                var e = []
                  , n = t
                  , i = function() {
                    var i = 0;
                    n.from.getOuterEdges().forEach(function(e) {
                        e.label === t.label && ++i
                    }),
                    i > 1 && e.push(n.from),
                    n = n.next
                };
                do {
                    i()
                } while (!t.isEqual(n));
                return e
            }
            ,
            va.prototype._findEdgeRing = function(t) {
                var e = t
                  , n = new ga;
                do {
                    n.push(e),
                    e.ring = n,
                    e = e.next
                } while (!t.isEqual(e));
                return n
            }
            ,
            va.prototype.removeNode = function(t) {
                var e = this;
                t.getOuterEdges().forEach(function(t) {
                    return e.removeEdge(t)
                }),
                t.innerEdges.forEach(function(t) {
                    return e.removeEdge(t)
                }),
                delete this.nodes[t.id]
            }
            ,
            va.prototype.removeEdge = function(t) {
                this.edges = this.edges.filter(function(e) {
                    return !e.isEqual(t)
                }),
                t.deleteEdge()
            }
            ;
            var ma = yt(function(t, e) {
                function n(t) {
                    var e = [];
                    for (var n in t)
                        e.push(n);
                    return e
                }
                (t.exports = "function" == typeof Object.keys ? Object.keys : n).shim = n
            })
              , _a = (ma.shim,
            yt(function(t, e) {
                function n(t) {
                    return "[object Arguments]" == Object.prototype.toString.call(t)
                }
                function i(t) {
                    return t && "object" == typeof t && "number" == typeof t.length && Object.prototype.hasOwnProperty.call(t, "callee") && !Object.prototype.propertyIsEnumerable.call(t, "callee") || !1
                }
                var r = "[object Arguments]" == function() {
                    return Object.prototype.toString.call(arguments)
                }();
                (e = t.exports = r ? n : i).supported = n,
                e.unsupported = i
            }))
              , Ea = (_a.supported,
            _a.unsupported,
            yt(function(t) {
                function e(t) {
                    return null === t || void 0 === t
                }
                function n(t) {
                    return !(!t || "object" != typeof t || "number" != typeof t.length || "function" != typeof t.copy || "function" != typeof t.slice || t.length > 0 && "number" != typeof t[0])
                }
                var i = Array.prototype.slice
                  , r = t.exports = function(t, o, s) {
                    return s || (s = {}),
                    t === o || (t instanceof Date && o instanceof Date ? t.getTime() === o.getTime() : !t || !o || "object" != typeof t && "object" != typeof o ? s.strict ? t === o : t == o : function(t, o, s) {
                        var a, u;
                        if (e(t) || e(o))
                            return !1;
                        if (t.prototype !== o.prototype)
                            return !1;
                        if (_a(t))
                            return !!_a(o) && (t = i.call(t),
                            o = i.call(o),
                            r(t, o, s));
                        if (n(t)) {
                            if (!n(o))
                                return !1;
                            if (t.length !== o.length)
                                return !1;
                            for (a = 0; a < t.length; a++)
                                if (t[a] !== o[a])
                                    return !1;
                            return !0
                        }
                        try {
                            var l = ma(t)
                              , c = ma(o)
                        } catch (t) {
                            return !1
                        }
                        if (l.length != c.length)
                            return !1;
                        for (l.sort(),
                        c.sort(),
                        a = l.length - 1; a >= 0; a--)
                            if (l[a] != c[a])
                                return !1;
                        for (a = l.length - 1; a >= 0; a--)
                            if (u = l[a],
                            !r(t[u], o[u], s))
                                return !1;
                        return typeof t == typeof o
                    }(t, o, s))
                }
            }))
              , Ca = function(t) {
                this.precision = t && t.precision ? t.precision : 17,
                this.direction = !(!t || !t.direction) && t.direction,
                this.pseudoNode = !(!t || !t.pseudoNode) && t.pseudoNode,
                this.objectComparator = t && t.objectComparator ? t.objectComparator : _i
            };
            Ca.prototype.compare = function(t, e) {
                if (t.type !== e.type || !mi(t, e))
                    return !1;
                switch (t.type) {
                case "Point":
                    return this.compareCoord(t.coordinates, e.coordinates);
                case "LineString":
                    return this.compareLine(t.coordinates, e.coordinates, 0, !1);
                case "Polygon":
                    return this.comparePolygon(t, e);
                case "Feature":
                    return this.compareFeature(t, e);
                default:
                    if (0 === t.type.indexOf("Multi")) {
                        var n = this
                          , i = vi(t)
                          , r = vi(e);
                        return i.every(function(t) {
                            return this.some(function(e) {
                                return n.compare(t, e)
                            })
                        }, r)
                    }
                }
                return !1
            }
            ,
            Ca.prototype.compareCoord = function(t, e) {
                if (t.length !== e.length)
                    return !1;
                for (var n = 0; n < t.length; n++)
                    if (t[n].toFixed(this.precision) !== e[n].toFixed(this.precision))
                        return !1;
                return !0
            }
            ,
            Ca.prototype.compareLine = function(t, e, n, i) {
                if (!mi(t, e))
                    return !1;
                var r = this.pseudoNode ? t : this.removePseudo(t)
                  , o = this.pseudoNode ? e : this.removePseudo(e);
                if (!i || this.compareCoord(r[0], o[0]) || (o = this.fixStartIndex(o, r))) {
                    var s = this.compareCoord(r[n], o[n]);
                    return this.direction || s ? this.comparePath(r, o) : !!this.compareCoord(r[n], o[o.length - (1 + n)]) && this.comparePath(r.slice().reverse(), o)
                }
            }
            ,
            Ca.prototype.fixStartIndex = function(t, e) {
                for (var n, i = -1, r = 0; r < t.length; r++)
                    if (this.compareCoord(t[r], e[0])) {
                        i = r;
                        break
                    }
                return i >= 0 && (n = [].concat(t.slice(i, t.length), t.slice(1, i + 1))),
                n
            }
            ,
            Ca.prototype.comparePath = function(t, e) {
                var n = this;
                return t.every(function(t, e) {
                    return n.compareCoord(t, this[e])
                }, e)
            }
            ,
            Ca.prototype.comparePolygon = function(t, e) {
                if (this.compareLine(t.coordinates[0], e.coordinates[0], 1, !0)) {
                    var n = t.coordinates.slice(1, t.coordinates.length)
                      , i = e.coordinates.slice(1, e.coordinates.length)
                      , r = this;
                    return n.every(function(t) {
                        return this.some(function(e) {
                            return r.compareLine(t, e, 1, !0)
                        })
                    }, i)
                }
                return !1
            }
            ,
            Ca.prototype.compareFeature = function(t, e) {
                return !(t.id !== e.id || !this.objectComparator(t.properties, e.properties) || !this.compareBBox(t, e)) && this.compare(t.geometry, e.geometry)
            }
            ,
            Ca.prototype.compareBBox = function(t, e) {
                return !!(!t.bbox && !e.bbox || t.bbox && e.bbox && this.compareCoord(t.bbox, e.bbox))
            }
            ,
            Ca.prototype.removePseudo = function(t) {
                return t
            }
            ;
            var wa = Ca
              , ba = yt(function(t) {
                function e(t, e, n, i) {
                    this.dataset = [],
                    this.epsilon = 1,
                    this.minPts = 2,
                    this.distance = this._euclideanDistance,
                    this.clusters = [],
                    this.noise = [],
                    this._visited = [],
                    this._assigned = [],
                    this._datasetLength = 0,
                    this._init(t, e, n, i)
                }
                e.prototype.run = function(t, e, n, i) {
                    this._init(t, e, n, i);
                    for (var r = 0; r < this._datasetLength; r++)
                        if (1 !== this._visited[r]) {
                            this._visited[r] = 1;
                            var o = this._regionQuery(r);
                            if (o.length < this.minPts)
                                this.noise.push(r);
                            else {
                                var s = this.clusters.length;
                                this.clusters.push([]),
                                this._addToCluster(r, s),
                                this._expandCluster(s, o)
                            }
                        }
                    return this.clusters
                }
                ,
                e.prototype._init = function(t, e, n, i) {
                    if (t) {
                        if (!(t instanceof Array))
                            throw Error("Dataset must be of type array, " + typeof t + " given");
                        this.dataset = t,
                        this.clusters = [],
                        this.noise = [],
                        this._datasetLength = t.length,
                        this._visited = new Array(this._datasetLength),
                        this._assigned = new Array(this._datasetLength)
                    }
                    e && (this.epsilon = e),
                    n && (this.minPts = n),
                    i && (this.distance = i)
                }
                ,
                e.prototype._expandCluster = function(t, e) {
                    for (var n = 0; n < e.length; n++) {
                        var i = e[n];
                        if (1 !== this._visited[i]) {
                            this._visited[i] = 1;
                            var r = this._regionQuery(i);
                            r.length >= this.minPts && (e = this._mergeArrays(e, r))
                        }
                        1 !== this._assigned[i] && this._addToCluster(i, t)
                    }
                }
                ,
                e.prototype._addToCluster = function(t, e) {
                    this.clusters[e].push(t),
                    this._assigned[t] = 1
                }
                ,
                e.prototype._regionQuery = function(t) {
                    for (var e = [], n = 0; n < this._datasetLength; n++)
                        this.distance(this.dataset[t], this.dataset[n]) < this.epsilon && e.push(n);
                    return e
                }
                ,
                e.prototype._mergeArrays = function(t, e) {
                    for (var n = e.length, i = 0; i < n; i++) {
                        var r = e[i];
                        t.indexOf(r) < 0 && t.push(r)
                    }
                    return t
                }
                ,
                e.prototype._euclideanDistance = function(t, e) {
                    for (var n = 0, i = Math.min(t.length, e.length); i--; )
                        n += (t[i] - e[i]) * (t[i] - e[i]);
                    return Math.sqrt(n)
                }
                ,
                t.exports && (t.exports = e)
            })
              , xa = yt(function(t) {
                function e(t, e, n) {
                    this.k = 3,
                    this.dataset = [],
                    this.assignments = [],
                    this.centroids = [],
                    this.init(t, e, n)
                }
                e.prototype.init = function(t, e, n) {
                    this.assignments = [],
                    this.centroids = [],
                    void 0 !== t && (this.dataset = t),
                    void 0 !== e && (this.k = e),
                    void 0 !== n && (this.distance = n)
                }
                ,
                e.prototype.run = function(t, e) {
                    this.init(t, e);
                    for (var n = this.dataset.length, i = 0; i < this.k; i++)
                        this.centroids[i] = this.randomCentroid();
                    for (var r = !0; r; ) {
                        r = this.assign();
                        for (var o = 0; o < this.k; o++) {
                            for (var s = new Array(c), a = 0, u = 0; u < c; u++)
                                s[u] = 0;
                            for (var l = 0; l < n; l++) {
                                var c = this.dataset[l].length;
                                if (o === this.assignments[l]) {
                                    for (u = 0; u < c; u++)
                                        s[u] += this.dataset[l][u];
                                    a++
                                }
                            }
                            if (a > 0) {
                                for (u = 0; u < c; u++)
                                    s[u] /= a;
                                this.centroids[o] = s
                            } else
                                this.centroids[o] = this.randomCentroid(),
                                r = !0
                        }
                    }
                    return this.getClusters()
                }
                ,
                e.prototype.randomCentroid = function() {
                    var t, e, n = this.dataset.length - 1;
                    do {
                        e = Math.round(Math.random() * n),
                        t = this.dataset[e]
                    } while (this.centroids.indexOf(t) >= 0);
                    return t
                }
                ,
                e.prototype.assign = function() {
                    for (var t, e = !1, n = this.dataset.length, i = 0; i < n; i++)
                        (t = this.argmin(this.dataset[i], this.centroids, this.distance)) != this.assignments[i] && (this.assignments[i] = t,
                        e = !0);
                    return e
                }
                ,
                e.prototype.getClusters = function() {
                    for (var t, e = new Array(this.k), n = 0; n < this.assignments.length; n++)
                        void 0 === e[t = this.assignments[n]] && (e[t] = []),
                        e[t].push(n);
                    return e
                }
                ,
                e.prototype.argmin = function(t, e, n) {
                    for (var i, r = Number.MAX_VALUE, o = 0, s = e.length, a = 0; a < s; a++)
                        (i = n(t, e[a])) < r && (r = i,
                        o = a);
                    return o
                }
                ,
                e.prototype.distance = function(t, e) {
                    for (var n = 0, i = Math.min(t.length, e.length); i--; ) {
                        var r = t[i] - e[i];
                        n += r * r
                    }
                    return Math.sqrt(n)
                }
                ,
                t.exports && (t.exports = e)
            })
              , Ia = yt(function(t) {
                function e(t, e, n) {
                    this._queue = [],
                    this._priorities = [],
                    this._sorting = "desc",
                    this._init(t, e, n)
                }
                e.prototype.insert = function(t, e) {
                    for (var n = this._queue.length, i = n; i--; ) {
                        var r = this._priorities[i];
                        "desc" === this._sorting ? e > r && (n = i) : e < r && (n = i)
                    }
                    this._insertAt(t, e, n)
                }
                ,
                e.prototype.remove = function(t) {
                    for (var e = this._queue.length; e--; )
                        if (t === this._queue[e]) {
                            this._queue.splice(e, 1),
                            this._priorities.splice(e, 1);
                            break
                        }
                }
                ,
                e.prototype.forEach = function(t) {
                    this._queue.forEach(t)
                }
                ,
                e.prototype.getElements = function() {
                    return this._queue
                }
                ,
                e.prototype.getElementPriority = function(t) {
                    return this._priorities[t]
                }
                ,
                e.prototype.getPriorities = function() {
                    return this._priorities
                }
                ,
                e.prototype.getElementsWithPriorities = function() {
                    for (var t = [], e = 0, n = this._queue.length; e < n; e++)
                        t.push([this._queue[e], this._priorities[e]]);
                    return t
                }
                ,
                e.prototype._init = function(t, e, n) {
                    if (t && e) {
                        if (this._queue = [],
                        this._priorities = [],
                        t.length !== e.length)
                            throw new Error("Arrays must have the same length");
                        for (var i = 0; i < t.length; i++)
                            this.insert(t[i], e[i])
                    }
                    n && (this._sorting = n)
                }
                ,
                e.prototype._insertAt = function(t, e, n) {
                    this._queue.length === n ? (this._queue.push(t),
                    this._priorities.push(e)) : (this._queue.splice(n, 0, t),
                    this._priorities.splice(n, 0, e))
                }
                ,
                t.exports && (t.exports = e)
            })
              , Pa = yt(function(t) {
                function e(t, e, n, i) {
                    this.epsilon = 1,
                    this.minPts = 1,
                    this.distance = this._euclideanDistance,
                    this._reachability = [],
                    this._processed = [],
                    this._coreDistance = 0,
                    this._orderedList = [],
                    this._init(t, e, n, i)
                }
                if (t.exports)
                    var n = Ia;
                e.prototype.run = function(t, e, i, r) {
                    this._init(t, e, i, r);
                    for (var o = 0, s = this.dataset.length; o < s; o++)
                        if (1 !== this._processed[o]) {
                            this._processed[o] = 1,
                            this.clusters.push([o]);
                            var a = this.clusters.length - 1;
                            this._orderedList.push(o);
                            var u = new n(null,null,"asc")
                              , l = this._regionQuery(o);
                            void 0 !== this._distanceToCore(o) && (this._updateQueue(o, l, u),
                            this._expandCluster(a, u))
                        }
                    return this.clusters
                }
                ,
                e.prototype.getReachabilityPlot = function() {
                    for (var t = [], e = 0, n = this._orderedList.length; e < n; e++) {
                        var i = this._orderedList[e]
                          , r = this._reachability[i];
                        t.push([i, r])
                    }
                    return t
                }
                ,
                e.prototype._init = function(t, e, n, i) {
                    if (t) {
                        if (!(t instanceof Array))
                            throw Error("Dataset must be of type array, " + typeof t + " given");
                        this.dataset = t,
                        this.clusters = [],
                        this._reachability = new Array(this.dataset.length),
                        this._processed = new Array(this.dataset.length),
                        this._coreDistance = 0,
                        this._orderedList = []
                    }
                    e && (this.epsilon = e),
                    n && (this.minPts = n),
                    i && (this.distance = i)
                }
                ,
                e.prototype._updateQueue = function(t, e, n) {
                    var i = this;
                    this._coreDistance = this._distanceToCore(t),
                    e.forEach(function(e) {
                        if (void 0 === i._processed[e]) {
                            var r = i.distance(i.dataset[t], i.dataset[e])
                              , o = Math.max(i._coreDistance, r);
                            void 0 === i._reachability[e] ? (i._reachability[e] = o,
                            n.insert(e, o)) : o < i._reachability[e] && (i._reachability[e] = o,
                            n.remove(e),
                            n.insert(e, o))
                        }
                    })
                }
                ,
                e.prototype._expandCluster = function(t, e) {
                    for (var n = e.getElements(), i = 0, r = n.length; i < r; i++) {
                        var o = n[i];
                        if (void 0 === this._processed[o]) {
                            var s = this._regionQuery(o);
                            this._processed[o] = 1,
                            this.clusters[t].push(o),
                            this._orderedList.push(o),
                            void 0 !== this._distanceToCore(o) && (this._updateQueue(o, s, e),
                            this._expandCluster(t, e))
                        }
                    }
                }
                ,
                e.prototype._distanceToCore = function(t) {
                    for (var e = this.epsilon, n = 0; n < e; n++)
                        if (this._regionQuery(t, n).length >= this.minPts)
                            return n
                }
                ,
                e.prototype._regionQuery = function(t, e) {
                    e = e || this.epsilon;
                    for (var n = [], i = 0, r = this.dataset.length; i < r; i++)
                        this.distance(this.dataset[t], this.dataset[i]) < e && n.push(i);
                    return n
                }
                ,
                e.prototype._euclideanDistance = function(t, e) {
                    for (var n = 0, i = Math.min(t.length, e.length); i--; )
                        n += (t[i] - e[i]) * (t[i] - e[i]);
                    return Math.sqrt(n)
                }
                ,
                t.exports && (t.exports = e)
            })
              , La = yt(function(t) {
                t.exports && (t.exports = {
                    DBSCAN: ba,
                    KMEANS: xa,
                    OPTICS: Pa,
                    PriorityQueue: Ia
                })
            })
              , Sa = (La.DBSCAN,
            La.KMEANS,
            La.OPTICS,
            La.PriorityQueue,
            function(t, e, n) {
                for (var i = t.length, r = 0, o = 0; o < i; o++) {
                    var s = (t[o] || 0) - (e[o] || 0);
                    r += s * s
                }
                return n ? Math.sqrt(r) : r
            }
            )
              , Na = Sa
              , Ma = function(t, e, n) {
                var i = Math.abs(t - e);
                return n ? i : i * i
            }
              , Ta = Sa
              , Oa = function(t, e, n, i) {
                var r = []
                  , o = []
                  , s = []
                  , a = []
                  , u = !1
                  , l = i || 1e4
                  , c = t.length
                  , h = t[0].length
                  , p = h > 0
                  , f = [];
                if (n)
                    r = "kmrand" == n ? function(t, e) {
                        for (var n = {}, i = [], r = e << 2, o = t.length, s = t[0].length > 0; i.length < e && r-- > 0; ) {
                            var a = t[Math.floor(Math.random() * o)]
                              , u = s ? a.join("_") : "" + a;
                            n[u] || (n[u] = !0,
                            i.push(a))
                        }
                        if (i.length < e)
                            throw new Error("Error initializating clusters");
                        return i
                    }(t, e) : "kmpp" == n ? function(t, e) {
                        var n = t[0].length ? Na : Ma
                          , i = []
                          , r = t.length
                          , o = t[0].length > 0
                          , s = t[Math.floor(Math.random() * r)];
                        for (o && s.join("_"),
                        i.push(s); i.length < e; ) {
                            for (var a = [], u = i.length, l = 0, c = [], h = 0; h < r; h++) {
                                for (var p = 1 / 0, f = 0; f < u; f++) {
                                    var d = n(t[h], i[f]);
                                    d <= p && (p = d)
                                }
                                a[h] = p
                            }
                            for (var g = 0; g < r; g++)
                                l += a[g];
                            for (var y = 0; y < r; y++)
                                c[y] = {
                                    i: y,
                                    v: t[y],
                                    pr: a[y] / l,
                                    cs: 0
                                };
                            c.sort(function(t, e) {
                                return t.pr - e.pr
                            }),
                            c[0].cs = c[0].pr;
                            for (var v = 1; v < r; v++)
                                c[v].cs = c[v - 1].cs + c[v].pr;
                            for (var m = Math.random(), _ = 0; _ < r - 1 && c[_++].cs < m; )
                                ;
                            i.push(c[_ - 1].v)
                        }
                        return i
                    }(t, e) : n;
                else
                    for (var d = {}; r.length < e; ) {
                        var g = Math.floor(Math.random() * c);
                        d[g] || (d[g] = !0,
                        r.push(t[g]))
                    }
                do {
                    Ci(e, 0, f);
                    for (var y = 0; y < c; y++) {
                        for (var v = 1 / 0, m = 0, _ = 0; _ < e; _++)
                            (a = p ? Ta(t[y], r[_]) : Math.abs(t[y] - r[_])) <= v && (v = a,
                            m = _);
                        s[y] = m,
                        f[m]++
                    }
                    for (var E = [], C = (o = [],
                    0); C < e; C++)
                        E[C] = p ? Ci(h, 0, E[C]) : 0,
                        o[C] = r[C];
                    if (p) {
                        for (var w = 0; w < e; w++)
                            r[w] = [];
                        for (var b = 0; b < c; b++)
                            for (var x = E[s[b]], I = t[b], P = 0; P < h; P++)
                                x[P] += I[P];
                        u = !0;
                        for (var L = 0; L < e; L++) {
                            for (var S = r[L], N = E[L], M = o[L], T = f[L], O = 0; O < h; O++)
                                S[O] = N[O] / T || 0;
                            if (u)
                                for (var A = 0; A < h; A++)
                                    if (M[A] != S[A]) {
                                        u = !1;
                                        break
                                    }
                        }
                    } else {
                        for (var D = 0; D < c; D++)
                            E[s[D]] += t[D];
                        for (var R = 0; R < e; R++)
                            r[R] = E[R] / f[R] || 0;
                        u = !0;
                        for (var k = 0; k < e; k++)
                            if (o[k] != r[k]) {
                                u = !1;
                                break
                            }
                    }
                    u = u || --l <= 0
                } while (!u);
                return {
                    it: 1e4 - l,
                    k: e,
                    idxs: s,
                    centroids: r
                }
            }
              , Aa = {
                search: function(t, e, n, i) {
                    t.cleanDirty();
                    var r = (i = i || {}).heuristic || Aa.heuristics.manhattan
                      , o = i.closest || !1
                      , s = new Pi(function(t) {
                        return t.f
                    }
                    )
                      , a = e;
                    for (e.h = r(e, n),
                    s.push(e); s.size() > 0; ) {
                        var u = s.pop();
                        if (u === n)
                            return bi(u);
                        u.closed = !0;
                        for (var l = t.neighbors(u), c = 0, h = l.length; c < h; ++c) {
                            var p = l[c];
                            if (!p.closed && !p.isWall()) {
                                var f = u.g + p.getCost(u)
                                  , d = p.visited;
                                (!d || f < p.g) && (p.visited = !0,
                                p.parent = u,
                                p.h = p.h || r(p, n),
                                p.g = f,
                                p.f = p.g + p.h,
                                t.markDirty(p),
                                o && (p.h < a.h || p.h === a.h && p.g < a.g) && (a = p),
                                d ? s.rescoreElement(p) : s.push(p))
                            }
                        }
                    }
                    return o ? bi(a) : []
                },
                heuristics: {
                    manhattan: function(t, e) {
                        return Math.abs(e.x - t.x) + Math.abs(e.y - t.y)
                    },
                    diagonal: function(t, e) {
                        var n = Math.sqrt(2)
                          , i = Math.abs(e.x - t.x)
                          , r = Math.abs(e.y - t.y);
                        return 1 * (i + r) + (n - 2) * Math.min(i, r)
                    }
                },
                cleanNode: function(t) {
                    t.f = 0,
                    t.g = 0,
                    t.h = 0,
                    t.visited = !1,
                    t.closed = !1,
                    t.parent = null
                }
            };
            xi.prototype.init = function() {
                this.dirtyNodes = [];
                for (var t = 0; t < this.nodes.length; t++)
                    Aa.cleanNode(this.nodes[t])
            }
            ,
            xi.prototype.cleanDirty = function() {
                for (var t = 0; t < this.dirtyNodes.length; t++)
                    Aa.cleanNode(this.dirtyNodes[t]);
                this.dirtyNodes = []
            }
            ,
            xi.prototype.markDirty = function(t) {
                this.dirtyNodes.push(t)
            }
            ,
            xi.prototype.neighbors = function(t) {
                var e = []
                  , n = t.x
                  , i = t.y
                  , r = this.grid;
                return r[n - 1] && r[n - 1][i] && e.push(r[n - 1][i]),
                r[n + 1] && r[n + 1][i] && e.push(r[n + 1][i]),
                r[n] && r[n][i - 1] && e.push(r[n][i - 1]),
                r[n] && r[n][i + 1] && e.push(r[n][i + 1]),
                this.diagonal && (r[n - 1] && r[n - 1][i - 1] && e.push(r[n - 1][i - 1]),
                r[n + 1] && r[n + 1][i - 1] && e.push(r[n + 1][i - 1]),
                r[n - 1] && r[n - 1][i + 1] && e.push(r[n - 1][i + 1]),
                r[n + 1] && r[n + 1][i + 1] && e.push(r[n + 1][i + 1])),
                e
            }
            ,
            xi.prototype.toString = function() {
                for (var t, e, n, i, r = [], o = this.grid, s = 0, a = o.length; s < a; s++) {
                    for (t = [],
                    n = 0,
                    i = (e = o[s]).length; n < i; n++)
                        t.push(e[n].weight);
                    r.push(t.join(" "))
                }
                return r.join("\n")
            }
            ,
            Ii.prototype.toString = function() {
                return "[" + this.x + " " + this.y + "]"
            }
            ,
            Ii.prototype.getCost = function(t) {
                return t && t.x !== this.x && t.y !== this.y ? 1.41421 * this.weight : this.weight
            }
            ,
            Ii.prototype.isWall = function() {
                return 0 === this.weight
            }
            ,
            Pi.prototype = {
                push: function(t) {
                    this.content.push(t),
                    this.sinkDown(this.content.length - 1)
                },
                pop: function() {
                    var t = this.content[0]
                      , e = this.content.pop();
                    return this.content.length > 0 && (this.content[0] = e,
                    this.bubbleUp(0)),
                    t
                },
                remove: function(t) {
                    var e = this.content.indexOf(t)
                      , n = this.content.pop();
                    e !== this.content.length - 1 && (this.content[e] = n,
                    this.scoreFunction(n) < this.scoreFunction(t) ? this.sinkDown(e) : this.bubbleUp(e))
                },
                size: function() {
                    return this.content.length
                },
                rescoreElement: function(t) {
                    this.sinkDown(this.content.indexOf(t))
                },
                sinkDown: function(t) {
                    for (var e = this.content[t]; t > 0; ) {
                        var n = (t + 1 >> 1) - 1
                          , i = this.content[n];
                        if (!(this.scoreFunction(e) < this.scoreFunction(i)))
                            break;
                        this.content[n] = e,
                        this.content[t] = i,
                        t = n
                    }
                },
                bubbleUp: function(t) {
                    for (var e = this.content.length, n = this.content[t], i = this.scoreFunction(n); ; ) {
                        var r, o = t + 1 << 1, s = o - 1, a = null;
                        if (s < e) {
                            var u = this.content[s];
                            (r = this.scoreFunction(u)) < i && (a = s)
                        }
                        if (o < e) {
                            var l = this.content[o];
                            this.scoreFunction(l) < (null === a ? i : r) && (a = o)
                        }
                        if (null === a)
                            break;
                        this.content[t] = this.content[a],
                        this.content[a] = n,
                        t = a
                    }
                }
            };
            var Da = function(t) {
                return function() {
                    return t
                }
            };
            Ni.prototype = {
                constructor: Ni,
                insert: function(t, e) {
                    var n, i, r;
                    if (t) {
                        if (e.P = t,
                        e.N = t.N,
                        t.N && (t.N.P = e),
                        t.N = e,
                        t.R) {
                            for (t = t.R; t.L; )
                                t = t.L;
                            t.L = e
                        } else
                            t.R = e;
                        n = t
                    } else
                        this._ ? (t = Ai(this._),
                        e.P = null,
                        e.N = t,
                        t.P = t.L = e,
                        n = t) : (e.P = e.N = null,
                        this._ = e,
                        n = null);
                    for (e.L = e.R = null,
                    e.U = n,
                    e.C = !0,
                    t = e; n && n.C; )
                        n === (i = n.U).L ? (r = i.R) && r.C ? (n.C = r.C = !1,
                        i.C = !0,
                        t = i) : (t === n.R && (Ti(this, n),
                        n = (t = n).U),
                        n.C = !1,
                        i.C = !0,
                        Oi(this, i)) : (r = i.L) && r.C ? (n.C = r.C = !1,
                        i.C = !0,
                        t = i) : (t === n.L && (Oi(this, n),
                        n = (t = n).U),
                        n.C = !1,
                        i.C = !0,
                        Ti(this, i)),
                        n = t.U;
                    this._.C = !1
                },
                remove: function(t) {
                    t.N && (t.N.P = t.P),
                    t.P && (t.P.N = t.N),
                    t.N = t.P = null;
                    var e, n, i, r = t.U, o = t.L, s = t.R;
                    if (n = o ? s ? Ai(s) : o : s,
                    r ? r.L === t ? r.L = n : r.R = n : this._ = n,
                    o && s ? (i = n.C,
                    n.C = t.C,
                    n.L = o,
                    o.U = n,
                    n !== s ? (r = n.U,
                    n.U = t.U,
                    t = n.R,
                    r.L = t,
                    n.R = s,
                    s.U = n) : (n.U = r,
                    r = n,
                    t = n.R)) : (i = t.C,
                    t = n),
                    t && (t.U = r),
                    !i)
                        if (t && t.C)
                            t.C = !1;
                        else {
                            do {
                                if (t === this._)
                                    break;
                                if (t === r.L) {
                                    if ((e = r.R).C && (e.C = !1,
                                    r.C = !0,
                                    Ti(this, r),
                                    e = r.R),
                                    e.L && e.L.C || e.R && e.R.C) {
                                        e.R && e.R.C || (e.L.C = !1,
                                        e.C = !0,
                                        Oi(this, e),
                                        e = r.R),
                                        e.C = r.C,
                                        r.C = e.R.C = !1,
                                        Ti(this, r),
                                        t = this._;
                                        break
                                    }
                                } else if ((e = r.L).C && (e.C = !1,
                                r.C = !0,
                                Oi(this, r),
                                e = r.L),
                                e.L && e.L.C || e.R && e.R.C) {
                                    e.L && e.L.C || (e.R.C = !1,
                                    e.C = !0,
                                    Ti(this, e),
                                    e = r.L),
                                    e.C = r.C,
                                    r.C = e.L.C = !1,
                                    Oi(this, r),
                                    t = this._;
                                    break
                                }
                                e.C = !0,
                                t = r,
                                r = r.U
                            } while (!t.C);
                            t && (t.C = !1)
                        }
                }
            };
            var Ra, ka, Fa, Ga, Ba, qa = [], Va = [], Ua = 1e-6, ja = 1e-12;
            Zi.prototype = {
                constructor: Zi,
                polygons: function() {
                    var t = this.edges;
                    return this.cells.map(function(e) {
                        var n = e.halfedges.map(function(n) {
                            return qi(e, t[n])
                        });
                        return n.data = e.site.data,
                        n
                    })
                },
                triangles: function() {
                    var t = []
                      , e = this.edges;
                    return this.cells.forEach(function(n, i) {
                        if (o = (r = n.halfedges).length)
                            for (var r, o, s, a = n.site, u = -1, l = e[r[o - 1]], c = l.left === a ? l.right : l.left; ++u < o; )
                                s = c,
                                c = (l = e[r[u]]).left === a ? l.right : l.left,
                                s && c && i < s.index && i < c.index && $i(a, s, c) < 0 && t.push([a.data, s.data, c.data])
                    }),
                    t
                },
                links: function() {
                    return this.edges.filter(function(t) {
                        return t.right
                    }).map(function(t) {
                        return {
                            source: t.left.data,
                            target: t.right.data
                        }
                    })
                },
                find: function(t, e, n) {
                    for (var i, r, o = this, s = o._found || 0, a = o.cells.length; !(r = o.cells[s]); )
                        if (++s >= a)
                            return null;
                    var u = t - r.site[0]
                      , l = e - r.site[1]
                      , c = u * u + l * l;
                    do {
                        r = o.cells[i = s],
                        s = null,
                        r.halfedges.forEach(function(n) {
                            var i = o.edges[n]
                              , a = i.left;
                            if (a !== r.site && a || (a = i.right)) {
                                var u = t - a[0]
                                  , l = e - a[1]
                                  , h = u * u + l * l;
                                h < c && (c = h,
                                s = a.index)
                            }
                        })
                    } while (null !== s);
                    return o._found = i,
                    null == n || c <= n * n ? r.site : null
                }
            };
            var za = Object.freeze({
                randomPosition: rr,
                randomPoint: or,
                randomPolygon: sr,
                randomLineString: ar
            })
              , Ya = Object.freeze({
                getCluster: lr,
                clusterEach: cr,
                clusterReduce: hr,
                createBins: pr,
                applyFilter: fr,
                propertiesContainsFilter: dr,
                filterProperties: gr
            });
            "fill"in Array.prototype || Object.defineProperty(Array.prototype, "fill", {
                configurable: !0,
                value: function(t) {
                    if (void 0 === this || null === this)
                        throw new TypeError(this + " is not an object");
                    var e = Object(this)
                      , n = Math.max(Math.min(e.length, 9007199254740991), 0) || 0
                      , i = 1 in arguments && parseInt(Number(arguments[1]), 10) || 0;
                    i = i < 0 ? Math.max(n + i, 0) : Math.min(i, n);
                    var r = 2 in arguments && void 0 !== arguments[2] ? parseInt(Number(arguments[2]), 10) || 0 : n;
                    for (r = r < 0 ? Math.max(n + arguments[2], 0) : Math.min(r, n); i < r; )
                        e[i] = t,
                        ++i;
                    return e
                },
                writable: !0
            }),
            Number.isFinite = Number.isFinite || function(t) {
                return "number" == typeof t && isFinite(t)
            }
            ,
            Number.isInteger = Number.isInteger || function(t) {
                return "number" == typeof t && isFinite(t) && Math.floor(t) === t
            }
            ,
            Number.parseFloat = Number.parseFloat || parseFloat,
            Number.isNaN = Number.isNaN || function(t) {
                return t != t
            }
            ,
            Math.trunc = Math.trunc || function(t) {
                return t < 0 ? Math.ceil(t) : Math.floor(t)
            }
            ;
            var Ha = function() {};
            Ha.prototype.interfaces_ = function() {
                return []
            }
            ,
            Ha.prototype.getClass = function() {
                return Ha
            }
            ,
            Ha.prototype.equalsWithTolerance = function(t, e, n) {
                return Math.abs(t - e) <= n
            }
            ;
            var Xa = function() {}
              , Wa = function() {}
              , $a = {
                MAX_VALUE: {
                    configurable: !0
                }
            };
            Wa.isNaN = function(t) {
                return Number.isNaN(t)
            }
            ,
            Wa.doubleToLongBits = function(t) {
                return t
            }
            ,
            Wa.longBitsToDouble = function(t) {
                return t
            }
            ,
            Wa.isInfinite = function(t) {
                return !Number.isFinite(t)
            }
            ,
            $a.MAX_VALUE.get = function() {
                return Number.MAX_VALUE
            }
            ,
            Object.defineProperties(Wa, $a);
            var Ka = function() {}
              , Za = function() {}
              , Qa = function() {}
              , Ja = function t() {
                if (this.x = null,
                this.y = null,
                this.z = null,
                0 === arguments.length)
                    this.x = 0,
                    this.y = 0,
                    this.z = t.NULL_ORDINATE;
                else if (1 === arguments.length) {
                    var e = arguments[0];
                    this.x = e.x,
                    this.y = e.y,
                    this.z = e.z
                } else
                    2 === arguments.length ? (this.x = arguments[0],
                    this.y = arguments[1],
                    this.z = t.NULL_ORDINATE) : 3 === arguments.length && (this.x = arguments[0],
                    this.y = arguments[1],
                    this.z = arguments[2])
            }
              , tu = {
                DimensionalComparator: {
                    configurable: !0
                },
                serialVersionUID: {
                    configurable: !0
                },
                NULL_ORDINATE: {
                    configurable: !0
                },
                X: {
                    configurable: !0
                },
                Y: {
                    configurable: !0
                },
                Z: {
                    configurable: !0
                }
            };
            Ja.prototype.setOrdinate = function(t, e) {
                switch (t) {
                case Ja.X:
                    this.x = e;
                    break;
                case Ja.Y:
                    this.y = e;
                    break;
                case Ja.Z:
                    this.z = e;
                    break;
                default:
                    throw new Xa("Invalid ordinate index: " + t)
                }
            }
            ,
            Ja.prototype.equals2D = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    return this.x === t.x && this.y === t.y
                }
                if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1];
                    return !!Ha.equalsWithTolerance(this.x, e.x, n) && !!Ha.equalsWithTolerance(this.y, e.y, n)
                }
            }
            ,
            Ja.prototype.getOrdinate = function(t) {
                switch (t) {
                case Ja.X:
                    return this.x;
                case Ja.Y:
                    return this.y;
                case Ja.Z:
                    return this.z
                }
                throw new Xa("Invalid ordinate index: " + t)
            }
            ,
            Ja.prototype.equals3D = function(t) {
                return this.x === t.x && this.y === t.y && (this.z === t.z || Wa.isNaN(this.z)) && Wa.isNaN(t.z)
            }
            ,
            Ja.prototype.equals = function(t) {
                return t instanceof Ja && this.equals2D(t)
            }
            ,
            Ja.prototype.equalInZ = function(t, e) {
                return Ha.equalsWithTolerance(this.z, t.z, e)
            }
            ,
            Ja.prototype.compareTo = function(t) {
                var e = t;
                return this.x < e.x ? -1 : this.x > e.x ? 1 : this.y < e.y ? -1 : this.y > e.y ? 1 : 0
            }
            ,
            Ja.prototype.clone = function() {}
            ,
            Ja.prototype.copy = function() {
                return new Ja(this)
            }
            ,
            Ja.prototype.toString = function() {
                return "(" + this.x + ", " + this.y + ", " + this.z + ")"
            }
            ,
            Ja.prototype.distance3D = function(t) {
                var e = this.x - t.x
                  , n = this.y - t.y
                  , i = this.z - t.z;
                return Math.sqrt(e * e + n * n + i * i)
            }
            ,
            Ja.prototype.distance = function(t) {
                var e = this.x - t.x
                  , n = this.y - t.y;
                return Math.sqrt(e * e + n * n)
            }
            ,
            Ja.prototype.hashCode = function() {
                var t = 17;
                return 37 * (t = 37 * t + Ja.hashCode(this.x)) + Ja.hashCode(this.y)
            }
            ,
            Ja.prototype.setCoordinate = function(t) {
                this.x = t.x,
                this.y = t.y,
                this.z = t.z
            }
            ,
            Ja.prototype.interfaces_ = function() {
                return [Ka, Za, yr]
            }
            ,
            Ja.prototype.getClass = function() {
                return Ja
            }
            ,
            Ja.hashCode = function() {
                if (1 === arguments.length) {
                    var t = arguments[0]
                      , e = Wa.doubleToLongBits(t);
                    return Math.trunc((e ^ e) >>> 32)
                }
            }
            ,
            tu.DimensionalComparator.get = function() {
                return eu
            }
            ,
            tu.serialVersionUID.get = function() {
                return 0x5cbf2c235c7e5800
            }
            ,
            tu.NULL_ORDINATE.get = function() {
                return Wa.NaN
            }
            ,
            tu.X.get = function() {
                return 0
            }
            ,
            tu.Y.get = function() {
                return 1
            }
            ,
            tu.Z.get = function() {
                return 2
            }
            ,
            Object.defineProperties(Ja, tu);
            var eu = function(t) {
                if (this._dimensionsToTest = 2,
                0 === arguments.length)
                    ;
                else if (1 === arguments.length) {
                    var e = arguments[0];
                    if (2 !== e && 3 !== e)
                        throw new Xa("only 2 or 3 dimensions may be specified");
                    this._dimensionsToTest = e
                }
            };
            eu.prototype.compare = function(t, e) {
                var n = t
                  , i = e
                  , r = eu.compare(n.x, i.x);
                if (0 !== r)
                    return r;
                var o = eu.compare(n.y, i.y);
                return 0 !== o ? o : this._dimensionsToTest <= 2 ? 0 : eu.compare(n.z, i.z)
            }
            ,
            eu.prototype.interfaces_ = function() {
                return [Qa]
            }
            ,
            eu.prototype.getClass = function() {
                return eu
            }
            ,
            eu.compare = function(t, e) {
                return t < e ? -1 : t > e ? 1 : Wa.isNaN(t) ? Wa.isNaN(e) ? 0 : -1 : Wa.isNaN(e) ? 1 : 0
            }
            ;
            var nu = function() {};
            nu.prototype.create = function() {}
            ,
            nu.prototype.interfaces_ = function() {
                return []
            }
            ,
            nu.prototype.getClass = function() {
                return nu
            }
            ;
            var iu = function() {}
              , ru = {
                INTERIOR: {
                    configurable: !0
                },
                BOUNDARY: {
                    configurable: !0
                },
                EXTERIOR: {
                    configurable: !0
                },
                NONE: {
                    configurable: !0
                }
            };
            iu.prototype.interfaces_ = function() {
                return []
            }
            ,
            iu.prototype.getClass = function() {
                return iu
            }
            ,
            iu.toLocationSymbol = function(t) {
                switch (t) {
                case iu.EXTERIOR:
                    return "e";
                case iu.BOUNDARY:
                    return "b";
                case iu.INTERIOR:
                    return "i";
                case iu.NONE:
                    return "-"
                }
                throw new Xa("Unknown location value: " + t)
            }
            ,
            ru.INTERIOR.get = function() {
                return 0
            }
            ,
            ru.BOUNDARY.get = function() {
                return 1
            }
            ,
            ru.EXTERIOR.get = function() {
                return 2
            }
            ,
            ru.NONE.get = function() {
                return -1
            }
            ,
            Object.defineProperties(iu, ru);
            var ou = function(t, e) {
                return t.interfaces_ && t.interfaces_().indexOf(e) > -1
            }
              , su = function() {}
              , au = {
                LOG_10: {
                    configurable: !0
                }
            };
            su.prototype.interfaces_ = function() {
                return []
            }
            ,
            su.prototype.getClass = function() {
                return su
            }
            ,
            su.log10 = function(t) {
                var e = Math.log(t);
                return Wa.isInfinite(e) ? e : Wa.isNaN(e) ? e : e / su.LOG_10
            }
            ,
            su.min = function(t, e, n, i) {
                var r = t;
                return e < r && (r = e),
                n < r && (r = n),
                i < r && (r = i),
                r
            }
            ,
            su.clamp = function() {
                if ("number" == typeof arguments[2] && "number" == typeof arguments[0] && "number" == typeof arguments[1]) {
                    var t = arguments[0]
                      , e = arguments[1]
                      , n = arguments[2];
                    return t < e ? e : t > n ? n : t
                }
                if (Number.isInteger(arguments[2]) && Number.isInteger(arguments[0]) && Number.isInteger(arguments[1])) {
                    var i = arguments[0]
                      , r = arguments[1]
                      , o = arguments[2];
                    return i < r ? r : i > o ? o : i
                }
            }
            ,
            su.wrap = function(t, e) {
                return t < 0 ? e - -t % e : t % e
            }
            ,
            su.max = function() {
                if (3 === arguments.length) {
                    var t = arguments[0]
                      , e = arguments[1]
                      , n = arguments[2]
                      , i = t;
                    return e > i && (i = e),
                    n > i && (i = n),
                    i
                }
                if (4 === arguments.length) {
                    var r = arguments[0]
                      , o = arguments[1]
                      , s = arguments[2]
                      , a = arguments[3]
                      , u = r;
                    return o > u && (u = o),
                    s > u && (u = s),
                    a > u && (u = a),
                    u
                }
            }
            ,
            su.average = function(t, e) {
                return (t + e) / 2
            }
            ,
            au.LOG_10.get = function() {
                return Math.log(10)
            }
            ,
            Object.defineProperties(su, au);
            var uu = function(t) {
                this.str = t
            };
            uu.prototype.append = function(t) {
                this.str += t
            }
            ,
            uu.prototype.setCharAt = function(t, e) {
                this.str = this.str.substr(0, t) + e + this.str.substr(t + 1)
            }
            ,
            uu.prototype.toString = function(t) {
                return this.str
            }
            ;
            var lu = function(t) {
                this.value = t
            };
            lu.prototype.intValue = function() {
                return this.value
            }
            ,
            lu.prototype.compareTo = function(t) {
                return this.value < t ? -1 : this.value > t ? 1 : 0
            }
            ,
            lu.isNaN = function(t) {
                return Number.isNaN(t)
            }
            ;
            var cu = function() {};
            cu.isWhitespace = function(t) {
                return t <= 32 && t >= 0 || 127 === t
            }
            ,
            cu.toUpperCase = function(t) {
                return t.toUpperCase()
            }
            ;
            var hu = function t() {
                if (this._hi = 0,
                this._lo = 0,
                0 === arguments.length)
                    this.init(0);
                else if (1 === arguments.length) {
                    if ("number" == typeof arguments[0]) {
                        var e = arguments[0];
                        this.init(e)
                    } else if (arguments[0]instanceof t) {
                        var n = arguments[0];
                        this.init(n)
                    } else if ("string" == typeof arguments[0]) {
                        var i = arguments[0];
                        t.call(this, t.parse(i))
                    }
                } else if (2 === arguments.length) {
                    var r = arguments[0]
                      , o = arguments[1];
                    this.init(r, o)
                }
            }
              , pu = {
                PI: {
                    configurable: !0
                },
                TWO_PI: {
                    configurable: !0
                },
                PI_2: {
                    configurable: !0
                },
                E: {
                    configurable: !0
                },
                NaN: {
                    configurable: !0
                },
                EPS: {
                    configurable: !0
                },
                SPLIT: {
                    configurable: !0
                },
                MAX_PRINT_DIGITS: {
                    configurable: !0
                },
                TEN: {
                    configurable: !0
                },
                ONE: {
                    configurable: !0
                },
                SCI_NOT_EXPONENT_CHAR: {
                    configurable: !0
                },
                SCI_NOT_ZERO: {
                    configurable: !0
                }
            };
            hu.prototype.le = function(t) {
                return (this._hi < t._hi || this._hi === t._hi) && this._lo <= t._lo
            }
            ,
            hu.prototype.extractSignificantDigits = function(t, e) {
                var n = this.abs()
                  , i = hu.magnitude(n._hi)
                  , r = hu.TEN.pow(i);
                (n = n.divide(r)).gt(hu.TEN) ? (n = n.divide(hu.TEN),
                i += 1) : n.lt(hu.ONE) && (n = n.multiply(hu.TEN),
                i -= 1);
                for (var o = i + 1, s = new uu, a = hu.MAX_PRINT_DIGITS - 1, u = 0; u <= a; u++) {
                    t && u === o && s.append(".");
                    var l = Math.trunc(n._hi);
                    if (l < 0)
                        break;
                    var c = !1
                      , h = 0;
                    l > 9 ? (c = !0,
                    h = "9") : h = "0" + l,
                    s.append(h),
                    n = n.subtract(hu.valueOf(l)).multiply(hu.TEN),
                    c && n.selfAdd(hu.TEN);
                    var p = !0
                      , f = hu.magnitude(n._hi);
                    if (f < 0 && Math.abs(f) >= a - u && (p = !1),
                    !p)
                        break
                }
                return e[0] = i,
                s.toString()
            }
            ,
            hu.prototype.sqr = function() {
                return this.multiply(this)
            }
            ,
            hu.prototype.doubleValue = function() {
                return this._hi + this._lo
            }
            ,
            hu.prototype.subtract = function() {
                if (arguments[0]instanceof hu) {
                    var t = arguments[0];
                    return this.add(t.negate())
                }
                if ("number" == typeof arguments[0]) {
                    var e = arguments[0];
                    return this.add(-e)
                }
            }
            ,
            hu.prototype.equals = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    return this._hi === t._hi && this._lo === t._lo
                }
            }
            ,
            hu.prototype.isZero = function() {
                return 0 === this._hi && 0 === this._lo
            }
            ,
            hu.prototype.selfSubtract = function() {
                if (arguments[0]instanceof hu) {
                    var t = arguments[0];
                    return this.isNaN() ? this : this.selfAdd(-t._hi, -t._lo)
                }
                if ("number" == typeof arguments[0]) {
                    var e = arguments[0];
                    return this.isNaN() ? this : this.selfAdd(-e, 0)
                }
            }
            ,
            hu.prototype.getSpecialNumberString = function() {
                return this.isZero() ? "0.0" : this.isNaN() ? "NaN " : null
            }
            ,
            hu.prototype.min = function(t) {
                return this.le(t) ? this : t
            }
            ,
            hu.prototype.selfDivide = function() {
                if (1 === arguments.length) {
                    if (arguments[0]instanceof hu) {
                        var t = arguments[0];
                        return this.selfDivide(t._hi, t._lo)
                    }
                    if ("number" == typeof arguments[0]) {
                        var e = arguments[0];
                        return this.selfDivide(e, 0)
                    }
                } else if (2 === arguments.length) {
                    var n, i, r, o, s = arguments[0], a = arguments[1], u = null, l = null, c = null, h = null;
                    return r = this._hi / s,
                    h = (u = (c = hu.SPLIT * r) - (u = c - r)) * (l = (h = hu.SPLIT * s) - (l = h - s)) - (o = r * s) + u * (i = s - l) + (n = r - u) * l + n * i,
                    h = r + (c = (this._hi - o - h + this._lo - r * a) / s),
                    this._hi = h,
                    this._lo = r - h + c,
                    this
                }
            }
            ,
            hu.prototype.dump = function() {
                return "DD<" + this._hi + ", " + this._lo + ">"
            }
            ,
            hu.prototype.divide = function() {
                if (arguments[0]instanceof hu) {
                    var t, e, n, i, r = arguments[0], o = null, s = null, a = null, u = null;
                    return t = (n = this._hi / r._hi) - (o = (a = hu.SPLIT * n) - (o = a - n)),
                    u = o * (s = (u = hu.SPLIT * r._hi) - (s = u - r._hi)) - (i = n * r._hi) + o * (e = r._hi - s) + t * s + t * e,
                    a = (this._hi - i - u + this._lo - n * r._lo) / r._hi,
                    new hu(u = n + a,n - u + a)
                }
                if ("number" == typeof arguments[0]) {
                    var l = arguments[0];
                    return Wa.isNaN(l) ? hu.createNaN() : hu.copy(this).selfDivide(l, 0)
                }
            }
            ,
            hu.prototype.ge = function(t) {
                return (this._hi > t._hi || this._hi === t._hi) && this._lo >= t._lo
            }
            ,
            hu.prototype.pow = function(t) {
                if (0 === t)
                    return hu.valueOf(1);
                var e = new hu(this)
                  , n = hu.valueOf(1)
                  , i = Math.abs(t);
                if (i > 1)
                    for (; i > 0; )
                        i % 2 == 1 && n.selfMultiply(e),
                        (i /= 2) > 0 && (e = e.sqr());
                else
                    n = e;
                return t < 0 ? n.reciprocal() : n
            }
            ,
            hu.prototype.ceil = function() {
                if (this.isNaN())
                    return hu.NaN;
                var t = Math.ceil(this._hi)
                  , e = 0;
                return t === this._hi && (e = Math.ceil(this._lo)),
                new hu(t,e)
            }
            ,
            hu.prototype.compareTo = function(t) {
                var e = t;
                return this._hi < e._hi ? -1 : this._hi > e._hi ? 1 : this._lo < e._lo ? -1 : this._lo > e._lo ? 1 : 0
            }
            ,
            hu.prototype.rint = function() {
                return this.isNaN() ? this : this.add(.5).floor()
            }
            ,
            hu.prototype.setValue = function() {
                if (arguments[0]instanceof hu) {
                    var t = arguments[0];
                    return this.init(t),
                    this
                }
                if ("number" == typeof arguments[0]) {
                    var e = arguments[0];
                    return this.init(e),
                    this
                }
            }
            ,
            hu.prototype.max = function(t) {
                return this.ge(t) ? this : t
            }
            ,
            hu.prototype.sqrt = function() {
                if (this.isZero())
                    return hu.valueOf(0);
                if (this.isNegative())
                    return hu.NaN;
                var t = 1 / Math.sqrt(this._hi)
                  , e = this._hi * t
                  , n = hu.valueOf(e)
                  , i = this.subtract(n.sqr())._hi * (.5 * t);
                return n.add(i)
            }
            ,
            hu.prototype.selfAdd = function() {
                if (1 === arguments.length) {
                    if (arguments[0]instanceof hu) {
                        var t = arguments[0];
                        return this.selfAdd(t._hi, t._lo)
                    }
                    if ("number" == typeof arguments[0]) {
                        var e, n, i, r, o, s = arguments[0], a = null;
                        return a = (i = this._hi + s) - (r = i - this._hi),
                        n = (o = (a = s - r + (this._hi - a)) + this._lo) + (i - (e = i + o)),
                        this._hi = e + n,
                        this._lo = n + (e - this._hi),
                        this
                    }
                } else if (2 === arguments.length) {
                    var u, l, c, h, p = arguments[0], f = arguments[1], d = null, g = null, y = null;
                    c = this._hi + p,
                    l = this._lo + f,
                    g = c - (y = c - this._hi),
                    d = l - (h = l - this._lo);
                    var v = (u = c + (y = (g = p - y + (this._hi - g)) + l)) + (y = (d = f - h + (this._lo - d)) + (y + (c - u)))
                      , m = y + (u - v);
                    return this._hi = v,
                    this._lo = m,
                    this
                }
            }
            ,
            hu.prototype.selfMultiply = function() {
                if (1 === arguments.length) {
                    if (arguments[0]instanceof hu) {
                        var t = arguments[0];
                        return this.selfMultiply(t._hi, t._lo)
                    }
                    if ("number" == typeof arguments[0]) {
                        var e = arguments[0];
                        return this.selfMultiply(e, 0)
                    }
                } else if (2 === arguments.length) {
                    var n, i, r = arguments[0], o = arguments[1], s = null, a = null, u = null, l = null;
                    s = (u = hu.SPLIT * this._hi) - this._hi,
                    l = hu.SPLIT * r,
                    s = u - s,
                    n = this._hi - s,
                    a = l - r;
                    var c = (u = this._hi * r) + (l = s * (a = l - a) - u + s * (i = r - a) + n * a + n * i + (this._hi * o + this._lo * r))
                      , h = l + (s = u - c);
                    return this._hi = c,
                    this._lo = h,
                    this
                }
            }
            ,
            hu.prototype.selfSqr = function() {
                return this.selfMultiply(this)
            }
            ,
            hu.prototype.floor = function() {
                if (this.isNaN())
                    return hu.NaN;
                var t = Math.floor(this._hi)
                  , e = 0;
                return t === this._hi && (e = Math.floor(this._lo)),
                new hu(t,e)
            }
            ,
            hu.prototype.negate = function() {
                return this.isNaN() ? this : new hu(-this._hi,-this._lo)
            }
            ,
            hu.prototype.clone = function() {}
            ,
            hu.prototype.multiply = function() {
                if (arguments[0]instanceof hu) {
                    var t = arguments[0];
                    return t.isNaN() ? hu.createNaN() : hu.copy(this).selfMultiply(t)
                }
                if ("number" == typeof arguments[0]) {
                    var e = arguments[0];
                    return Wa.isNaN(e) ? hu.createNaN() : hu.copy(this).selfMultiply(e, 0)
                }
            }
            ,
            hu.prototype.isNaN = function() {
                return Wa.isNaN(this._hi)
            }
            ,
            hu.prototype.intValue = function() {
                return Math.trunc(this._hi)
            }
            ,
            hu.prototype.toString = function() {
                var t = hu.magnitude(this._hi);
                return t >= -3 && t <= 20 ? this.toStandardNotation() : this.toSciNotation()
            }
            ,
            hu.prototype.toStandardNotation = function() {
                var t = this.getSpecialNumberString();
                if (null !== t)
                    return t;
                var e = new Array(1).fill(null)
                  , n = this.extractSignificantDigits(!0, e)
                  , i = e[0] + 1
                  , r = n;
                if ("." === n.charAt(0))
                    r = "0" + n;
                else if (i < 0)
                    r = "0." + hu.stringOfChar("0", -i) + n;
                else if (-1 === n.indexOf(".")) {
                    var o = i - n.length;
                    r = n + hu.stringOfChar("0", o) + ".0"
                }
                return this.isNegative() ? "-" + r : r
            }
            ,
            hu.prototype.reciprocal = function() {
                var t, e, n, i, r = null, o = null, s = null, a = null;
                t = (n = 1 / this._hi) - (r = (s = hu.SPLIT * n) - (r = s - n)),
                o = (a = hu.SPLIT * this._hi) - this._hi;
                var u = n + (s = (1 - (i = n * this._hi) - (a = r * (o = a - o) - i + r * (e = this._hi - o) + t * o + t * e) - n * this._lo) / this._hi);
                return new hu(u,n - u + s)
            }
            ,
            hu.prototype.toSciNotation = function() {
                if (this.isZero())
                    return hu.SCI_NOT_ZERO;
                var t = this.getSpecialNumberString();
                if (null !== t)
                    return t;
                var e = new Array(1).fill(null)
                  , n = this.extractSignificantDigits(!1, e)
                  , i = hu.SCI_NOT_EXPONENT_CHAR + e[0];
                if ("0" === n.charAt(0))
                    throw new Error("Found leading zero: " + n);
                var r = "";
                n.length > 1 && (r = n.substring(1));
                var o = n.charAt(0) + "." + r;
                return this.isNegative() ? "-" + o + i : o + i
            }
            ,
            hu.prototype.abs = function() {
                return this.isNaN() ? hu.NaN : this.isNegative() ? this.negate() : new hu(this)
            }
            ,
            hu.prototype.isPositive = function() {
                return (this._hi > 0 || 0 === this._hi) && this._lo > 0
            }
            ,
            hu.prototype.lt = function(t) {
                return (this._hi < t._hi || this._hi === t._hi) && this._lo < t._lo
            }
            ,
            hu.prototype.add = function() {
                if (arguments[0]instanceof hu) {
                    var t = arguments[0];
                    return hu.copy(this).selfAdd(t)
                }
                if ("number" == typeof arguments[0]) {
                    var e = arguments[0];
                    return hu.copy(this).selfAdd(e)
                }
            }
            ,
            hu.prototype.init = function() {
                if (1 === arguments.length) {
                    if ("number" == typeof arguments[0]) {
                        var t = arguments[0];
                        this._hi = t,
                        this._lo = 0
                    } else if (arguments[0]instanceof hu) {
                        var e = arguments[0];
                        this._hi = e._hi,
                        this._lo = e._lo
                    }
                } else if (2 === arguments.length) {
                    var n = arguments[0]
                      , i = arguments[1];
                    this._hi = n,
                    this._lo = i
                }
            }
            ,
            hu.prototype.gt = function(t) {
                return (this._hi > t._hi || this._hi === t._hi) && this._lo > t._lo
            }
            ,
            hu.prototype.isNegative = function() {
                return (this._hi < 0 || 0 === this._hi) && this._lo < 0
            }
            ,
            hu.prototype.trunc = function() {
                return this.isNaN() ? hu.NaN : this.isPositive() ? this.floor() : this.ceil()
            }
            ,
            hu.prototype.signum = function() {
                return this._hi > 0 ? 1 : this._hi < 0 ? -1 : this._lo > 0 ? 1 : this._lo < 0 ? -1 : 0
            }
            ,
            hu.prototype.interfaces_ = function() {
                return [yr, Ka, Za]
            }
            ,
            hu.prototype.getClass = function() {
                return hu
            }
            ,
            hu.sqr = function(t) {
                return hu.valueOf(t).selfMultiply(t)
            }
            ,
            hu.valueOf = function() {
                if ("string" == typeof arguments[0]) {
                    var t = arguments[0];
                    return hu.parse(t)
                }
                if ("number" == typeof arguments[0]) {
                    var e = arguments[0];
                    return new hu(e)
                }
            }
            ,
            hu.sqrt = function(t) {
                return hu.valueOf(t).sqrt()
            }
            ,
            hu.parse = function(t) {
                for (var e = 0, n = t.length; cu.isWhitespace(t.charAt(e)); )
                    e++;
                var i = !1;
                if (e < n) {
                    var r = t.charAt(e);
                    "-" !== r && "+" !== r || (e++,
                    "-" === r && (i = !0))
                }
                for (var o = new hu, s = 0, a = 0, u = 0; !(e >= n); ) {
                    var l = t.charAt(e);
                    if (e++,
                    cu.isDigit(l)) {
                        var c = l - "0";
                        o.selfMultiply(hu.TEN),
                        o.selfAdd(c),
                        s++
                    } else {
                        if ("." !== l) {
                            if ("e" === l || "E" === l) {
                                var h = t.substring(e);
                                try {
                                    u = lu.parseInt(h)
                                } catch (e) {
                                    throw e instanceof Error ? new Error("Invalid exponent " + h + " in string " + t) : e
                                }
                                break
                            }
                            throw new Error("Unexpected character '" + l + "' at position " + e + " in string " + t)
                        }
                        a = s
                    }
                }
                var p = o
                  , f = s - a - u;
                if (0 === f)
                    p = o;
                else if (f > 0) {
                    var d = hu.TEN.pow(f);
                    p = o.divide(d)
                } else if (f < 0) {
                    var g = hu.TEN.pow(-f);
                    p = o.multiply(g)
                }
                return i ? p.negate() : p
            }
            ,
            hu.createNaN = function() {
                return new hu(Wa.NaN,Wa.NaN)
            }
            ,
            hu.copy = function(t) {
                return new hu(t)
            }
            ,
            hu.magnitude = function(t) {
                var e = Math.abs(t)
                  , n = Math.log(e) / Math.log(10)
                  , i = Math.trunc(Math.floor(n));
                return 10 * Math.pow(10, i) <= e && (i += 1),
                i
            }
            ,
            hu.stringOfChar = function(t, e) {
                for (var n = new uu, i = 0; i < e; i++)
                    n.append(t);
                return n.toString()
            }
            ,
            pu.PI.get = function() {
                return new hu(3.141592653589793,1.2246467991473532e-16)
            }
            ,
            pu.TWO_PI.get = function() {
                return new hu(6.283185307179586,2.4492935982947064e-16)
            }
            ,
            pu.PI_2.get = function() {
                return new hu(1.5707963267948966,6.123233995736766e-17)
            }
            ,
            pu.E.get = function() {
                return new hu(2.718281828459045,1.4456468917292502e-16)
            }
            ,
            pu.NaN.get = function() {
                return new hu(Wa.NaN,Wa.NaN)
            }
            ,
            pu.EPS.get = function() {
                return 1.23259516440783e-32
            }
            ,
            pu.SPLIT.get = function() {
                return 134217729
            }
            ,
            pu.MAX_PRINT_DIGITS.get = function() {
                return 32
            }
            ,
            pu.TEN.get = function() {
                return hu.valueOf(10)
            }
            ,
            pu.ONE.get = function() {
                return hu.valueOf(1)
            }
            ,
            pu.SCI_NOT_EXPONENT_CHAR.get = function() {
                return "E"
            }
            ,
            pu.SCI_NOT_ZERO.get = function() {
                return "0.0E0"
            }
            ,
            Object.defineProperties(hu, pu);
            var fu = function() {}
              , du = {
                DP_SAFE_EPSILON: {
                    configurable: !0
                }
            };
            fu.prototype.interfaces_ = function() {
                return []
            }
            ,
            fu.prototype.getClass = function() {
                return fu
            }
            ,
            fu.orientationIndex = function(t, e, n) {
                var i = fu.orientationIndexFilter(t, e, n);
                if (i <= 1)
                    return i;
                var r = hu.valueOf(e.x).selfAdd(-t.x)
                  , o = hu.valueOf(e.y).selfAdd(-t.y)
                  , s = hu.valueOf(n.x).selfAdd(-e.x)
                  , a = hu.valueOf(n.y).selfAdd(-e.y);
                return r.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()
            }
            ,
            fu.signOfDet2x2 = function(t, e, n, i) {
                return t.multiply(i).selfSubtract(e.multiply(n)).signum()
            }
            ,
            fu.intersection = function(t, e, n, i) {
                var r = hu.valueOf(i.y).selfSubtract(n.y).selfMultiply(hu.valueOf(e.x).selfSubtract(t.x))
                  , o = hu.valueOf(i.x).selfSubtract(n.x).selfMultiply(hu.valueOf(e.y).selfSubtract(t.y))
                  , s = r.subtract(o)
                  , a = hu.valueOf(i.x).selfSubtract(n.x).selfMultiply(hu.valueOf(t.y).selfSubtract(n.y))
                  , u = hu.valueOf(i.y).selfSubtract(n.y).selfMultiply(hu.valueOf(t.x).selfSubtract(n.x))
                  , l = a.subtract(u).selfDivide(s).doubleValue()
                  , c = hu.valueOf(t.x).selfAdd(hu.valueOf(e.x).selfSubtract(t.x).selfMultiply(l)).doubleValue()
                  , h = hu.valueOf(e.x).selfSubtract(t.x).selfMultiply(hu.valueOf(t.y).selfSubtract(n.y))
                  , p = hu.valueOf(e.y).selfSubtract(t.y).selfMultiply(hu.valueOf(t.x).selfSubtract(n.x))
                  , f = h.subtract(p).selfDivide(s).doubleValue()
                  , d = hu.valueOf(n.y).selfAdd(hu.valueOf(i.y).selfSubtract(n.y).selfMultiply(f)).doubleValue();
                return new Ja(c,d)
            }
            ,
            fu.orientationIndexFilter = function(t, e, n) {
                var i = null
                  , r = (t.x - n.x) * (e.y - n.y)
                  , o = (t.y - n.y) * (e.x - n.x)
                  , s = r - o;
                if (r > 0) {
                    if (o <= 0)
                        return fu.signum(s);
                    i = r + o
                } else {
                    if (!(r < 0))
                        return fu.signum(s);
                    if (o >= 0)
                        return fu.signum(s);
                    i = -r - o
                }
                var a = fu.DP_SAFE_EPSILON * i;
                return s >= a || -s >= a ? fu.signum(s) : 2
            }
            ,
            fu.signum = function(t) {
                return t > 0 ? 1 : t < 0 ? -1 : 0
            }
            ,
            du.DP_SAFE_EPSILON.get = function() {
                return 1e-15
            }
            ,
            Object.defineProperties(fu, du);
            var gu = function() {}
              , yu = {
                X: {
                    configurable: !0
                },
                Y: {
                    configurable: !0
                },
                Z: {
                    configurable: !0
                },
                M: {
                    configurable: !0
                }
            };
            yu.X.get = function() {
                return 0
            }
            ,
            yu.Y.get = function() {
                return 1
            }
            ,
            yu.Z.get = function() {
                return 2
            }
            ,
            yu.M.get = function() {
                return 3
            }
            ,
            gu.prototype.setOrdinate = function(t, e, n) {}
            ,
            gu.prototype.size = function() {}
            ,
            gu.prototype.getOrdinate = function(t, e) {}
            ,
            gu.prototype.getCoordinate = function() {}
            ,
            gu.prototype.getCoordinateCopy = function(t) {}
            ,
            gu.prototype.getDimension = function() {}
            ,
            gu.prototype.getX = function(t) {}
            ,
            gu.prototype.clone = function() {}
            ,
            gu.prototype.expandEnvelope = function(t) {}
            ,
            gu.prototype.copy = function() {}
            ,
            gu.prototype.getY = function(t) {}
            ,
            gu.prototype.toCoordinateArray = function() {}
            ,
            gu.prototype.interfaces_ = function() {
                return [Za]
            }
            ,
            gu.prototype.getClass = function() {
                return gu
            }
            ,
            Object.defineProperties(gu, yu);
            var vu = function() {}
              , mu = function(t) {
                function e() {
                    t.call(this, "Projective point not representable on the Cartesian plane.")
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                e
            }(vu)
              , _u = function() {};
            _u.arraycopy = function(t, e, n, i, r) {
                for (var o = 0, s = e; s < e + r; s++)
                    n[i + o] = t[s],
                    o++
            }
            ,
            _u.getProperty = function(t) {
                return {
                    "line.separator": "\n"
                }[t]
            }
            ;
            var Eu = function t() {
                if (this.x = null,
                this.y = null,
                this.w = null,
                0 === arguments.length)
                    this.x = 0,
                    this.y = 0,
                    this.w = 1;
                else if (1 === arguments.length) {
                    var e = arguments[0];
                    this.x = e.x,
                    this.y = e.y,
                    this.w = 1
                } else if (2 === arguments.length) {
                    if ("number" == typeof arguments[0] && "number" == typeof arguments[1]) {
                        var n = arguments[0]
                          , i = arguments[1];
                        this.x = n,
                        this.y = i,
                        this.w = 1
                    } else if (arguments[0]instanceof t && arguments[1]instanceof t) {
                        var r = arguments[0]
                          , o = arguments[1];
                        this.x = r.y * o.w - o.y * r.w,
                        this.y = o.x * r.w - r.x * o.w,
                        this.w = r.x * o.y - o.x * r.y
                    } else if (arguments[0]instanceof Ja && arguments[1]instanceof Ja) {
                        var s = arguments[0]
                          , a = arguments[1];
                        this.x = s.y - a.y,
                        this.y = a.x - s.x,
                        this.w = s.x * a.y - a.x * s.y
                    }
                } else if (3 === arguments.length) {
                    var u = arguments[0]
                      , l = arguments[1]
                      , c = arguments[2];
                    this.x = u,
                    this.y = l,
                    this.w = c
                } else if (4 === arguments.length) {
                    var h = arguments[0]
                      , p = arguments[1]
                      , f = arguments[2]
                      , d = arguments[3]
                      , g = h.y - p.y
                      , y = p.x - h.x
                      , v = h.x * p.y - p.x * h.y
                      , m = f.y - d.y
                      , _ = d.x - f.x
                      , E = f.x * d.y - d.x * f.y;
                    this.x = y * E - _ * v,
                    this.y = m * v - g * E,
                    this.w = g * _ - m * y
                }
            };
            Eu.prototype.getY = function() {
                var t = this.y / this.w;
                if (Wa.isNaN(t) || Wa.isInfinite(t))
                    throw new mu;
                return t
            }
            ,
            Eu.prototype.getX = function() {
                var t = this.x / this.w;
                if (Wa.isNaN(t) || Wa.isInfinite(t))
                    throw new mu;
                return t
            }
            ,
            Eu.prototype.getCoordinate = function() {
                var t = new Ja;
                return t.x = this.getX(),
                t.y = this.getY(),
                t
            }
            ,
            Eu.prototype.interfaces_ = function() {
                return []
            }
            ,
            Eu.prototype.getClass = function() {
                return Eu
            }
            ,
            Eu.intersection = function(t, e, n, i) {
                var r = t.y - e.y
                  , o = e.x - t.x
                  , s = t.x * e.y - e.x * t.y
                  , a = n.y - i.y
                  , u = i.x - n.x
                  , l = n.x * i.y - i.x * n.y
                  , c = r * u - a * o
                  , h = (o * l - u * s) / c
                  , p = (a * s - r * l) / c;
                if (Wa.isNaN(h) || Wa.isInfinite(h) || Wa.isNaN(p) || Wa.isInfinite(p))
                    throw new mu;
                return new Ja(h,p)
            }
            ;
            var Cu = function t() {
                if (this._minx = null,
                this._maxx = null,
                this._miny = null,
                this._maxy = null,
                0 === arguments.length)
                    this.init();
                else if (1 === arguments.length) {
                    if (arguments[0]instanceof Ja) {
                        var e = arguments[0];
                        this.init(e.x, e.x, e.y, e.y)
                    } else if (arguments[0]instanceof t) {
                        var n = arguments[0];
                        this.init(n)
                    }
                } else if (2 === arguments.length) {
                    var i = arguments[0]
                      , r = arguments[1];
                    this.init(i.x, r.x, i.y, r.y)
                } else if (4 === arguments.length) {
                    var o = arguments[0]
                      , s = arguments[1]
                      , a = arguments[2]
                      , u = arguments[3];
                    this.init(o, s, a, u)
                }
            }
              , wu = {
                serialVersionUID: {
                    configurable: !0
                }
            };
            Cu.prototype.getArea = function() {
                return this.getWidth() * this.getHeight()
            }
            ,
            Cu.prototype.equals = function(t) {
                if (!(t instanceof Cu))
                    return !1;
                var e = t;
                return this.isNull() ? e.isNull() : this._maxx === e.getMaxX() && this._maxy === e.getMaxY() && this._minx === e.getMinX() && this._miny === e.getMinY()
            }
            ,
            Cu.prototype.intersection = function(t) {
                if (this.isNull() || t.isNull() || !this.intersects(t))
                    return new Cu;
                var e = this._minx > t._minx ? this._minx : t._minx
                  , n = this._miny > t._miny ? this._miny : t._miny
                  , i = this._maxx < t._maxx ? this._maxx : t._maxx
                  , r = this._maxy < t._maxy ? this._maxy : t._maxy;
                return new Cu(e,i,n,r)
            }
            ,
            Cu.prototype.isNull = function() {
                return this._maxx < this._minx
            }
            ,
            Cu.prototype.getMaxX = function() {
                return this._maxx
            }
            ,
            Cu.prototype.covers = function() {
                if (1 === arguments.length) {
                    if (arguments[0]instanceof Ja) {
                        var t = arguments[0];
                        return this.covers(t.x, t.y)
                    }
                    if (arguments[0]instanceof Cu) {
                        var e = arguments[0];
                        return !this.isNull() && !e.isNull() && e.getMinX() >= this._minx && e.getMaxX() <= this._maxx && e.getMinY() >= this._miny && e.getMaxY() <= this._maxy
                    }
                } else if (2 === arguments.length) {
                    var n = arguments[0]
                      , i = arguments[1];
                    return !this.isNull() && n >= this._minx && n <= this._maxx && i >= this._miny && i <= this._maxy
                }
            }
            ,
            Cu.prototype.intersects = function() {
                if (1 === arguments.length) {
                    if (arguments[0]instanceof Cu) {
                        var t = arguments[0];
                        return !this.isNull() && !t.isNull() && !(t._minx > this._maxx || t._maxx < this._minx || t._miny > this._maxy || t._maxy < this._miny)
                    }
                    if (arguments[0]instanceof Ja) {
                        var e = arguments[0];
                        return this.intersects(e.x, e.y)
                    }
                } else if (2 === arguments.length) {
                    var n = arguments[0]
                      , i = arguments[1];
                    return !this.isNull() && !(n > this._maxx || n < this._minx || i > this._maxy || i < this._miny)
                }
            }
            ,
            Cu.prototype.getMinY = function() {
                return this._miny
            }
            ,
            Cu.prototype.getMinX = function() {
                return this._minx
            }
            ,
            Cu.prototype.expandToInclude = function() {
                if (1 === arguments.length) {
                    if (arguments[0]instanceof Ja) {
                        var t = arguments[0];
                        this.expandToInclude(t.x, t.y)
                    } else if (arguments[0]instanceof Cu) {
                        var e = arguments[0];
                        if (e.isNull())
                            return null;
                        this.isNull() ? (this._minx = e.getMinX(),
                        this._maxx = e.getMaxX(),
                        this._miny = e.getMinY(),
                        this._maxy = e.getMaxY()) : (e._minx < this._minx && (this._minx = e._minx),
                        e._maxx > this._maxx && (this._maxx = e._maxx),
                        e._miny < this._miny && (this._miny = e._miny),
                        e._maxy > this._maxy && (this._maxy = e._maxy))
                    }
                } else if (2 === arguments.length) {
                    var n = arguments[0]
                      , i = arguments[1];
                    this.isNull() ? (this._minx = n,
                    this._maxx = n,
                    this._miny = i,
                    this._maxy = i) : (n < this._minx && (this._minx = n),
                    n > this._maxx && (this._maxx = n),
                    i < this._miny && (this._miny = i),
                    i > this._maxy && (this._maxy = i))
                }
            }
            ,
            Cu.prototype.minExtent = function() {
                if (this.isNull())
                    return 0;
                var t = this.getWidth()
                  , e = this.getHeight();
                return t < e ? t : e
            }
            ,
            Cu.prototype.getWidth = function() {
                return this.isNull() ? 0 : this._maxx - this._minx
            }
            ,
            Cu.prototype.compareTo = function(t) {
                var e = t;
                return this.isNull() ? e.isNull() ? 0 : -1 : e.isNull() ? 1 : this._minx < e._minx ? -1 : this._minx > e._minx ? 1 : this._miny < e._miny ? -1 : this._miny > e._miny ? 1 : this._maxx < e._maxx ? -1 : this._maxx > e._maxx ? 1 : this._maxy < e._maxy ? -1 : this._maxy > e._maxy ? 1 : 0
            }
            ,
            Cu.prototype.translate = function(t, e) {
                if (this.isNull())
                    return null;
                this.init(this.getMinX() + t, this.getMaxX() + t, this.getMinY() + e, this.getMaxY() + e)
            }
            ,
            Cu.prototype.toString = function() {
                return "Env[" + this._minx + " : " + this._maxx + ", " + this._miny + " : " + this._maxy + "]"
            }
            ,
            Cu.prototype.setToNull = function() {
                this._minx = 0,
                this._maxx = -1,
                this._miny = 0,
                this._maxy = -1
            }
            ,
            Cu.prototype.getHeight = function() {
                return this.isNull() ? 0 : this._maxy - this._miny
            }
            ,
            Cu.prototype.maxExtent = function() {
                if (this.isNull())
                    return 0;
                var t = this.getWidth()
                  , e = this.getHeight();
                return t > e ? t : e
            }
            ,
            Cu.prototype.expandBy = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    this.expandBy(t, t)
                } else if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1];
                    if (this.isNull())
                        return null;
                    this._minx -= e,
                    this._maxx += e,
                    this._miny -= n,
                    this._maxy += n,
                    (this._minx > this._maxx || this._miny > this._maxy) && this.setToNull()
                }
            }
            ,
            Cu.prototype.contains = function() {
                if (1 === arguments.length) {
                    if (arguments[0]instanceof Cu) {
                        var t = arguments[0];
                        return this.covers(t)
                    }
                    if (arguments[0]instanceof Ja) {
                        var e = arguments[0];
                        return this.covers(e)
                    }
                } else if (2 === arguments.length) {
                    var n = arguments[0]
                      , i = arguments[1];
                    return this.covers(n, i)
                }
            }
            ,
            Cu.prototype.centre = function() {
                return this.isNull() ? null : new Ja((this.getMinX() + this.getMaxX()) / 2,(this.getMinY() + this.getMaxY()) / 2)
            }
            ,
            Cu.prototype.init = function() {
                if (0 === arguments.length)
                    this.setToNull();
                else if (1 === arguments.length) {
                    if (arguments[0]instanceof Ja) {
                        var t = arguments[0];
                        this.init(t.x, t.x, t.y, t.y)
                    } else if (arguments[0]instanceof Cu) {
                        var e = arguments[0];
                        this._minx = e._minx,
                        this._maxx = e._maxx,
                        this._miny = e._miny,
                        this._maxy = e._maxy
                    }
                } else if (2 === arguments.length) {
                    var n = arguments[0]
                      , i = arguments[1];
                    this.init(n.x, i.x, n.y, i.y)
                } else if (4 === arguments.length) {
                    var r = arguments[0]
                      , o = arguments[1]
                      , s = arguments[2]
                      , a = arguments[3];
                    r < o ? (this._minx = r,
                    this._maxx = o) : (this._minx = o,
                    this._maxx = r),
                    s < a ? (this._miny = s,
                    this._maxy = a) : (this._miny = a,
                    this._maxy = s)
                }
            }
            ,
            Cu.prototype.getMaxY = function() {
                return this._maxy
            }
            ,
            Cu.prototype.distance = function(t) {
                if (this.intersects(t))
                    return 0;
                var e = 0;
                this._maxx < t._minx ? e = t._minx - this._maxx : this._minx > t._maxx && (e = this._minx - t._maxx);
                var n = 0;
                return this._maxy < t._miny ? n = t._miny - this._maxy : this._miny > t._maxy && (n = this._miny - t._maxy),
                0 === e ? n : 0 === n ? e : Math.sqrt(e * e + n * n)
            }
            ,
            Cu.prototype.hashCode = function() {
                var t = 17;
                return 37 * (t = 37 * (t = 37 * (t = 37 * t + Ja.hashCode(this._minx)) + Ja.hashCode(this._maxx)) + Ja.hashCode(this._miny)) + Ja.hashCode(this._maxy)
            }
            ,
            Cu.prototype.interfaces_ = function() {
                return [Ka, yr]
            }
            ,
            Cu.prototype.getClass = function() {
                return Cu
            }
            ,
            Cu.intersects = function() {
                if (3 === arguments.length) {
                    var t = arguments[0]
                      , e = arguments[1]
                      , n = arguments[2];
                    return n.x >= (t.x < e.x ? t.x : e.x) && n.x <= (t.x > e.x ? t.x : e.x) && n.y >= (t.y < e.y ? t.y : e.y) && n.y <= (t.y > e.y ? t.y : e.y)
                }
                if (4 === arguments.length) {
                    var i = arguments[0]
                      , r = arguments[1]
                      , o = arguments[2]
                      , s = arguments[3]
                      , a = Math.min(o.x, s.x)
                      , u = Math.max(o.x, s.x)
                      , l = Math.min(i.x, r.x)
                      , c = Math.max(i.x, r.x);
                    return !(l > u || c < a || (a = Math.min(o.y, s.y),
                    u = Math.max(o.y, s.y),
                    l = Math.min(i.y, r.y),
                    c = Math.max(i.y, r.y),
                    l > u || c < a))
                }
            }
            ,
            wu.serialVersionUID.get = function() {
                return 0x51845cd552189800
            }
            ,
            Object.defineProperties(Cu, wu);
            var bu = {
                typeStr: /^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,
                emptyTypeStr: /^\s*(\w+)\s*EMPTY\s*$/,
                spaces: /\s+/,
                parenComma: /\)\s*,\s*\(/,
                doubleParenComma: /\)\s*\)\s*,\s*\(\s*\(/,
                trimParens: /^\s*\(?(.*?)\)?\s*$/
            }
              , xu = function(t) {
                this.geometryFactory = t || new Xl
            };
            xu.prototype.read = function(t) {
                var e, n, i;
                t = t.replace(/[\n\r]/g, " ");
                var r = bu.typeStr.exec(t);
                if (-1 !== t.search("EMPTY") && ((r = bu.emptyTypeStr.exec(t))[2] = void 0),
                r && (n = r[1].toLowerCase(),
                i = r[2],
                Pu[n] && (e = Pu[n].apply(this, [i]))),
                void 0 === e)
                    throw new Error("Could not parse WKT " + t);
                return e
            }
            ,
            xu.prototype.write = function(t) {
                return this.extractGeometry(t)
            }
            ,
            xu.prototype.extractGeometry = function(t) {
                var e = t.getGeometryType().toLowerCase();
                if (!Iu[e])
                    return null;
                var n = e.toUpperCase();
                return t.isEmpty() ? n + " EMPTY" : n + "(" + Iu[e].apply(this, [t]) + ")"
            }
            ;
            var Iu = {
                coordinate: function(t) {
                    return t.x + " " + t.y
                },
                point: function(t) {
                    return Iu.coordinate.call(this, t._coordinates._coordinates[0])
                },
                multipoint: function(t) {
                    for (var e = [], n = 0, i = t._geometries.length; n < i; ++n)
                        e.push("(" + Iu.point.apply(this, [t._geometries[n]]) + ")");
                    return e.join(",")
                },
                linestring: function(t) {
                    for (var e = [], n = 0, i = t._points._coordinates.length; n < i; ++n)
                        e.push(Iu.coordinate.apply(this, [t._points._coordinates[n]]));
                    return e.join(",")
                },
                linearring: function(t) {
                    for (var e = [], n = 0, i = t._points._coordinates.length; n < i; ++n)
                        e.push(Iu.coordinate.apply(this, [t._points._coordinates[n]]));
                    return e.join(",")
                },
                multilinestring: function(t) {
                    for (var e = [], n = 0, i = t._geometries.length; n < i; ++n)
                        e.push("(" + Iu.linestring.apply(this, [t._geometries[n]]) + ")");
                    return e.join(",")
                },
                polygon: function(t) {
                    var e = [];
                    e.push("(" + Iu.linestring.apply(this, [t._shell]) + ")");
                    for (var n = 0, i = t._holes.length; n < i; ++n)
                        e.push("(" + Iu.linestring.apply(this, [t._holes[n]]) + ")");
                    return e.join(",")
                },
                multipolygon: function(t) {
                    for (var e = [], n = 0, i = t._geometries.length; n < i; ++n)
                        e.push("(" + Iu.polygon.apply(this, [t._geometries[n]]) + ")");
                    return e.join(",")
                },
                geometrycollection: function(t) {
                    for (var e = [], n = 0, i = t._geometries.length; n < i; ++n)
                        e.push(this.extractGeometry(t._geometries[n]));
                    return e.join(",")
                }
            }
              , Pu = {
                point: function(t) {
                    if (void 0 === t)
                        return this.geometryFactory.createPoint();
                    var e = t.trim().split(bu.spaces);
                    return this.geometryFactory.createPoint(new Ja(Number.parseFloat(e[0]),Number.parseFloat(e[1])))
                },
                multipoint: function(t) {
                    if (void 0 === t)
                        return this.geometryFactory.createMultiPoint();
                    for (var e, n = t.trim().split(","), i = [], r = 0, o = n.length; r < o; ++r)
                        e = n[r].replace(bu.trimParens, "$1"),
                        i.push(Pu.point.apply(this, [e]));
                    return this.geometryFactory.createMultiPoint(i)
                },
                linestring: function(t) {
                    if (void 0 === t)
                        return this.geometryFactory.createLineString();
                    for (var e, n = t.trim().split(","), i = [], r = 0, o = n.length; r < o; ++r)
                        e = n[r].trim().split(bu.spaces),
                        i.push(new Ja(Number.parseFloat(e[0]),Number.parseFloat(e[1])));
                    return this.geometryFactory.createLineString(i)
                },
                linearring: function(t) {
                    if (void 0 === t)
                        return this.geometryFactory.createLinearRing();
                    for (var e, n = t.trim().split(","), i = [], r = 0, o = n.length; r < o; ++r)
                        e = n[r].trim().split(bu.spaces),
                        i.push(new Ja(Number.parseFloat(e[0]),Number.parseFloat(e[1])));
                    return this.geometryFactory.createLinearRing(i)
                },
                multilinestring: function(t) {
                    if (void 0 === t)
                        return this.geometryFactory.createMultiLineString();
                    for (var e, n = t.trim().split(bu.parenComma), i = [], r = 0, o = n.length; r < o; ++r)
                        e = n[r].replace(bu.trimParens, "$1"),
                        i.push(Pu.linestring.apply(this, [e]));
                    return this.geometryFactory.createMultiLineString(i)
                },
                polygon: function(t) {
                    if (void 0 === t)
                        return this.geometryFactory.createPolygon();
                    for (var e, n, i, r, o = t.trim().split(bu.parenComma), s = [], a = 0, u = o.length; a < u; ++a)
                        e = o[a].replace(bu.trimParens, "$1"),
                        n = Pu.linestring.apply(this, [e]),
                        i = this.geometryFactory.createLinearRing(n._points),
                        0 === a ? r = i : s.push(i);
                    return this.geometryFactory.createPolygon(r, s)
                },
                multipolygon: function(t) {
                    if (void 0 === t)
                        return this.geometryFactory.createMultiPolygon();
                    for (var e, n = t.trim().split(bu.doubleParenComma), i = [], r = 0, o = n.length; r < o; ++r)
                        e = n[r].replace(bu.trimParens, "$1"),
                        i.push(Pu.polygon.apply(this, [e]));
                    return this.geometryFactory.createMultiPolygon(i)
                },
                geometrycollection: function(t) {
                    if (void 0 === t)
                        return this.geometryFactory.createGeometryCollection();
                    for (var e = (t = t.replace(/,\s*([A-Za-z])/g, "|$1")).trim().split("|"), n = [], i = 0, r = e.length; i < r; ++i)
                        n.push(this.read(e[i]));
                    return this.geometryFactory.createGeometryCollection(n)
                }
            }
              , Lu = function(t) {
                this.parser = new xu(t)
            };
            Lu.prototype.write = function(t) {
                return this.parser.write(t)
            }
            ,
            Lu.toLineString = function(t, e) {
                if (2 !== arguments.length)
                    throw new Error("Not implemented");
                return "LINESTRING ( " + t.x + " " + t.y + ", " + e.x + " " + e.y + " )"
            }
            ;
            var Su = function(t) {
                function e(e) {
                    t.call(this, e),
                    this.name = "RuntimeException",
                    this.message = e,
                    this.stack = (new t).stack
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e
            }(Error)
              , Nu = function(t) {
                function e() {
                    if (t.call(this),
                    0 === arguments.length)
                        t.call(this);
                    else if (1 === arguments.length) {
                        var e = arguments[0];
                        t.call(this, e)
                    }
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                e
            }(Su)
              , Mu = function() {};
            Mu.prototype.interfaces_ = function() {
                return []
            }
            ,
            Mu.prototype.getClass = function() {
                return Mu
            }
            ,
            Mu.shouldNeverReachHere = function() {
                if (0 === arguments.length)
                    Mu.shouldNeverReachHere(null);
                else if (1 === arguments.length) {
                    var t = arguments[0];
                    throw new Nu("Should never reach here" + (null !== t ? ": " + t : ""))
                }
            }
            ,
            Mu.isTrue = function() {
                var t, e;
                if (1 === arguments.length)
                    t = arguments[0],
                    Mu.isTrue(t, null);
                else if (2 === arguments.length && (t = arguments[0],
                e = arguments[1],
                !t))
                    throw null === e ? new Nu : new Nu(e)
            }
            ,
            Mu.equals = function() {
                var t, e, n;
                if (2 === arguments.length)
                    t = arguments[0],
                    e = arguments[1],
                    Mu.equals(t, e, null);
                else if (3 === arguments.length && (t = arguments[0],
                e = arguments[1],
                n = arguments[2],
                !e.equals(t)))
                    throw new Nu("Expected " + t + " but encountered " + e + (null !== n ? ": " + n : ""))
            }
            ;
            var Tu = function() {
                this._result = null,
                this._inputLines = Array(2).fill().map(function() {
                    return Array(2)
                }),
                this._intPt = new Array(2).fill(null),
                this._intLineIndex = null,
                this._isProper = null,
                this._pa = null,
                this._pb = null,
                this._precisionModel = null,
                this._intPt[0] = new Ja,
                this._intPt[1] = new Ja,
                this._pa = this._intPt[0],
                this._pb = this._intPt[1],
                this._result = 0
            }
              , Ou = {
                DONT_INTERSECT: {
                    configurable: !0
                },
                DO_INTERSECT: {
                    configurable: !0
                },
                COLLINEAR: {
                    configurable: !0
                },
                NO_INTERSECTION: {
                    configurable: !0
                },
                POINT_INTERSECTION: {
                    configurable: !0
                },
                COLLINEAR_INTERSECTION: {
                    configurable: !0
                }
            };
            Tu.prototype.getIndexAlongSegment = function(t, e) {
                return this.computeIntLineIndex(),
                this._intLineIndex[t][e]
            }
            ,
            Tu.prototype.getTopologySummary = function() {
                var t = new uu;
                return this.isEndPoint() && t.append(" endpoint"),
                this._isProper && t.append(" proper"),
                this.isCollinear() && t.append(" collinear"),
                t.toString()
            }
            ,
            Tu.prototype.computeIntersection = function(t, e, n, i) {
                this._inputLines[0][0] = t,
                this._inputLines[0][1] = e,
                this._inputLines[1][0] = n,
                this._inputLines[1][1] = i,
                this._result = this.computeIntersect(t, e, n, i)
            }
            ,
            Tu.prototype.getIntersectionNum = function() {
                return this._result
            }
            ,
            Tu.prototype.computeIntLineIndex = function() {
                if (0 === arguments.length)
                    null === this._intLineIndex && (this._intLineIndex = Array(2).fill().map(function() {
                        return Array(2)
                    }),
                    this.computeIntLineIndex(0),
                    this.computeIntLineIndex(1));
                else if (1 === arguments.length) {
                    var t = arguments[0];
                    this.getEdgeDistance(t, 0) > this.getEdgeDistance(t, 1) ? (this._intLineIndex[t][0] = 0,
                    this._intLineIndex[t][1] = 1) : (this._intLineIndex[t][0] = 1,
                    this._intLineIndex[t][1] = 0)
                }
            }
            ,
            Tu.prototype.isProper = function() {
                return this.hasIntersection() && this._isProper
            }
            ,
            Tu.prototype.setPrecisionModel = function(t) {
                this._precisionModel = t
            }
            ,
            Tu.prototype.isInteriorIntersection = function() {
                if (0 === arguments.length)
                    return !!this.isInteriorIntersection(0) || !!this.isInteriorIntersection(1);
                if (1 === arguments.length) {
                    for (var t = arguments[0], e = 0; e < this._result; e++)
                        if (!this._intPt[e].equals2D(this._inputLines[t][0]) && !this._intPt[e].equals2D(this._inputLines[t][1]))
                            return !0;
                    return !1
                }
            }
            ,
            Tu.prototype.getIntersection = function(t) {
                return this._intPt[t]
            }
            ,
            Tu.prototype.isEndPoint = function() {
                return this.hasIntersection() && !this._isProper
            }
            ,
            Tu.prototype.hasIntersection = function() {
                return this._result !== Tu.NO_INTERSECTION
            }
            ,
            Tu.prototype.getEdgeDistance = function(t, e) {
                return Tu.computeEdgeDistance(this._intPt[e], this._inputLines[t][0], this._inputLines[t][1])
            }
            ,
            Tu.prototype.isCollinear = function() {
                return this._result === Tu.COLLINEAR_INTERSECTION
            }
            ,
            Tu.prototype.toString = function() {
                return Lu.toLineString(this._inputLines[0][0], this._inputLines[0][1]) + " - " + Lu.toLineString(this._inputLines[1][0], this._inputLines[1][1]) + this.getTopologySummary()
            }
            ,
            Tu.prototype.getEndpoint = function(t, e) {
                return this._inputLines[t][e]
            }
            ,
            Tu.prototype.isIntersection = function(t) {
                for (var e = 0; e < this._result; e++)
                    if (this._intPt[e].equals2D(t))
                        return !0;
                return !1
            }
            ,
            Tu.prototype.getIntersectionAlongSegment = function(t, e) {
                return this.computeIntLineIndex(),
                this._intPt[this._intLineIndex[t][e]]
            }
            ,
            Tu.prototype.interfaces_ = function() {
                return []
            }
            ,
            Tu.prototype.getClass = function() {
                return Tu
            }
            ,
            Tu.computeEdgeDistance = function(t, e, n) {
                var i = Math.abs(n.x - e.x)
                  , r = Math.abs(n.y - e.y)
                  , o = -1;
                if (t.equals(e))
                    o = 0;
                else if (t.equals(n))
                    o = i > r ? i : r;
                else {
                    var s = Math.abs(t.x - e.x)
                      , a = Math.abs(t.y - e.y);
                    0 !== (o = i > r ? s : a) || t.equals(e) || (o = Math.max(s, a))
                }
                return Mu.isTrue(!(0 === o && !t.equals(e)), "Bad distance calculation"),
                o
            }
            ,
            Tu.nonRobustComputeEdgeDistance = function(t, e, n) {
                var i = t.x - e.x
                  , r = t.y - e.y
                  , o = Math.sqrt(i * i + r * r);
                return Mu.isTrue(!(0 === o && !t.equals(e)), "Invalid distance calculation"),
                o
            }
            ,
            Ou.DONT_INTERSECT.get = function() {
                return 0
            }
            ,
            Ou.DO_INTERSECT.get = function() {
                return 1
            }
            ,
            Ou.COLLINEAR.get = function() {
                return 2
            }
            ,
            Ou.NO_INTERSECTION.get = function() {
                return 0
            }
            ,
            Ou.POINT_INTERSECTION.get = function() {
                return 1
            }
            ,
            Ou.COLLINEAR_INTERSECTION.get = function() {
                return 2
            }
            ,
            Object.defineProperties(Tu, Ou);
            var Au = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.isInSegmentEnvelopes = function(t) {
                    var e = new Cu(this._inputLines[0][0],this._inputLines[0][1])
                      , n = new Cu(this._inputLines[1][0],this._inputLines[1][1]);
                    return e.contains(t) && n.contains(t)
                }
                ,
                e.prototype.computeIntersection = function() {
                    if (3 !== arguments.length)
                        return t.prototype.computeIntersection.apply(this, arguments);
                    var e = arguments[0]
                      , n = arguments[1]
                      , i = arguments[2];
                    if (this._isProper = !1,
                    Cu.intersects(n, i, e) && 0 === ku.orientationIndex(n, i, e) && 0 === ku.orientationIndex(i, n, e))
                        return this._isProper = !0,
                        (e.equals(n) || e.equals(i)) && (this._isProper = !1),
                        this._result = t.POINT_INTERSECTION,
                        null;
                    this._result = t.NO_INTERSECTION
                }
                ,
                e.prototype.normalizeToMinimum = function(t, e, n, i, r) {
                    r.x = this.smallestInAbsValue(t.x, e.x, n.x, i.x),
                    r.y = this.smallestInAbsValue(t.y, e.y, n.y, i.y),
                    t.x -= r.x,
                    t.y -= r.y,
                    e.x -= r.x,
                    e.y -= r.y,
                    n.x -= r.x,
                    n.y -= r.y,
                    i.x -= r.x,
                    i.y -= r.y
                }
                ,
                e.prototype.safeHCoordinateIntersection = function(t, n, i, r) {
                    var o = null;
                    try {
                        o = Eu.intersection(t, n, i, r)
                    } catch (s) {
                        if (!(s instanceof mu))
                            throw s;
                        o = e.nearestEndpoint(t, n, i, r)
                    }
                    return o
                }
                ,
                e.prototype.intersection = function(t, n, i, r) {
                    var o = this.intersectionWithNormalization(t, n, i, r);
                    return this.isInSegmentEnvelopes(o) || (o = new Ja(e.nearestEndpoint(t, n, i, r))),
                    null !== this._precisionModel && this._precisionModel.makePrecise(o),
                    o
                }
                ,
                e.prototype.smallestInAbsValue = function(t, e, n, i) {
                    var r = t
                      , o = Math.abs(r);
                    return Math.abs(e) < o && (r = e,
                    o = Math.abs(e)),
                    Math.abs(n) < o && (r = n,
                    o = Math.abs(n)),
                    Math.abs(i) < o && (r = i),
                    r
                }
                ,
                e.prototype.checkDD = function(t, e, n, i, r) {
                    var o = fu.intersection(t, e, n, i)
                      , s = this.isInSegmentEnvelopes(o);
                    _u.out.println("DD in env = " + s + "  --------------------- " + o),
                    r.distance(o) > 1e-4 && _u.out.println("Distance = " + r.distance(o))
                }
                ,
                e.prototype.intersectionWithNormalization = function(t, e, n, i) {
                    var r = new Ja(t)
                      , o = new Ja(e)
                      , s = new Ja(n)
                      , a = new Ja(i)
                      , u = new Ja;
                    this.normalizeToEnvCentre(r, o, s, a, u);
                    var l = this.safeHCoordinateIntersection(r, o, s, a);
                    return l.x += u.x,
                    l.y += u.y,
                    l
                }
                ,
                e.prototype.computeCollinearIntersection = function(e, n, i, r) {
                    var o = Cu.intersects(e, n, i)
                      , s = Cu.intersects(e, n, r)
                      , a = Cu.intersects(i, r, e)
                      , u = Cu.intersects(i, r, n);
                    return o && s ? (this._intPt[0] = i,
                    this._intPt[1] = r,
                    t.COLLINEAR_INTERSECTION) : a && u ? (this._intPt[0] = e,
                    this._intPt[1] = n,
                    t.COLLINEAR_INTERSECTION) : o && a ? (this._intPt[0] = i,
                    this._intPt[1] = e,
                    !i.equals(e) || s || u ? t.COLLINEAR_INTERSECTION : t.POINT_INTERSECTION) : o && u ? (this._intPt[0] = i,
                    this._intPt[1] = n,
                    !i.equals(n) || s || a ? t.COLLINEAR_INTERSECTION : t.POINT_INTERSECTION) : s && a ? (this._intPt[0] = r,
                    this._intPt[1] = e,
                    !r.equals(e) || o || u ? t.COLLINEAR_INTERSECTION : t.POINT_INTERSECTION) : s && u ? (this._intPt[0] = r,
                    this._intPt[1] = n,
                    !r.equals(n) || o || a ? t.COLLINEAR_INTERSECTION : t.POINT_INTERSECTION) : t.NO_INTERSECTION
                }
                ,
                e.prototype.normalizeToEnvCentre = function(t, e, n, i, r) {
                    var o = t.x < e.x ? t.x : e.x
                      , s = t.y < e.y ? t.y : e.y
                      , a = t.x > e.x ? t.x : e.x
                      , u = t.y > e.y ? t.y : e.y
                      , l = n.x < i.x ? n.x : i.x
                      , c = n.y < i.y ? n.y : i.y
                      , h = n.x > i.x ? n.x : i.x
                      , p = n.y > i.y ? n.y : i.y
                      , f = ((o > l ? o : l) + (a < h ? a : h)) / 2
                      , d = ((s > c ? s : c) + (u < p ? u : p)) / 2;
                    r.x = f,
                    r.y = d,
                    t.x -= r.x,
                    t.y -= r.y,
                    e.x -= r.x,
                    e.y -= r.y,
                    n.x -= r.x,
                    n.y -= r.y,
                    i.x -= r.x,
                    i.y -= r.y
                }
                ,
                e.prototype.computeIntersect = function(e, n, i, r) {
                    if (this._isProper = !1,
                    !Cu.intersects(e, n, i, r))
                        return t.NO_INTERSECTION;
                    var o = ku.orientationIndex(e, n, i)
                      , s = ku.orientationIndex(e, n, r);
                    if (o > 0 && s > 0 || o < 0 && s < 0)
                        return t.NO_INTERSECTION;
                    var a = ku.orientationIndex(i, r, e)
                      , u = ku.orientationIndex(i, r, n);
                    return a > 0 && u > 0 || a < 0 && u < 0 ? t.NO_INTERSECTION : 0 === o && 0 === s && 0 === a && 0 === u ? this.computeCollinearIntersection(e, n, i, r) : (0 === o || 0 === s || 0 === a || 0 === u ? (this._isProper = !1,
                    e.equals2D(i) || e.equals2D(r) ? this._intPt[0] = e : n.equals2D(i) || n.equals2D(r) ? this._intPt[0] = n : 0 === o ? this._intPt[0] = new Ja(i) : 0 === s ? this._intPt[0] = new Ja(r) : 0 === a ? this._intPt[0] = new Ja(e) : 0 === u && (this._intPt[0] = new Ja(n))) : (this._isProper = !0,
                    this._intPt[0] = this.intersection(e, n, i, r)),
                    t.POINT_INTERSECTION)
                }
                ,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                e.nearestEndpoint = function(t, e, n, i) {
                    var r = t
                      , o = ku.distancePointLine(t, n, i)
                      , s = ku.distancePointLine(e, n, i);
                    return s < o && (o = s,
                    r = e),
                    (s = ku.distancePointLine(n, t, e)) < o && (o = s,
                    r = n),
                    (s = ku.distancePointLine(i, t, e)) < o && (o = s,
                    r = i),
                    r
                }
                ,
                e
            }(Tu)
              , Du = function() {};
            Du.prototype.interfaces_ = function() {
                return []
            }
            ,
            Du.prototype.getClass = function() {
                return Du
            }
            ,
            Du.orientationIndex = function(t, e, n) {
                var i = e.x - t.x
                  , r = e.y - t.y
                  , o = n.x - e.x
                  , s = n.y - e.y;
                return Du.signOfDet2x2(i, r, o, s)
            }
            ,
            Du.signOfDet2x2 = function(t, e, n, i) {
                var r = null
                  , o = null
                  , s = null;
                if (r = 1,
                0 === t || 0 === i)
                    return 0 === e || 0 === n ? 0 : e > 0 ? n > 0 ? -r : r : n > 0 ? r : -r;
                if (0 === e || 0 === n)
                    return i > 0 ? t > 0 ? r : -r : t > 0 ? -r : r;
                if (e > 0 ? i > 0 ? e <= i || (r = -r,
                o = t,
                t = n,
                n = o,
                o = e,
                e = i,
                i = o) : e <= -i ? (r = -r,
                n = -n,
                i = -i) : (o = t,
                t = -n,
                n = o,
                o = e,
                e = -i,
                i = o) : i > 0 ? -e <= i ? (r = -r,
                t = -t,
                e = -e) : (o = -t,
                t = n,
                n = o,
                o = -e,
                e = i,
                i = o) : e >= i ? (t = -t,
                e = -e,
                n = -n,
                i = -i) : (r = -r,
                o = -t,
                t = -n,
                n = o,
                o = -e,
                e = -i,
                i = o),
                t > 0) {
                    if (!(n > 0))
                        return r;
                    if (!(t <= n))
                        return r
                } else {
                    if (n > 0)
                        return -r;
                    if (!(t >= n))
                        return -r;
                    r = -r,
                    t = -t,
                    n = -n
                }
                for (; ; ) {
                    if (n -= (s = Math.floor(n / t)) * t,
                    (i -= s * e) < 0)
                        return -r;
                    if (i > e)
                        return r;
                    if (t > n + n) {
                        if (e < i + i)
                            return r
                    } else {
                        if (e > i + i)
                            return -r;
                        n = t - n,
                        i = e - i,
                        r = -r
                    }
                    if (0 === i)
                        return 0 === n ? 0 : -r;
                    if (0 === n)
                        return r;
                    if (t -= (s = Math.floor(t / n)) * n,
                    (e -= s * i) < 0)
                        return r;
                    if (e > i)
                        return -r;
                    if (n > t + t) {
                        if (i < e + e)
                            return -r
                    } else {
                        if (i > e + e)
                            return r;
                        t = n - t,
                        e = i - e,
                        r = -r
                    }
                    if (0 === e)
                        return 0 === t ? 0 : r;
                    if (0 === t)
                        return -r
                }
            }
            ;
            var Ru = function() {
                this._p = null,
                this._crossingCount = 0,
                this._isPointOnSegment = !1;
                var t = arguments[0];
                this._p = t
            };
            Ru.prototype.countSegment = function(t, e) {
                if (t.x < this._p.x && e.x < this._p.x)
                    return null;
                if (this._p.x === e.x && this._p.y === e.y)
                    return this._isPointOnSegment = !0,
                    null;
                if (t.y === this._p.y && e.y === this._p.y) {
                    var n = t.x
                      , i = e.x;
                    return n > i && (n = e.x,
                    i = t.x),
                    this._p.x >= n && this._p.x <= i && (this._isPointOnSegment = !0),
                    null
                }
                if (t.y > this._p.y && e.y <= this._p.y || e.y > this._p.y && t.y <= this._p.y) {
                    var r = t.x - this._p.x
                      , o = t.y - this._p.y
                      , s = e.x - this._p.x
                      , a = e.y - this._p.y
                      , u = Du.signOfDet2x2(r, o, s, a);
                    if (0 === u)
                        return this._isPointOnSegment = !0,
                        null;
                    a < o && (u = -u),
                    u > 0 && this._crossingCount++
                }
            }
            ,
            Ru.prototype.isPointInPolygon = function() {
                return this.getLocation() !== iu.EXTERIOR
            }
            ,
            Ru.prototype.getLocation = function() {
                return this._isPointOnSegment ? iu.BOUNDARY : this._crossingCount % 2 == 1 ? iu.INTERIOR : iu.EXTERIOR
            }
            ,
            Ru.prototype.isOnSegment = function() {
                return this._isPointOnSegment
            }
            ,
            Ru.prototype.interfaces_ = function() {
                return []
            }
            ,
            Ru.prototype.getClass = function() {
                return Ru
            }
            ,
            Ru.locatePointInRing = function() {
                if (arguments[0]instanceof Ja && ou(arguments[1], gu)) {
                    for (var t = arguments[0], e = arguments[1], n = new Ru(t), i = new Ja, r = new Ja, o = 1; o < e.size(); o++)
                        if (e.getCoordinate(o, i),
                        e.getCoordinate(o - 1, r),
                        n.countSegment(i, r),
                        n.isOnSegment())
                            return n.getLocation();
                    return n.getLocation()
                }
                if (arguments[0]instanceof Ja && arguments[1]instanceof Array) {
                    for (var s = arguments[0], a = arguments[1], u = new Ru(s), l = 1; l < a.length; l++) {
                        var c = a[l]
                          , h = a[l - 1];
                        if (u.countSegment(c, h),
                        u.isOnSegment())
                            return u.getLocation()
                    }
                    return u.getLocation()
                }
            }
            ;
            var ku = function() {}
              , Fu = {
                CLOCKWISE: {
                    configurable: !0
                },
                RIGHT: {
                    configurable: !0
                },
                COUNTERCLOCKWISE: {
                    configurable: !0
                },
                LEFT: {
                    configurable: !0
                },
                COLLINEAR: {
                    configurable: !0
                },
                STRAIGHT: {
                    configurable: !0
                }
            };
            ku.prototype.interfaces_ = function() {
                return []
            }
            ,
            ku.prototype.getClass = function() {
                return ku
            }
            ,
            ku.orientationIndex = function(t, e, n) {
                return fu.orientationIndex(t, e, n)
            }
            ,
            ku.signedArea = function() {
                if (arguments[0]instanceof Array) {
                    var t = arguments[0];
                    if (t.length < 3)
                        return 0;
                    for (var e = 0, n = t[0].x, i = 1; i < t.length - 1; i++) {
                        var r = t[i].x - n
                          , o = t[i + 1].y;
                        e += r * (t[i - 1].y - o)
                    }
                    return e / 2
                }
                if (ou(arguments[0], gu)) {
                    var s = arguments[0]
                      , a = s.size();
                    if (a < 3)
                        return 0;
                    var u = new Ja
                      , l = new Ja
                      , c = new Ja;
                    s.getCoordinate(0, l),
                    s.getCoordinate(1, c);
                    var h = l.x;
                    c.x -= h;
                    for (var p = 0, f = 1; f < a - 1; f++)
                        u.y = l.y,
                        l.x = c.x,
                        l.y = c.y,
                        s.getCoordinate(f + 1, c),
                        c.x -= h,
                        p += l.x * (u.y - c.y);
                    return p / 2
                }
            }
            ,
            ku.distanceLineLine = function(t, e, n, i) {
                if (t.equals(e))
                    return ku.distancePointLine(t, n, i);
                if (n.equals(i))
                    return ku.distancePointLine(i, t, e);
                var r = !1;
                if (Cu.intersects(t, e, n, i)) {
                    var o = (e.x - t.x) * (i.y - n.y) - (e.y - t.y) * (i.x - n.x);
                    if (0 === o)
                        r = !0;
                    else {
                        var s = (t.y - n.y) * (i.x - n.x) - (t.x - n.x) * (i.y - n.y)
                          , a = ((t.y - n.y) * (e.x - t.x) - (t.x - n.x) * (e.y - t.y)) / o
                          , u = s / o;
                        (u < 0 || u > 1 || a < 0 || a > 1) && (r = !0)
                    }
                } else
                    r = !0;
                return r ? su.min(ku.distancePointLine(t, n, i), ku.distancePointLine(e, n, i), ku.distancePointLine(n, t, e), ku.distancePointLine(i, t, e)) : 0
            }
            ,
            ku.isPointInRing = function(t, e) {
                return ku.locatePointInRing(t, e) !== iu.EXTERIOR
            }
            ,
            ku.computeLength = function(t) {
                var e = t.size();
                if (e <= 1)
                    return 0;
                var n = 0
                  , i = new Ja;
                t.getCoordinate(0, i);
                for (var r = i.x, o = i.y, s = 1; s < e; s++) {
                    t.getCoordinate(s, i);
                    var a = i.x
                      , u = i.y
                      , l = a - r
                      , c = u - o;
                    n += Math.sqrt(l * l + c * c),
                    r = a,
                    o = u
                }
                return n
            }
            ,
            ku.isCCW = function(t) {
                var e = t.length - 1;
                if (e < 3)
                    throw new Xa("Ring has fewer than 4 points, so orientation cannot be determined");
                for (var n = t[0], i = 0, r = 1; r <= e; r++) {
                    var o = t[r];
                    o.y > n.y && (n = o,
                    i = r)
                }
                var s = i;
                do {
                    (s -= 1) < 0 && (s = e)
                } while (t[s].equals2D(n) && s !== i);
                var a = i;
                do {
                    a = (a + 1) % e
                } while (t[a].equals2D(n) && a !== i);
                var u = t[s]
                  , l = t[a];
                if (u.equals2D(n) || l.equals2D(n) || u.equals2D(l))
                    return !1;
                var c = ku.computeOrientation(u, n, l);
                return 0 === c ? u.x > l.x : c > 0
            }
            ,
            ku.locatePointInRing = function(t, e) {
                return Ru.locatePointInRing(t, e)
            }
            ,
            ku.distancePointLinePerpendicular = function(t, e, n) {
                var i = (n.x - e.x) * (n.x - e.x) + (n.y - e.y) * (n.y - e.y)
                  , r = ((e.y - t.y) * (n.x - e.x) - (e.x - t.x) * (n.y - e.y)) / i;
                return Math.abs(r) * Math.sqrt(i)
            }
            ,
            ku.computeOrientation = function(t, e, n) {
                return ku.orientationIndex(t, e, n)
            }
            ,
            ku.distancePointLine = function() {
                if (2 === arguments.length) {
                    var t = arguments[0]
                      , e = arguments[1];
                    if (0 === e.length)
                        throw new Xa("Line array must contain at least one vertex");
                    for (var n = t.distance(e[0]), i = 0; i < e.length - 1; i++) {
                        var r = ku.distancePointLine(t, e[i], e[i + 1]);
                        r < n && (n = r)
                    }
                    return n
                }
                if (3 === arguments.length) {
                    var o = arguments[0]
                      , s = arguments[1]
                      , a = arguments[2];
                    if (s.x === a.x && s.y === a.y)
                        return o.distance(s);
                    var u = (a.x - s.x) * (a.x - s.x) + (a.y - s.y) * (a.y - s.y)
                      , l = ((o.x - s.x) * (a.x - s.x) + (o.y - s.y) * (a.y - s.y)) / u;
                    if (l <= 0)
                        return o.distance(s);
                    if (l >= 1)
                        return o.distance(a);
                    var c = ((s.y - o.y) * (a.x - s.x) - (s.x - o.x) * (a.y - s.y)) / u;
                    return Math.abs(c) * Math.sqrt(u)
                }
            }
            ,
            ku.isOnLine = function(t, e) {
                for (var n = new Au, i = 1; i < e.length; i++) {
                    var r = e[i - 1]
                      , o = e[i];
                    if (n.computeIntersection(t, r, o),
                    n.hasIntersection())
                        return !0
                }
                return !1
            }
            ,
            Fu.CLOCKWISE.get = function() {
                return -1
            }
            ,
            Fu.RIGHT.get = function() {
                return ku.CLOCKWISE
            }
            ,
            Fu.COUNTERCLOCKWISE.get = function() {
                return 1
            }
            ,
            Fu.LEFT.get = function() {
                return ku.COUNTERCLOCKWISE
            }
            ,
            Fu.COLLINEAR.get = function() {
                return 0
            }
            ,
            Fu.STRAIGHT.get = function() {
                return ku.COLLINEAR
            }
            ,
            Object.defineProperties(ku, Fu);
            var Gu = function() {};
            Gu.prototype.filter = function(t) {}
            ,
            Gu.prototype.interfaces_ = function() {
                return []
            }
            ,
            Gu.prototype.getClass = function() {
                return Gu
            }
            ;
            var Bu = function() {
                var t = arguments[0];
                this._envelope = null,
                this._factory = null,
                this._SRID = null,
                this._userData = null,
                this._factory = t,
                this._SRID = t.getSRID()
            }
              , qu = {
                serialVersionUID: {
                    configurable: !0
                },
                SORTINDEX_POINT: {
                    configurable: !0
                },
                SORTINDEX_MULTIPOINT: {
                    configurable: !0
                },
                SORTINDEX_LINESTRING: {
                    configurable: !0
                },
                SORTINDEX_LINEARRING: {
                    configurable: !0
                },
                SORTINDEX_MULTILINESTRING: {
                    configurable: !0
                },
                SORTINDEX_POLYGON: {
                    configurable: !0
                },
                SORTINDEX_MULTIPOLYGON: {
                    configurable: !0
                },
                SORTINDEX_GEOMETRYCOLLECTION: {
                    configurable: !0
                },
                geometryChangedFilter: {
                    configurable: !0
                }
            };
            Bu.prototype.isGeometryCollection = function() {
                return this.getSortIndex() === Bu.SORTINDEX_GEOMETRYCOLLECTION
            }
            ,
            Bu.prototype.getFactory = function() {
                return this._factory
            }
            ,
            Bu.prototype.getGeometryN = function(t) {
                return this
            }
            ,
            Bu.prototype.getArea = function() {
                return 0
            }
            ,
            Bu.prototype.isRectangle = function() {
                return !1
            }
            ,
            Bu.prototype.equals = function() {
                if (arguments[0]instanceof Bu) {
                    var t = arguments[0];
                    return null !== t && this.equalsTopo(t)
                }
                if (arguments[0]instanceof Object) {
                    var e = arguments[0];
                    if (!(e instanceof Bu))
                        return !1;
                    var n = e;
                    return this.equalsExact(n)
                }
            }
            ,
            Bu.prototype.equalsExact = function(t) {
                return this === t || this.equalsExact(t, 0)
            }
            ,
            Bu.prototype.geometryChanged = function() {
                this.apply(Bu.geometryChangedFilter)
            }
            ,
            Bu.prototype.geometryChangedAction = function() {
                this._envelope = null
            }
            ,
            Bu.prototype.equalsNorm = function(t) {
                return null !== t && this.norm().equalsExact(t.norm())
            }
            ,
            Bu.prototype.getLength = function() {
                return 0
            }
            ,
            Bu.prototype.getNumGeometries = function() {
                return 1
            }
            ,
            Bu.prototype.compareTo = function() {
                if (1 === arguments.length) {
                    var t = arguments[0]
                      , e = t;
                    return this.getSortIndex() !== e.getSortIndex() ? this.getSortIndex() - e.getSortIndex() : this.isEmpty() && e.isEmpty() ? 0 : this.isEmpty() ? -1 : e.isEmpty() ? 1 : this.compareToSameClass(t)
                }
                if (2 === arguments.length) {
                    var n = arguments[0]
                      , i = arguments[1];
                    return this.getSortIndex() !== n.getSortIndex() ? this.getSortIndex() - n.getSortIndex() : this.isEmpty() && n.isEmpty() ? 0 : this.isEmpty() ? -1 : n.isEmpty() ? 1 : this.compareToSameClass(n, i)
                }
            }
            ,
            Bu.prototype.getUserData = function() {
                return this._userData
            }
            ,
            Bu.prototype.getSRID = function() {
                return this._SRID
            }
            ,
            Bu.prototype.getEnvelope = function() {
                return this.getFactory().toGeometry(this.getEnvelopeInternal())
            }
            ,
            Bu.prototype.checkNotGeometryCollection = function(t) {
                if (t.getSortIndex() === Bu.SORTINDEX_GEOMETRYCOLLECTION)
                    throw new Xa("This method does not support GeometryCollection arguments")
            }
            ,
            Bu.prototype.equal = function(t, e, n) {
                return 0 === n ? t.equals(e) : t.distance(e) <= n
            }
            ,
            Bu.prototype.norm = function() {
                var t = this.copy();
                return t.normalize(),
                t
            }
            ,
            Bu.prototype.getPrecisionModel = function() {
                return this._factory.getPrecisionModel()
            }
            ,
            Bu.prototype.getEnvelopeInternal = function() {
                return null === this._envelope && (this._envelope = this.computeEnvelopeInternal()),
                new Cu(this._envelope)
            }
            ,
            Bu.prototype.setSRID = function(t) {
                this._SRID = t
            }
            ,
            Bu.prototype.setUserData = function(t) {
                this._userData = t
            }
            ,
            Bu.prototype.compare = function(t, e) {
                for (var n = t.iterator(), i = e.iterator(); n.hasNext() && i.hasNext(); ) {
                    var r = n.next()
                      , o = i.next()
                      , s = r.compareTo(o);
                    if (0 !== s)
                        return s
                }
                return n.hasNext() ? 1 : i.hasNext() ? -1 : 0
            }
            ,
            Bu.prototype.hashCode = function() {
                return this.getEnvelopeInternal().hashCode()
            }
            ,
            Bu.prototype.isGeometryCollectionOrDerived = function() {
                return this.getSortIndex() === Bu.SORTINDEX_GEOMETRYCOLLECTION || this.getSortIndex() === Bu.SORTINDEX_MULTIPOINT || this.getSortIndex() === Bu.SORTINDEX_MULTILINESTRING || this.getSortIndex() === Bu.SORTINDEX_MULTIPOLYGON
            }
            ,
            Bu.prototype.interfaces_ = function() {
                return [Za, Ka, yr]
            }
            ,
            Bu.prototype.getClass = function() {
                return Bu
            }
            ,
            Bu.hasNonEmptyElements = function(t) {
                for (var e = 0; e < t.length; e++)
                    if (!t[e].isEmpty())
                        return !0;
                return !1
            }
            ,
            Bu.hasNullElements = function(t) {
                for (var e = 0; e < t.length; e++)
                    if (null === t[e])
                        return !0;
                return !1
            }
            ,
            qu.serialVersionUID.get = function() {
                return 0x799ea46522854c00
            }
            ,
            qu.SORTINDEX_POINT.get = function() {
                return 0
            }
            ,
            qu.SORTINDEX_MULTIPOINT.get = function() {
                return 1
            }
            ,
            qu.SORTINDEX_LINESTRING.get = function() {
                return 2
            }
            ,
            qu.SORTINDEX_LINEARRING.get = function() {
                return 3
            }
            ,
            qu.SORTINDEX_MULTILINESTRING.get = function() {
                return 4
            }
            ,
            qu.SORTINDEX_POLYGON.get = function() {
                return 5
            }
            ,
            qu.SORTINDEX_MULTIPOLYGON.get = function() {
                return 6
            }
            ,
            qu.SORTINDEX_GEOMETRYCOLLECTION.get = function() {
                return 7
            }
            ,
            qu.geometryChangedFilter.get = function() {
                return Vu
            }
            ,
            Object.defineProperties(Bu, qu);
            var Vu = function() {};
            Vu.interfaces_ = function() {
                return [Gu]
            }
            ,
            Vu.filter = function(t) {
                t.geometryChangedAction()
            }
            ;
            var Uu = function() {};
            Uu.prototype.filter = function(t) {}
            ,
            Uu.prototype.interfaces_ = function() {
                return []
            }
            ,
            Uu.prototype.getClass = function() {
                return Uu
            }
            ;
            var ju = function() {}
              , zu = {
                Mod2BoundaryNodeRule: {
                    configurable: !0
                },
                EndPointBoundaryNodeRule: {
                    configurable: !0
                },
                MultiValentEndPointBoundaryNodeRule: {
                    configurable: !0
                },
                MonoValentEndPointBoundaryNodeRule: {
                    configurable: !0
                },
                MOD2_BOUNDARY_RULE: {
                    configurable: !0
                },
                ENDPOINT_BOUNDARY_RULE: {
                    configurable: !0
                },
                MULTIVALENT_ENDPOINT_BOUNDARY_RULE: {
                    configurable: !0
                },
                MONOVALENT_ENDPOINT_BOUNDARY_RULE: {
                    configurable: !0
                },
                OGC_SFS_BOUNDARY_RULE: {
                    configurable: !0
                }
            };
            ju.prototype.isInBoundary = function(t) {}
            ,
            ju.prototype.interfaces_ = function() {
                return []
            }
            ,
            ju.prototype.getClass = function() {
                return ju
            }
            ,
            zu.Mod2BoundaryNodeRule.get = function() {
                return Yu
            }
            ,
            zu.EndPointBoundaryNodeRule.get = function() {
                return Hu
            }
            ,
            zu.MultiValentEndPointBoundaryNodeRule.get = function() {
                return Xu
            }
            ,
            zu.MonoValentEndPointBoundaryNodeRule.get = function() {
                return Wu
            }
            ,
            zu.MOD2_BOUNDARY_RULE.get = function() {
                return new Yu
            }
            ,
            zu.ENDPOINT_BOUNDARY_RULE.get = function() {
                return new Hu
            }
            ,
            zu.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get = function() {
                return new Xu
            }
            ,
            zu.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get = function() {
                return new Wu
            }
            ,
            zu.OGC_SFS_BOUNDARY_RULE.get = function() {
                return ju.MOD2_BOUNDARY_RULE
            }
            ,
            Object.defineProperties(ju, zu);
            var Yu = function() {};
            Yu.prototype.isInBoundary = function(t) {
                return t % 2 == 1
            }
            ,
            Yu.prototype.interfaces_ = function() {
                return [ju]
            }
            ,
            Yu.prototype.getClass = function() {
                return Yu
            }
            ;
            var Hu = function() {};
            Hu.prototype.isInBoundary = function(t) {
                return t > 0
            }
            ,
            Hu.prototype.interfaces_ = function() {
                return [ju]
            }
            ,
            Hu.prototype.getClass = function() {
                return Hu
            }
            ;
            var Xu = function() {};
            Xu.prototype.isInBoundary = function(t) {
                return t > 1
            }
            ,
            Xu.prototype.interfaces_ = function() {
                return [ju]
            }
            ,
            Xu.prototype.getClass = function() {
                return Xu
            }
            ;
            var Wu = function() {};
            Wu.prototype.isInBoundary = function(t) {
                return 1 === t
            }
            ,
            Wu.prototype.interfaces_ = function() {
                return [ju]
            }
            ,
            Wu.prototype.getClass = function() {
                return Wu
            }
            ;
            var $u = function() {};
            $u.prototype.add = function() {}
            ,
            $u.prototype.addAll = function() {}
            ,
            $u.prototype.isEmpty = function() {}
            ,
            $u.prototype.iterator = function() {}
            ,
            $u.prototype.size = function() {}
            ,
            $u.prototype.toArray = function() {}
            ,
            $u.prototype.remove = function() {}
            ;
            var Ku = function(t) {
                function e(e) {
                    t.call(this),
                    this.message = e || ""
                }
                t && (e.__proto__ = t),
                (e.prototype = Object.create(t && t.prototype)).constructor = e;
                var n = {
                    name: {
                        configurable: !0
                    }
                };
                return n.name.get = function() {
                    return "IndexOutOfBoundsException"
                }
                ,
                Object.defineProperties(e, n),
                e
            }(Error)
              , Zu = function() {};
            Zu.prototype.hasNext = function() {}
            ,
            Zu.prototype.next = function() {}
            ,
            Zu.prototype.remove = function() {}
            ;
            var Qu = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.get = function() {}
                ,
                e.prototype.set = function() {}
                ,
                e.prototype.isEmpty = function() {}
                ,
                e
            }($u);
            (vr.prototype = new Error).name = "NoSuchElementException";
            var Ju = function(t) {
                function e() {
                    t.call(this),
                    this.array_ = [],
                    arguments[0]instanceof $u && this.addAll(arguments[0])
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.ensureCapacity = function() {}
                ,
                e.prototype.interfaces_ = function() {
                    return [t, $u]
                }
                ,
                e.prototype.add = function(t) {
                    return 1 === arguments.length ? this.array_.push(t) : this.array_.splice(arguments[0], arguments[1]),
                    !0
                }
                ,
                e.prototype.clear = function() {
                    this.array_ = []
                }
                ,
                e.prototype.addAll = function(t) {
                    for (var e = t.iterator(); e.hasNext(); )
                        this.add(e.next());
                    return !0
                }
                ,
                e.prototype.set = function(t, e) {
                    var n = this.array_[t];
                    return this.array_[t] = e,
                    n
                }
                ,
                e.prototype.iterator = function() {
                    return new tl(this)
                }
                ,
                e.prototype.get = function(t) {
                    if (t < 0 || t >= this.size())
                        throw new Ku;
                    return this.array_[t]
                }
                ,
                e.prototype.isEmpty = function() {
                    return 0 === this.array_.length
                }
                ,
                e.prototype.size = function() {
                    return this.array_.length
                }
                ,
                e.prototype.toArray = function() {
                    for (var t = [], e = 0, n = this.array_.length; e < n; e++)
                        t.push(this.array_[e]);
                    return t
                }
                ,
                e.prototype.remove = function(t) {
                    for (var e = !1, n = 0, i = this.array_.length; n < i; n++)
                        if (this.array_[n] === t) {
                            this.array_.splice(n, 1),
                            e = !0;
                            break
                        }
                    return e
                }
                ,
                e
            }(Qu)
              , tl = function(t) {
                function e(e) {
                    t.call(this),
                    this.arrayList_ = e,
                    this.position_ = 0
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.next = function() {
                    if (this.position_ === this.arrayList_.size())
                        throw new vr;
                    return this.arrayList_.get(this.position_++)
                }
                ,
                e.prototype.hasNext = function() {
                    return this.position_ < this.arrayList_.size()
                }
                ,
                e.prototype.set = function(t) {
                    return this.arrayList_.set(this.position_ - 1, t)
                }
                ,
                e.prototype.remove = function() {
                    this.arrayList_.remove(this.arrayList_.get(this.position_))
                }
                ,
                e
            }(Zu)
              , el = function(t) {
                function e() {
                    if (t.call(this),
                    0 === arguments.length)
                        ;
                    else if (1 === arguments.length) {
                        var e = arguments[0];
                        this.ensureCapacity(e.length),
                        this.add(e, !0)
                    } else if (2 === arguments.length) {
                        var n = arguments[0]
                          , i = arguments[1];
                        this.ensureCapacity(n.length),
                        this.add(n, i)
                    }
                }
                t && (e.__proto__ = t),
                (e.prototype = Object.create(t && t.prototype)).constructor = e;
                var n = {
                    coordArrayType: {
                        configurable: !0
                    }
                };
                return n.coordArrayType.get = function() {
                    return new Array(0).fill(null)
                }
                ,
                e.prototype.getCoordinate = function(t) {
                    return this.get(t)
                }
                ,
                e.prototype.addAll = function() {
                    if (2 === arguments.length) {
                        for (var e = arguments[0], n = arguments[1], i = !1, r = e.iterator(); r.hasNext(); )
                            this.add(r.next(), n),
                            i = !0;
                        return i
                    }
                    return t.prototype.addAll.apply(this, arguments)
                }
                ,
                e.prototype.clone = function() {
                    for (var e = t.prototype.clone.call(this), n = 0; n < this.size(); n++)
                        e.add(n, this.get(n).copy());
                    return e
                }
                ,
                e.prototype.toCoordinateArray = function() {
                    return this.toArray(e.coordArrayType)
                }
                ,
                e.prototype.add = function() {
                    if (1 === arguments.length) {
                        var e = arguments[0];
                        t.prototype.add.call(this, e)
                    } else if (2 === arguments.length) {
                        if (arguments[0]instanceof Array && "boolean" == typeof arguments[1]) {
                            var n = arguments[0]
                              , i = arguments[1];
                            return this.add(n, i, !0),
                            !0
                        }
                        if (arguments[0]instanceof Ja && "boolean" == typeof arguments[1]) {
                            var r = arguments[0];
                            if (!arguments[1] && this.size() >= 1 && this.get(this.size() - 1).equals2D(r))
                                return null;
                            t.prototype.add.call(this, r)
                        } else if (arguments[0]instanceof Object && "boolean" == typeof arguments[1]) {
                            var o = arguments[0]
                              , s = arguments[1];
                            return this.add(o, s),
                            !0
                        }
                    } else if (3 === arguments.length) {
                        if ("boolean" == typeof arguments[2] && arguments[0]instanceof Array && "boolean" == typeof arguments[1]) {
                            var a = arguments[0]
                              , u = arguments[1];
                            if (arguments[2])
                                for (var l = 0; l < a.length; l++)
                                    this.add(a[l], u);
                            else
                                for (var c = a.length - 1; c >= 0; c--)
                                    this.add(a[c], u);
                            return !0
                        }
                        if ("boolean" == typeof arguments[2] && Number.isInteger(arguments[0]) && arguments[1]instanceof Ja) {
                            var h = arguments[0]
                              , p = arguments[1];
                            if (!arguments[2]) {
                                var f = this.size();
                                if (f > 0) {
                                    if (h > 0 && this.get(h - 1).equals2D(p))
                                        return null;
                                    if (h < f && this.get(h).equals2D(p))
                                        return null
                                }
                            }
                            t.prototype.add.call(this, h, p)
                        }
                    } else if (4 === arguments.length) {
                        var d = arguments[0]
                          , g = arguments[1]
                          , y = arguments[2]
                          , v = arguments[3]
                          , m = 1;
                        y > v && (m = -1);
                        for (var _ = y; _ !== v; _ += m)
                            this.add(d[_], g);
                        return !0
                    }
                }
                ,
                e.prototype.closeRing = function() {
                    this.size() > 0 && this.add(new Ja(this.get(0)), !1)
                }
                ,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                Object.defineProperties(e, n),
                e
            }(Ju)
              , nl = function() {}
              , il = {
                ForwardComparator: {
                    configurable: !0
                },
                BidirectionalComparator: {
                    configurable: !0
                },
                coordArrayType: {
                    configurable: !0
                }
            };
            il.ForwardComparator.get = function() {
                return rl
            }
            ,
            il.BidirectionalComparator.get = function() {
                return ol
            }
            ,
            il.coordArrayType.get = function() {
                return new Array(0).fill(null)
            }
            ,
            nl.prototype.interfaces_ = function() {
                return []
            }
            ,
            nl.prototype.getClass = function() {
                return nl
            }
            ,
            nl.isRing = function(t) {
                return !(t.length < 4 || !t[0].equals2D(t[t.length - 1]))
            }
            ,
            nl.ptNotInList = function(t, e) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n];
                    if (nl.indexOf(i, e) < 0)
                        return i
                }
                return null
            }
            ,
            nl.scroll = function(t, e) {
                var n = nl.indexOf(e, t);
                if (n < 0)
                    return null;
                var i = new Array(t.length).fill(null);
                _u.arraycopy(t, n, i, 0, t.length - n),
                _u.arraycopy(t, 0, i, t.length - n, n),
                _u.arraycopy(i, 0, t, 0, t.length)
            }
            ,
            nl.equals = function() {
                if (2 === arguments.length) {
                    var t = arguments[0]
                      , e = arguments[1];
                    if (t === e)
                        return !0;
                    if (null === t || null === e)
                        return !1;
                    if (t.length !== e.length)
                        return !1;
                    for (var n = 0; n < t.length; n++)
                        if (!t[n].equals(e[n]))
                            return !1;
                    return !0
                }
                if (3 === arguments.length) {
                    var i = arguments[0]
                      , r = arguments[1]
                      , o = arguments[2];
                    if (i === r)
                        return !0;
                    if (null === i || null === r)
                        return !1;
                    if (i.length !== r.length)
                        return !1;
                    for (var s = 0; s < i.length; s++)
                        if (0 !== o.compare(i[s], r[s]))
                            return !1;
                    return !0
                }
            }
            ,
            nl.intersection = function(t, e) {
                for (var n = new el, i = 0; i < t.length; i++)
                    e.intersects(t[i]) && n.add(t[i], !0);
                return n.toCoordinateArray()
            }
            ,
            nl.hasRepeatedPoints = function(t) {
                for (var e = 1; e < t.length; e++)
                    if (t[e - 1].equals(t[e]))
                        return !0;
                return !1
            }
            ,
            nl.removeRepeatedPoints = function(t) {
                return nl.hasRepeatedPoints(t) ? new el(t,!1).toCoordinateArray() : t
            }
            ,
            nl.reverse = function(t) {
                for (var e = t.length - 1, n = Math.trunc(e / 2), i = 0; i <= n; i++) {
                    var r = t[i];
                    t[i] = t[e - i],
                    t[e - i] = r
                }
            }
            ,
            nl.removeNull = function(t) {
                for (var e = 0, n = 0; n < t.length; n++)
                    null !== t[n] && e++;
                var i = new Array(e).fill(null);
                if (0 === e)
                    return i;
                for (var r = 0, o = 0; o < t.length; o++)
                    null !== t[o] && (i[r++] = t[o]);
                return i
            }
            ,
            nl.copyDeep = function() {
                if (1 === arguments.length) {
                    for (var t = arguments[0], e = new Array(t.length).fill(null), n = 0; n < t.length; n++)
                        e[n] = new Ja(t[n]);
                    return e
                }
                if (5 === arguments.length)
                    for (var i = arguments[0], r = arguments[1], o = arguments[2], s = arguments[3], a = arguments[4], u = 0; u < a; u++)
                        o[s + u] = new Ja(i[r + u])
            }
            ,
            nl.isEqualReversed = function(t, e) {
                for (var n = 0; n < t.length; n++) {
                    var i = t[n]
                      , r = e[t.length - n - 1];
                    if (0 !== i.compareTo(r))
                        return !1
                }
                return !0
            }
            ,
            nl.envelope = function(t) {
                for (var e = new Cu, n = 0; n < t.length; n++)
                    e.expandToInclude(t[n]);
                return e
            }
            ,
            nl.toCoordinateArray = function(t) {
                return t.toArray(nl.coordArrayType)
            }
            ,
            nl.atLeastNCoordinatesOrNothing = function(t, e) {
                return e.length >= t ? e : []
            }
            ,
            nl.indexOf = function(t, e) {
                for (var n = 0; n < e.length; n++)
                    if (t.equals(e[n]))
                        return n;
                return -1
            }
            ,
            nl.increasingDirection = function(t) {
                for (var e = 0; e < Math.trunc(t.length / 2); e++) {
                    var n = t.length - 1 - e
                      , i = t[e].compareTo(t[n]);
                    if (0 !== i)
                        return i
                }
                return 1
            }
            ,
            nl.compare = function(t, e) {
                for (var n = 0; n < t.length && n < e.length; ) {
                    var i = t[n].compareTo(e[n]);
                    if (0 !== i)
                        return i;
                    n++
                }
                return n < e.length ? -1 : n < t.length ? 1 : 0
            }
            ,
            nl.minCoordinate = function(t) {
                for (var e = null, n = 0; n < t.length; n++)
                    (null === e || e.compareTo(t[n]) > 0) && (e = t[n]);
                return e
            }
            ,
            nl.extract = function(t, e, n) {
                e = su.clamp(e, 0, t.length);
                var i = (n = su.clamp(n, -1, t.length)) - e + 1;
                n < 0 && (i = 0),
                e >= t.length && (i = 0),
                n < e && (i = 0);
                var r = new Array(i).fill(null);
                if (0 === i)
                    return r;
                for (var o = 0, s = e; s <= n; s++)
                    r[o++] = t[s];
                return r
            }
            ,
            Object.defineProperties(nl, il);
            var rl = function() {};
            rl.prototype.compare = function(t, e) {
                return nl.compare(t, e)
            }
            ,
            rl.prototype.interfaces_ = function() {
                return [Qa]
            }
            ,
            rl.prototype.getClass = function() {
                return rl
            }
            ;
            var ol = function() {};
            ol.prototype.compare = function(t, e) {
                var n = t
                  , i = e;
                if (n.length < i.length)
                    return -1;
                if (n.length > i.length)
                    return 1;
                if (0 === n.length)
                    return 0;
                var r = nl.compare(n, i);
                return nl.isEqualReversed(n, i) ? 0 : r
            }
            ,
            ol.prototype.OLDcompare = function(t, e) {
                var n = t
                  , i = e;
                if (n.length < i.length)
                    return -1;
                if (n.length > i.length)
                    return 1;
                if (0 === n.length)
                    return 0;
                for (var r = nl.increasingDirection(n), o = nl.increasingDirection(i), s = r > 0 ? 0 : n.length - 1, a = o > 0 ? 0 : n.length - 1, u = 0; u < n.length; u++) {
                    var l = n[s].compareTo(i[a]);
                    if (0 !== l)
                        return l;
                    s += r,
                    a += o
                }
                return 0
            }
            ,
            ol.prototype.interfaces_ = function() {
                return [Qa]
            }
            ,
            ol.prototype.getClass = function() {
                return ol
            }
            ;
            var sl = function() {};
            sl.prototype.get = function() {}
            ,
            sl.prototype.put = function() {}
            ,
            sl.prototype.size = function() {}
            ,
            sl.prototype.values = function() {}
            ,
            sl.prototype.entrySet = function() {}
            ;
            var al = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e
            }(sl);
            (mr.prototype = new Error).name = "OperationNotSupported",
            (_r.prototype = new $u).contains = function() {}
            ;
            var ul = function(t) {
                function e() {
                    t.call(this),
                    this.array_ = [],
                    arguments[0]instanceof $u && this.addAll(arguments[0])
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.contains = function(t) {
                    for (var e = 0, n = this.array_.length; e < n; e++)
                        if (this.array_[e] === t)
                            return !0;
                    return !1
                }
                ,
                e.prototype.add = function(t) {
                    return !this.contains(t) && (this.array_.push(t),
                    !0)
                }
                ,
                e.prototype.addAll = function(t) {
                    for (var e = t.iterator(); e.hasNext(); )
                        this.add(e.next());
                    return !0
                }
                ,
                e.prototype.remove = function(t) {
                    throw new Error
                }
                ,
                e.prototype.size = function() {
                    return this.array_.length
                }
                ,
                e.prototype.isEmpty = function() {
                    return 0 === this.array_.length
                }
                ,
                e.prototype.toArray = function() {
                    for (var t = [], e = 0, n = this.array_.length; e < n; e++)
                        t.push(this.array_[e]);
                    return t
                }
                ,
                e.prototype.iterator = function() {
                    return new ll(this)
                }
                ,
                e
            }(_r)
              , ll = function(t) {
                function e(e) {
                    t.call(this),
                    this.hashSet_ = e,
                    this.position_ = 0
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.next = function() {
                    if (this.position_ === this.hashSet_.size())
                        throw new vr;
                    return this.hashSet_.array_[this.position_++]
                }
                ,
                e.prototype.hasNext = function() {
                    return this.position_ < this.hashSet_.size()
                }
                ,
                e.prototype.remove = function() {
                    throw new mr
                }
                ,
                e
            }(Zu)
              , cl = 0;
            (Ir.prototype = new al).get = function(t) {
                for (var e = this.root_; null !== e; ) {
                    var n = t.compareTo(e.key);
                    if (n < 0)
                        e = e.left;
                    else {
                        if (!(n > 0))
                            return e.value;
                        e = e.right
                    }
                }
                return null
            }
            ,
            Ir.prototype.put = function(t, e) {
                if (null === this.root_)
                    return this.root_ = {
                        key: t,
                        value: e,
                        left: null,
                        right: null,
                        parent: null,
                        color: cl,
                        getValue: function() {
                            return this.value
                        },
                        getKey: function() {
                            return this.key
                        }
                    },
                    this.size_ = 1,
                    null;
                var n, i, r = this.root_;
                do {
                    if (n = r,
                    (i = t.compareTo(r.key)) < 0)
                        r = r.left;
                    else {
                        if (!(i > 0)) {
                            var o = r.value;
                            return r.value = e,
                            o
                        }
                        r = r.right
                    }
                } while (null !== r);
                var s = {
                    key: t,
                    left: null,
                    right: null,
                    value: e,
                    parent: n,
                    color: cl,
                    getValue: function() {
                        return this.value
                    },
                    getKey: function() {
                        return this.key
                    }
                };
                return i < 0 ? n.left = s : n.right = s,
                this.fixAfterInsertion(s),
                this.size_++,
                null
            }
            ,
            Ir.prototype.fixAfterInsertion = function(t) {
                for (t.color = 1; null != t && t !== this.root_ && 1 === t.parent.color; )
                    if (Cr(t) === br(Cr(Cr(t)))) {
                        var e = xr(Cr(Cr(t)));
                        1 === Er(e) ? (wr(Cr(t), cl),
                        wr(e, cl),
                        wr(Cr(Cr(t)), 1),
                        t = Cr(Cr(t))) : (t === xr(Cr(t)) && (t = Cr(t),
                        this.rotateLeft(t)),
                        wr(Cr(t), cl),
                        wr(Cr(Cr(t)), 1),
                        this.rotateRight(Cr(Cr(t))))
                    } else {
                        var n = br(Cr(Cr(t)));
                        1 === Er(n) ? (wr(Cr(t), cl),
                        wr(n, cl),
                        wr(Cr(Cr(t)), 1),
                        t = Cr(Cr(t))) : (t === br(Cr(t)) && (t = Cr(t),
                        this.rotateRight(t)),
                        wr(Cr(t), cl),
                        wr(Cr(Cr(t)), 1),
                        this.rotateLeft(Cr(Cr(t))))
                    }
                this.root_.color = cl
            }
            ,
            Ir.prototype.values = function() {
                var t = new Ju
                  , e = this.getFirstEntry();
                if (null !== e)
                    for (t.add(e.value); null !== (e = Ir.successor(e)); )
                        t.add(e.value);
                return t
            }
            ,
            Ir.prototype.entrySet = function() {
                var t = new ul
                  , e = this.getFirstEntry();
                if (null !== e)
                    for (t.add(e); null !== (e = Ir.successor(e)); )
                        t.add(e);
                return t
            }
            ,
            Ir.prototype.rotateLeft = function(t) {
                if (null != t) {
                    var e = t.right;
                    t.right = e.left,
                    null != e.left && (e.left.parent = t),
                    e.parent = t.parent,
                    null === t.parent ? this.root_ = e : t.parent.left === t ? t.parent.left = e : t.parent.right = e,
                    e.left = t,
                    t.parent = e
                }
            }
            ,
            Ir.prototype.rotateRight = function(t) {
                if (null != t) {
                    var e = t.left;
                    t.left = e.right,
                    null != e.right && (e.right.parent = t),
                    e.parent = t.parent,
                    null === t.parent ? this.root_ = e : t.parent.right === t ? t.parent.right = e : t.parent.left = e,
                    e.right = t,
                    t.parent = e
                }
            }
            ,
            Ir.prototype.getFirstEntry = function() {
                var t = this.root_;
                if (null != t)
                    for (; null != t.left; )
                        t = t.left;
                return t
            }
            ,
            Ir.successor = function(t) {
                if (null === t)
                    return null;
                if (null !== t.right) {
                    for (var e = t.right; null !== e.left; )
                        e = e.left;
                    return e
                }
                for (var n = t.parent, i = t; null !== n && i === n.right; )
                    i = n,
                    n = n.parent;
                return n
            }
            ,
            Ir.prototype.size = function() {
                return this.size_
            }
            ;
            var hl = function() {};
            hl.prototype.interfaces_ = function() {
                return []
            }
            ,
            hl.prototype.getClass = function() {
                return hl
            }
            ,
            Pr.prototype = new _r,
            (Lr.prototype = new Pr).contains = function(t) {
                for (var e = 0, n = this.array_.length; e < n; e++)
                    if (0 === this.array_[e].compareTo(t))
                        return !0;
                return !1
            }
            ,
            Lr.prototype.add = function(t) {
                if (this.contains(t))
                    return !1;
                for (var e = 0, n = this.array_.length; e < n; e++)
                    if (1 === this.array_[e].compareTo(t))
                        return this.array_.splice(e, 0, t),
                        !0;
                return this.array_.push(t),
                !0
            }
            ,
            Lr.prototype.addAll = function(t) {
                for (var e = t.iterator(); e.hasNext(); )
                    this.add(e.next());
                return !0
            }
            ,
            Lr.prototype.remove = function(t) {
                throw new mr
            }
            ,
            Lr.prototype.size = function() {
                return this.array_.length
            }
            ,
            Lr.prototype.isEmpty = function() {
                return 0 === this.array_.length
            }
            ,
            Lr.prototype.toArray = function() {
                for (var t = [], e = 0, n = this.array_.length; e < n; e++)
                    t.push(this.array_[e]);
                return t
            }
            ,
            Lr.prototype.iterator = function() {
                return new pl(this)
            }
            ;
            var pl = function(t) {
                this.treeSet_ = t,
                this.position_ = 0
            };
            pl.prototype.next = function() {
                if (this.position_ === this.treeSet_.size())
                    throw new vr;
                return this.treeSet_.array_[this.position_++]
            }
            ,
            pl.prototype.hasNext = function() {
                return this.position_ < this.treeSet_.size()
            }
            ,
            pl.prototype.remove = function() {
                throw new mr
            }
            ;
            var fl = function() {};
            fl.sort = function() {
                var t, e, n, i, r = arguments[0];
                if (1 === arguments.length)
                    i = function(t, e) {
                        return t.compareTo(e)
                    }
                    ,
                    r.sort(i);
                else if (2 === arguments.length)
                    n = arguments[1],
                    i = function(t, e) {
                        return n.compare(t, e)
                    }
                    ,
                    r.sort(i);
                else if (3 === arguments.length) {
                    (e = r.slice(arguments[1], arguments[2])).sort();
                    var o = r.slice(0, arguments[1]).concat(e, r.slice(arguments[2], r.length));
                    for (r.splice(0, r.length),
                    t = 0; t < o.length; t++)
                        r.push(o[t])
                } else if (4 === arguments.length)
                    for (e = r.slice(arguments[1], arguments[2]),
                    n = arguments[3],
                    i = function(t, e) {
                        return n.compare(t, e)
                    }
                    ,
                    e.sort(i),
                    o = r.slice(0, arguments[1]).concat(e, r.slice(arguments[2], r.length)),
                    r.splice(0, r.length),
                    t = 0; t < o.length; t++)
                        r.push(o[t])
            }
            ,
            fl.asList = function(t) {
                for (var e = new Ju, n = 0, i = t.length; n < i; n++)
                    e.add(t[n]);
                return e
            }
            ;
            var dl = function() {}
              , gl = {
                P: {
                    configurable: !0
                },
                L: {
                    configurable: !0
                },
                A: {
                    configurable: !0
                },
                FALSE: {
                    configurable: !0
                },
                TRUE: {
                    configurable: !0
                },
                DONTCARE: {
                    configurable: !0
                },
                SYM_FALSE: {
                    configurable: !0
                },
                SYM_TRUE: {
                    configurable: !0
                },
                SYM_DONTCARE: {
                    configurable: !0
                },
                SYM_P: {
                    configurable: !0
                },
                SYM_L: {
                    configurable: !0
                },
                SYM_A: {
                    configurable: !0
                }
            };
            gl.P.get = function() {
                return 0
            }
            ,
            gl.L.get = function() {
                return 1
            }
            ,
            gl.A.get = function() {
                return 2
            }
            ,
            gl.FALSE.get = function() {
                return -1
            }
            ,
            gl.TRUE.get = function() {
                return -2
            }
            ,
            gl.DONTCARE.get = function() {
                return -3
            }
            ,
            gl.SYM_FALSE.get = function() {
                return "F"
            }
            ,
            gl.SYM_TRUE.get = function() {
                return "T"
            }
            ,
            gl.SYM_DONTCARE.get = function() {
                return "*"
            }
            ,
            gl.SYM_P.get = function() {
                return "0"
            }
            ,
            gl.SYM_L.get = function() {
                return "1"
            }
            ,
            gl.SYM_A.get = function() {
                return "2"
            }
            ,
            dl.prototype.interfaces_ = function() {
                return []
            }
            ,
            dl.prototype.getClass = function() {
                return dl
            }
            ,
            dl.toDimensionSymbol = function(t) {
                switch (t) {
                case dl.FALSE:
                    return dl.SYM_FALSE;
                case dl.TRUE:
                    return dl.SYM_TRUE;
                case dl.DONTCARE:
                    return dl.SYM_DONTCARE;
                case dl.P:
                    return dl.SYM_P;
                case dl.L:
                    return dl.SYM_L;
                case dl.A:
                    return dl.SYM_A
                }
                throw new Xa("Unknown dimension value: " + t)
            }
            ,
            dl.toDimensionValue = function(t) {
                switch (cu.toUpperCase(t)) {
                case dl.SYM_FALSE:
                    return dl.FALSE;
                case dl.SYM_TRUE:
                    return dl.TRUE;
                case dl.SYM_DONTCARE:
                    return dl.DONTCARE;
                case dl.SYM_P:
                    return dl.P;
                case dl.SYM_L:
                    return dl.L;
                case dl.SYM_A:
                    return dl.A
                }
                throw new Xa("Unknown dimension symbol: " + t)
            }
            ,
            Object.defineProperties(dl, gl);
            var yl = function() {};
            yl.prototype.filter = function(t) {}
            ,
            yl.prototype.interfaces_ = function() {
                return []
            }
            ,
            yl.prototype.getClass = function() {
                return yl
            }
            ;
            var vl = function() {};
            vl.prototype.filter = function(t, e) {}
            ,
            vl.prototype.isDone = function() {}
            ,
            vl.prototype.isGeometryChanged = function() {}
            ,
            vl.prototype.interfaces_ = function() {
                return []
            }
            ,
            vl.prototype.getClass = function() {
                return vl
            }
            ;
            var ml = function(t) {
                function e(e, n) {
                    if (t.call(this, n),
                    this._geometries = e || [],
                    t.hasNullElements(this._geometries))
                        throw new Xa("geometries must not contain null elements")
                }
                t && (e.__proto__ = t),
                (e.prototype = Object.create(t && t.prototype)).constructor = e;
                var n = {
                    serialVersionUID: {
                        configurable: !0
                    }
                };
                return e.prototype.computeEnvelopeInternal = function() {
                    for (var t = new Cu, e = 0; e < this._geometries.length; e++)
                        t.expandToInclude(this._geometries[e].getEnvelopeInternal());
                    return t
                }
                ,
                e.prototype.getGeometryN = function(t) {
                    return this._geometries[t]
                }
                ,
                e.prototype.getSortIndex = function() {
                    return t.SORTINDEX_GEOMETRYCOLLECTION
                }
                ,
                e.prototype.getCoordinates = function() {
                    for (var t = new Array(this.getNumPoints()).fill(null), e = -1, n = 0; n < this._geometries.length; n++)
                        for (var i = this._geometries[n].getCoordinates(), r = 0; r < i.length; r++)
                            t[++e] = i[r];
                    return t
                }
                ,
                e.prototype.getArea = function() {
                    for (var t = 0, e = 0; e < this._geometries.length; e++)
                        t += this._geometries[e].getArea();
                    return t
                }
                ,
                e.prototype.equalsExact = function() {
                    if (2 === arguments.length) {
                        var e = arguments[0]
                          , n = arguments[1];
                        if (!this.isEquivalentClass(e))
                            return !1;
                        var i = e;
                        if (this._geometries.length !== i._geometries.length)
                            return !1;
                        for (var r = 0; r < this._geometries.length; r++)
                            if (!this._geometries[r].equalsExact(i._geometries[r], n))
                                return !1;
                        return !0
                    }
                    return t.prototype.equalsExact.apply(this, arguments)
                }
                ,
                e.prototype.normalize = function() {
                    for (var t = 0; t < this._geometries.length; t++)
                        this._geometries[t].normalize();
                    fl.sort(this._geometries)
                }
                ,
                e.prototype.getCoordinate = function() {
                    return this.isEmpty() ? null : this._geometries[0].getCoordinate()
                }
                ,
                e.prototype.getBoundaryDimension = function() {
                    for (var t = dl.FALSE, e = 0; e < this._geometries.length; e++)
                        t = Math.max(t, this._geometries[e].getBoundaryDimension());
                    return t
                }
                ,
                e.prototype.getDimension = function() {
                    for (var t = dl.FALSE, e = 0; e < this._geometries.length; e++)
                        t = Math.max(t, this._geometries[e].getDimension());
                    return t
                }
                ,
                e.prototype.getLength = function() {
                    for (var t = 0, e = 0; e < this._geometries.length; e++)
                        t += this._geometries[e].getLength();
                    return t
                }
                ,
                e.prototype.getNumPoints = function() {
                    for (var t = 0, e = 0; e < this._geometries.length; e++)
                        t += this._geometries[e].getNumPoints();
                    return t
                }
                ,
                e.prototype.getNumGeometries = function() {
                    return this._geometries.length
                }
                ,
                e.prototype.reverse = function() {
                    for (var t = this._geometries.length, e = new Array(t).fill(null), n = 0; n < this._geometries.length; n++)
                        e[n] = this._geometries[n].reverse();
                    return this.getFactory().createGeometryCollection(e)
                }
                ,
                e.prototype.compareToSameClass = function() {
                    if (1 === arguments.length) {
                        var t = arguments[0]
                          , e = new Lr(fl.asList(this._geometries))
                          , n = new Lr(fl.asList(t._geometries));
                        return this.compare(e, n)
                    }
                    if (2 === arguments.length) {
                        for (var i = arguments[0], r = arguments[1], o = i, s = this.getNumGeometries(), a = o.getNumGeometries(), u = 0; u < s && u < a; ) {
                            var l = this.getGeometryN(u)
                              , c = o.getGeometryN(u)
                              , h = l.compareToSameClass(c, r);
                            if (0 !== h)
                                return h;
                            u++
                        }
                        return u < s ? 1 : u < a ? -1 : 0
                    }
                }
                ,
                e.prototype.apply = function() {
                    if (ou(arguments[0], Uu))
                        for (var t = arguments[0], e = 0; e < this._geometries.length; e++)
                            this._geometries[e].apply(t);
                    else if (ou(arguments[0], vl)) {
                        var n = arguments[0];
                        if (0 === this._geometries.length)
                            return null;
                        for (var i = 0; i < this._geometries.length && (this._geometries[i].apply(n),
                        !n.isDone()); i++)
                            ;
                        n.isGeometryChanged() && this.geometryChanged()
                    } else if (ou(arguments[0], yl)) {
                        var r = arguments[0];
                        r.filter(this);
                        for (var o = 0; o < this._geometries.length; o++)
                            this._geometries[o].apply(r)
                    } else if (ou(arguments[0], Gu)) {
                        var s = arguments[0];
                        s.filter(this);
                        for (var a = 0; a < this._geometries.length; a++)
                            this._geometries[a].apply(s)
                    }
                }
                ,
                e.prototype.getBoundary = function() {
                    return this.checkNotGeometryCollection(this),
                    Mu.shouldNeverReachHere(),
                    null
                }
                ,
                e.prototype.clone = function() {
                    var e = t.prototype.clone.call(this);
                    e._geometries = new Array(this._geometries.length).fill(null);
                    for (var n = 0; n < this._geometries.length; n++)
                        e._geometries[n] = this._geometries[n].clone();
                    return e
                }
                ,
                e.prototype.getGeometryType = function() {
                    return "GeometryCollection"
                }
                ,
                e.prototype.copy = function() {
                    for (var t = new Array(this._geometries.length).fill(null), n = 0; n < t.length; n++)
                        t[n] = this._geometries[n].copy();
                    return new e(t,this._factory)
                }
                ,
                e.prototype.isEmpty = function() {
                    for (var t = 0; t < this._geometries.length; t++)
                        if (!this._geometries[t].isEmpty())
                            return !1;
                    return !0
                }
                ,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                n.serialVersionUID.get = function() {
                    return -0x4f07bcb1f857d800
                }
                ,
                Object.defineProperties(e, n),
                e
            }(Bu)
              , _l = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                t && (e.__proto__ = t),
                (e.prototype = Object.create(t && t.prototype)).constructor = e;
                var n = {
                    serialVersionUID: {
                        configurable: !0
                    }
                };
                return e.prototype.getSortIndex = function() {
                    return Bu.SORTINDEX_MULTILINESTRING
                }
                ,
                e.prototype.equalsExact = function() {
                    if (2 === arguments.length) {
                        var e = arguments[0]
                          , n = arguments[1];
                        return !!this.isEquivalentClass(e) && t.prototype.equalsExact.call(this, e, n)
                    }
                    return t.prototype.equalsExact.apply(this, arguments)
                }
                ,
                e.prototype.getBoundaryDimension = function() {
                    return this.isClosed() ? dl.FALSE : 0
                }
                ,
                e.prototype.isClosed = function() {
                    if (this.isEmpty())
                        return !1;
                    for (var t = 0; t < this._geometries.length; t++)
                        if (!this._geometries[t].isClosed())
                            return !1;
                    return !0
                }
                ,
                e.prototype.getDimension = function() {
                    return 1
                }
                ,
                e.prototype.reverse = function() {
                    for (var t = this._geometries.length, e = new Array(t).fill(null), n = 0; n < this._geometries.length; n++)
                        e[t - 1 - n] = this._geometries[n].reverse();
                    return this.getFactory().createMultiLineString(e)
                }
                ,
                e.prototype.getBoundary = function() {
                    return new El(this).getBoundary()
                }
                ,
                e.prototype.getGeometryType = function() {
                    return "MultiLineString"
                }
                ,
                e.prototype.copy = function() {
                    for (var t = new Array(this._geometries.length).fill(null), n = 0; n < t.length; n++)
                        t[n] = this._geometries[n].copy();
                    return new e(t,this._factory)
                }
                ,
                e.prototype.interfaces_ = function() {
                    return [hl]
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                n.serialVersionUID.get = function() {
                    return 0x7155d2ab4afa8000
                }
                ,
                Object.defineProperties(e, n),
                e
            }(ml)
              , El = function() {
                if (this._geom = null,
                this._geomFact = null,
                this._bnRule = null,
                this._endpointMap = null,
                1 === arguments.length) {
                    var t = arguments[0]
                      , e = ju.MOD2_BOUNDARY_RULE;
                    this._geom = t,
                    this._geomFact = t.getFactory(),
                    this._bnRule = e
                } else if (2 === arguments.length) {
                    var n = arguments[0]
                      , i = arguments[1];
                    this._geom = n,
                    this._geomFact = n.getFactory(),
                    this._bnRule = i
                }
            };
            El.prototype.boundaryMultiLineString = function(t) {
                if (this._geom.isEmpty())
                    return this.getEmptyMultiPoint();
                var e = this.computeBoundaryCoordinates(t);
                return 1 === e.length ? this._geomFact.createPoint(e[0]) : this._geomFact.createMultiPointFromCoords(e)
            }
            ,
            El.prototype.getBoundary = function() {
                return this._geom instanceof Il ? this.boundaryLineString(this._geom) : this._geom instanceof _l ? this.boundaryMultiLineString(this._geom) : this._geom.getBoundary()
            }
            ,
            El.prototype.boundaryLineString = function(t) {
                return this._geom.isEmpty() ? this.getEmptyMultiPoint() : t.isClosed() ? this._bnRule.isInBoundary(2) ? t.getStartPoint() : this._geomFact.createMultiPoint() : this._geomFact.createMultiPoint([t.getStartPoint(), t.getEndPoint()])
            }
            ,
            El.prototype.getEmptyMultiPoint = function() {
                return this._geomFact.createMultiPoint()
            }
            ,
            El.prototype.computeBoundaryCoordinates = function(t) {
                var e = new Ju;
                this._endpointMap = new Ir;
                for (var n = 0; n < t.getNumGeometries(); n++) {
                    var i = t.getGeometryN(n);
                    0 !== i.getNumPoints() && (this.addEndpoint(i.getCoordinateN(0)),
                    this.addEndpoint(i.getCoordinateN(i.getNumPoints() - 1)))
                }
                for (var r = this._endpointMap.entrySet().iterator(); r.hasNext(); ) {
                    var o = r.next()
                      , s = o.getValue().count;
                    this._bnRule.isInBoundary(s) && e.add(o.getKey())
                }
                return nl.toCoordinateArray(e)
            }
            ,
            El.prototype.addEndpoint = function(t) {
                var e = this._endpointMap.get(t);
                null === e && (e = new Cl,
                this._endpointMap.put(t, e)),
                e.count++
            }
            ,
            El.prototype.interfaces_ = function() {
                return []
            }
            ,
            El.prototype.getClass = function() {
                return El
            }
            ,
            El.getBoundary = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    return new El(t).getBoundary()
                }
                if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1];
                    return new El(e,n).getBoundary()
                }
            }
            ;
            var Cl = function() {
                this.count = null
            };
            Cl.prototype.interfaces_ = function() {
                return []
            }
            ,
            Cl.prototype.getClass = function() {
                return Cl
            }
            ;
            var wl = function() {}
              , bl = {
                NEWLINE: {
                    configurable: !0
                },
                SIMPLE_ORDINATE_FORMAT: {
                    configurable: !0
                }
            };
            wl.prototype.interfaces_ = function() {
                return []
            }
            ,
            wl.prototype.getClass = function() {
                return wl
            }
            ,
            wl.chars = function(t, e) {
                for (var n = new Array(e).fill(null), i = 0; i < e; i++)
                    n[i] = t;
                return String(n)
            }
            ,
            wl.getStackTrace = function() {
                if (1 === arguments.length) {
                    var t = arguments[0]
                      , e = new function() {}
                      , n = new function() {}
                    (e);
                    return t.printStackTrace(n),
                    e.toString()
                }
                if (2 === arguments.length) {
                    for (var i = arguments[0], r = arguments[1], o = "", s = new function() {}
                    (new function() {}
                    (wl.getStackTrace(i))), a = 0; a < r; a++)
                        try {
                            o += s.readLine() + wl.NEWLINE
                        } catch (t) {
                            if (!(t instanceof Sr))
                                throw t;
                            Mu.shouldNeverReachHere()
                        }
                    return o
                }
            }
            ,
            wl.split = function(t, e) {
                for (var n = e.length, i = new Ju, r = "" + t, o = r.indexOf(e); o >= 0; ) {
                    var s = r.substring(0, o);
                    i.add(s),
                    o = (r = r.substring(o + n)).indexOf(e)
                }
                r.length > 0 && i.add(r);
                for (var a = new Array(i.size()).fill(null), u = 0; u < a.length; u++)
                    a[u] = i.get(u);
                return a
            }
            ,
            wl.toString = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    return wl.SIMPLE_ORDINATE_FORMAT.format(t)
                }
            }
            ,
            wl.spaces = function(t) {
                return wl.chars(" ", t)
            }
            ,
            bl.NEWLINE.get = function() {
                return _u.getProperty("line.separator")
            }
            ,
            bl.SIMPLE_ORDINATE_FORMAT.get = function() {
                return new function() {}
                ("0.#")
            }
            ,
            Object.defineProperties(wl, bl);
            var xl = function() {};
            xl.prototype.interfaces_ = function() {
                return []
            }
            ,
            xl.prototype.getClass = function() {
                return xl
            }
            ,
            xl.copyCoord = function(t, e, n, i) {
                for (var r = Math.min(t.getDimension(), n.getDimension()), o = 0; o < r; o++)
                    n.setOrdinate(i, o, t.getOrdinate(e, o))
            }
            ,
            xl.isRing = function(t) {
                var e = t.size();
                return 0 === e || !(e <= 3) && t.getOrdinate(0, gu.X) === t.getOrdinate(e - 1, gu.X) && t.getOrdinate(0, gu.Y) === t.getOrdinate(e - 1, gu.Y)
            }
            ,
            xl.isEqual = function(t, e) {
                var n = t.size();
                if (n !== e.size())
                    return !1;
                for (var i = Math.min(t.getDimension(), e.getDimension()), r = 0; r < n; r++)
                    for (var o = 0; o < i; o++) {
                        var s = t.getOrdinate(r, o)
                          , a = e.getOrdinate(r, o);
                        if (!(t.getOrdinate(r, o) === e.getOrdinate(r, o) || Wa.isNaN(s) && Wa.isNaN(a)))
                            return !1
                    }
                return !0
            }
            ,
            xl.extend = function(t, e, n) {
                var i = t.create(n, e.getDimension())
                  , r = e.size();
                if (xl.copy(e, 0, i, 0, r),
                r > 0)
                    for (var o = r; o < n; o++)
                        xl.copy(e, r - 1, i, o, 1);
                return i
            }
            ,
            xl.reverse = function(t) {
                for (var e = t.size() - 1, n = Math.trunc(e / 2), i = 0; i <= n; i++)
                    xl.swap(t, i, e - i)
            }
            ,
            xl.swap = function(t, e, n) {
                if (e === n)
                    return null;
                for (var i = 0; i < t.getDimension(); i++) {
                    var r = t.getOrdinate(e, i);
                    t.setOrdinate(e, i, t.getOrdinate(n, i)),
                    t.setOrdinate(n, i, r)
                }
            }
            ,
            xl.copy = function(t, e, n, i, r) {
                for (var o = 0; o < r; o++)
                    xl.copyCoord(t, e + o, n, i + o)
            }
            ,
            xl.toString = function() {
                if (1 === arguments.length) {
                    var t = arguments[0]
                      , e = t.size();
                    if (0 === e)
                        return "()";
                    var n = t.getDimension()
                      , i = new uu;
                    i.append("(");
                    for (var r = 0; r < e; r++) {
                        r > 0 && i.append(" ");
                        for (var o = 0; o < n; o++)
                            o > 0 && i.append(","),
                            i.append(wl.toString(t.getOrdinate(r, o)))
                    }
                    return i.append(")"),
                    i.toString()
                }
            }
            ,
            xl.ensureValidRing = function(t, e) {
                var n = e.size();
                return 0 === n ? e : n <= 3 ? xl.createClosedRing(t, e, 4) : e.getOrdinate(0, gu.X) === e.getOrdinate(n - 1, gu.X) && e.getOrdinate(0, gu.Y) === e.getOrdinate(n - 1, gu.Y) ? e : xl.createClosedRing(t, e, n + 1)
            }
            ,
            xl.createClosedRing = function(t, e, n) {
                var i = t.create(n, e.getDimension())
                  , r = e.size();
                xl.copy(e, 0, i, 0, r);
                for (var o = r; o < n; o++)
                    xl.copy(e, 0, i, o, 1);
                return i
            }
            ;
            var Il = function(t) {
                function e(e, n) {
                    t.call(this, n),
                    this._points = null,
                    this.init(e)
                }
                t && (e.__proto__ = t),
                (e.prototype = Object.create(t && t.prototype)).constructor = e;
                var n = {
                    serialVersionUID: {
                        configurable: !0
                    }
                };
                return e.prototype.computeEnvelopeInternal = function() {
                    return this.isEmpty() ? new Cu : this._points.expandEnvelope(new Cu)
                }
                ,
                e.prototype.isRing = function() {
                    return this.isClosed() && this.isSimple()
                }
                ,
                e.prototype.getSortIndex = function() {
                    return t.SORTINDEX_LINESTRING
                }
                ,
                e.prototype.getCoordinates = function() {
                    return this._points.toCoordinateArray()
                }
                ,
                e.prototype.equalsExact = function() {
                    if (2 === arguments.length) {
                        var e = arguments[0]
                          , n = arguments[1];
                        if (!this.isEquivalentClass(e))
                            return !1;
                        var i = e;
                        if (this._points.size() !== i._points.size())
                            return !1;
                        for (var r = 0; r < this._points.size(); r++)
                            if (!this.equal(this._points.getCoordinate(r), i._points.getCoordinate(r), n))
                                return !1;
                        return !0
                    }
                    return t.prototype.equalsExact.apply(this, arguments)
                }
                ,
                e.prototype.normalize = function() {
                    for (var t = 0; t < Math.trunc(this._points.size() / 2); t++) {
                        var e = this._points.size() - 1 - t;
                        if (!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))
                            return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e)) > 0 && xl.reverse(this._points),
                            null
                    }
                }
                ,
                e.prototype.getCoordinate = function() {
                    return this.isEmpty() ? null : this._points.getCoordinate(0)
                }
                ,
                e.prototype.getBoundaryDimension = function() {
                    return this.isClosed() ? dl.FALSE : 0
                }
                ,
                e.prototype.isClosed = function() {
                    return !this.isEmpty() && this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints() - 1))
                }
                ,
                e.prototype.getEndPoint = function() {
                    return this.isEmpty() ? null : this.getPointN(this.getNumPoints() - 1)
                }
                ,
                e.prototype.getDimension = function() {
                    return 1
                }
                ,
                e.prototype.getLength = function() {
                    return ku.computeLength(this._points)
                }
                ,
                e.prototype.getNumPoints = function() {
                    return this._points.size()
                }
                ,
                e.prototype.reverse = function() {
                    var t = this._points.copy();
                    return xl.reverse(t),
                    this.getFactory().createLineString(t)
                }
                ,
                e.prototype.compareToSameClass = function() {
                    if (1 === arguments.length) {
                        for (var t = arguments[0], e = 0, n = 0; e < this._points.size() && n < t._points.size(); ) {
                            var i = this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));
                            if (0 !== i)
                                return i;
                            e++,
                            n++
                        }
                        return e < this._points.size() ? 1 : n < t._points.size() ? -1 : 0
                    }
                    if (2 === arguments.length) {
                        var r = arguments[0];
                        return arguments[1].compare(this._points, r._points)
                    }
                }
                ,
                e.prototype.apply = function() {
                    if (ou(arguments[0], Uu))
                        for (var t = arguments[0], e = 0; e < this._points.size(); e++)
                            t.filter(this._points.getCoordinate(e));
                    else if (ou(arguments[0], vl)) {
                        var n = arguments[0];
                        if (0 === this._points.size())
                            return null;
                        for (var i = 0; i < this._points.size() && (n.filter(this._points, i),
                        !n.isDone()); i++)
                            ;
                        n.isGeometryChanged() && this.geometryChanged()
                    } else
                        ou(arguments[0], yl) ? arguments[0].filter(this) : ou(arguments[0], Gu) && arguments[0].filter(this)
                }
                ,
                e.prototype.getBoundary = function() {
                    return new El(this).getBoundary()
                }
                ,
                e.prototype.isEquivalentClass = function(t) {
                    return t instanceof e
                }
                ,
                e.prototype.clone = function() {
                    var e = t.prototype.clone.call(this);
                    return e._points = this._points.clone(),
                    e
                }
                ,
                e.prototype.getCoordinateN = function(t) {
                    return this._points.getCoordinate(t)
                }
                ,
                e.prototype.getGeometryType = function() {
                    return "LineString"
                }
                ,
                e.prototype.copy = function() {
                    return new e(this._points.copy(),this._factory)
                }
                ,
                e.prototype.getCoordinateSequence = function() {
                    return this._points
                }
                ,
                e.prototype.isEmpty = function() {
                    return 0 === this._points.size()
                }
                ,
                e.prototype.init = function(t) {
                    if (null === t && (t = this.getFactory().getCoordinateSequenceFactory().create([])),
                    1 === t.size())
                        throw new Xa("Invalid number of points in LineString (found " + t.size() + " - must be 0 or >= 2)");
                    this._points = t
                }
                ,
                e.prototype.isCoordinate = function(t) {
                    for (var e = 0; e < this._points.size(); e++)
                        if (this._points.getCoordinate(e).equals(t))
                            return !0;
                    return !1
                }
                ,
                e.prototype.getStartPoint = function() {
                    return this.isEmpty() ? null : this.getPointN(0)
                }
                ,
                e.prototype.getPointN = function(t) {
                    return this.getFactory().createPoint(this._points.getCoordinate(t))
                }
                ,
                e.prototype.interfaces_ = function() {
                    return [hl]
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                n.serialVersionUID.get = function() {
                    return 0x2b2b51ba435c8e00
                }
                ,
                Object.defineProperties(e, n),
                e
            }(Bu)
              , Pl = function() {};
            Pl.prototype.interfaces_ = function() {
                return []
            }
            ,
            Pl.prototype.getClass = function() {
                return Pl
            }
            ;
            var Ll = function(t) {
                function e(e, n) {
                    t.call(this, n),
                    this._coordinates = e || null,
                    this.init(this._coordinates)
                }
                t && (e.__proto__ = t),
                (e.prototype = Object.create(t && t.prototype)).constructor = e;
                var n = {
                    serialVersionUID: {
                        configurable: !0
                    }
                };
                return e.prototype.computeEnvelopeInternal = function() {
                    if (this.isEmpty())
                        return new Cu;
                    var t = new Cu;
                    return t.expandToInclude(this._coordinates.getX(0), this._coordinates.getY(0)),
                    t
                }
                ,
                e.prototype.getSortIndex = function() {
                    return t.SORTINDEX_POINT
                }
                ,
                e.prototype.getCoordinates = function() {
                    return this.isEmpty() ? [] : [this.getCoordinate()]
                }
                ,
                e.prototype.equalsExact = function() {
                    if (2 === arguments.length) {
                        var e = arguments[0]
                          , n = arguments[1];
                        return !!this.isEquivalentClass(e) && (!(!this.isEmpty() || !e.isEmpty()) || this.isEmpty() === e.isEmpty() && this.equal(e.getCoordinate(), this.getCoordinate(), n))
                    }
                    return t.prototype.equalsExact.apply(this, arguments)
                }
                ,
                e.prototype.normalize = function() {}
                ,
                e.prototype.getCoordinate = function() {
                    return 0 !== this._coordinates.size() ? this._coordinates.getCoordinate(0) : null
                }
                ,
                e.prototype.getBoundaryDimension = function() {
                    return dl.FALSE
                }
                ,
                e.prototype.getDimension = function() {
                    return 0
                }
                ,
                e.prototype.getNumPoints = function() {
                    return this.isEmpty() ? 0 : 1
                }
                ,
                e.prototype.reverse = function() {
                    return this.copy()
                }
                ,
                e.prototype.getX = function() {
                    if (null === this.getCoordinate())
                        throw new Error("getX called on empty Point");
                    return this.getCoordinate().x
                }
                ,
                e.prototype.compareToSameClass = function() {
                    if (1 === arguments.length) {
                        var t = arguments[0];
                        return this.getCoordinate().compareTo(t.getCoordinate())
                    }
                    if (2 === arguments.length) {
                        var e = arguments[0];
                        return arguments[1].compare(this._coordinates, e._coordinates)
                    }
                }
                ,
                e.prototype.apply = function() {
                    if (ou(arguments[0], Uu)) {
                        var t = arguments[0];
                        if (this.isEmpty())
                            return null;
                        t.filter(this.getCoordinate())
                    } else if (ou(arguments[0], vl)) {
                        var e = arguments[0];
                        if (this.isEmpty())
                            return null;
                        e.filter(this._coordinates, 0),
                        e.isGeometryChanged() && this.geometryChanged()
                    } else
                        ou(arguments[0], yl) ? arguments[0].filter(this) : ou(arguments[0], Gu) && arguments[0].filter(this)
                }
                ,
                e.prototype.getBoundary = function() {
                    return this.getFactory().createGeometryCollection(null)
                }
                ,
                e.prototype.clone = function() {
                    var e = t.prototype.clone.call(this);
                    return e._coordinates = this._coordinates.clone(),
                    e
                }
                ,
                e.prototype.getGeometryType = function() {
                    return "Point"
                }
                ,
                e.prototype.copy = function() {
                    return new e(this._coordinates.copy(),this._factory)
                }
                ,
                e.prototype.getCoordinateSequence = function() {
                    return this._coordinates
                }
                ,
                e.prototype.getY = function() {
                    if (null === this.getCoordinate())
                        throw new Error("getY called on empty Point");
                    return this.getCoordinate().y
                }
                ,
                e.prototype.isEmpty = function() {
                    return 0 === this._coordinates.size()
                }
                ,
                e.prototype.init = function(t) {
                    null === t && (t = this.getFactory().getCoordinateSequenceFactory().create([])),
                    Mu.isTrue(t.size() <= 1),
                    this._coordinates = t
                }
                ,
                e.prototype.isSimple = function() {
                    return !0
                }
                ,
                e.prototype.interfaces_ = function() {
                    return [Pl]
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                n.serialVersionUID.get = function() {
                    return 0x44077bad161cbc00
                }
                ,
                Object.defineProperties(e, n),
                e
            }(Bu)
              , Sl = function() {};
            Sl.prototype.interfaces_ = function() {
                return []
            }
            ,
            Sl.prototype.getClass = function() {
                return Sl
            }
            ;
            var Nl = function(t) {
                function e(e, n, i) {
                    if (t.call(this, i),
                    this._shell = null,
                    this._holes = null,
                    null === e && (e = this.getFactory().createLinearRing()),
                    null === n && (n = []),
                    t.hasNullElements(n))
                        throw new Xa("holes must not contain null elements");
                    if (e.isEmpty() && t.hasNonEmptyElements(n))
                        throw new Xa("shell is empty but holes are not");
                    this._shell = e,
                    this._holes = n
                }
                t && (e.__proto__ = t),
                (e.prototype = Object.create(t && t.prototype)).constructor = e;
                var n = {
                    serialVersionUID: {
                        configurable: !0
                    }
                };
                return e.prototype.computeEnvelopeInternal = function() {
                    return this._shell.getEnvelopeInternal()
                }
                ,
                e.prototype.getSortIndex = function() {
                    return t.SORTINDEX_POLYGON
                }
                ,
                e.prototype.getCoordinates = function() {
                    if (this.isEmpty())
                        return [];
                    for (var t = new Array(this.getNumPoints()).fill(null), e = -1, n = this._shell.getCoordinates(), i = 0; i < n.length; i++)
                        t[++e] = n[i];
                    for (var r = 0; r < this._holes.length; r++)
                        for (var o = this._holes[r].getCoordinates(), s = 0; s < o.length; s++)
                            t[++e] = o[s];
                    return t
                }
                ,
                e.prototype.getArea = function() {
                    var t = 0;
                    t += Math.abs(ku.signedArea(this._shell.getCoordinateSequence()));
                    for (var e = 0; e < this._holes.length; e++)
                        t -= Math.abs(ku.signedArea(this._holes[e].getCoordinateSequence()));
                    return t
                }
                ,
                e.prototype.isRectangle = function() {
                    if (0 !== this.getNumInteriorRing())
                        return !1;
                    if (null === this._shell)
                        return !1;
                    if (5 !== this._shell.getNumPoints())
                        return !1;
                    for (var t = this._shell.getCoordinateSequence(), e = this.getEnvelopeInternal(), n = 0; n < 5; n++) {
                        var i = t.getX(n);
                        if (i !== e.getMinX() && i !== e.getMaxX())
                            return !1;
                        var r = t.getY(n);
                        if (r !== e.getMinY() && r !== e.getMaxY())
                            return !1
                    }
                    for (var o = t.getX(0), s = t.getY(0), a = 1; a <= 4; a++) {
                        var u = t.getX(a)
                          , l = t.getY(a);
                        if (u !== o == (l !== s))
                            return !1;
                        o = u,
                        s = l
                    }
                    return !0
                }
                ,
                e.prototype.equalsExact = function() {
                    if (2 === arguments.length) {
                        var e = arguments[0]
                          , n = arguments[1];
                        if (!this.isEquivalentClass(e))
                            return !1;
                        var i = e
                          , r = this._shell
                          , o = i._shell;
                        if (!r.equalsExact(o, n))
                            return !1;
                        if (this._holes.length !== i._holes.length)
                            return !1;
                        for (var s = 0; s < this._holes.length; s++)
                            if (!this._holes[s].equalsExact(i._holes[s], n))
                                return !1;
                        return !0
                    }
                    return t.prototype.equalsExact.apply(this, arguments)
                }
                ,
                e.prototype.normalize = function() {
                    if (0 === arguments.length) {
                        this.normalize(this._shell, !0);
                        for (var t = 0; t < this._holes.length; t++)
                            this.normalize(this._holes[t], !1);
                        fl.sort(this._holes)
                    } else if (2 === arguments.length) {
                        var e = arguments[0]
                          , n = arguments[1];
                        if (e.isEmpty())
                            return null;
                        var i = new Array(e.getCoordinates().length - 1).fill(null);
                        _u.arraycopy(e.getCoordinates(), 0, i, 0, i.length);
                        var r = nl.minCoordinate(e.getCoordinates());
                        nl.scroll(i, r),
                        _u.arraycopy(i, 0, e.getCoordinates(), 0, i.length),
                        e.getCoordinates()[i.length] = i[0],
                        ku.isCCW(e.getCoordinates()) === n && nl.reverse(e.getCoordinates())
                    }
                }
                ,
                e.prototype.getCoordinate = function() {
                    return this._shell.getCoordinate()
                }
                ,
                e.prototype.getNumInteriorRing = function() {
                    return this._holes.length
                }
                ,
                e.prototype.getBoundaryDimension = function() {
                    return 1
                }
                ,
                e.prototype.getDimension = function() {
                    return 2
                }
                ,
                e.prototype.getLength = function() {
                    var t = 0;
                    t += this._shell.getLength();
                    for (var e = 0; e < this._holes.length; e++)
                        t += this._holes[e].getLength();
                    return t
                }
                ,
                e.prototype.getNumPoints = function() {
                    for (var t = this._shell.getNumPoints(), e = 0; e < this._holes.length; e++)
                        t += this._holes[e].getNumPoints();
                    return t
                }
                ,
                e.prototype.reverse = function() {
                    var t = this.copy();
                    t._shell = this._shell.copy().reverse(),
                    t._holes = new Array(this._holes.length).fill(null);
                    for (var e = 0; e < this._holes.length; e++)
                        t._holes[e] = this._holes[e].copy().reverse();
                    return t
                }
                ,
                e.prototype.convexHull = function() {
                    return this.getExteriorRing().convexHull()
                }
                ,
                e.prototype.compareToSameClass = function() {
                    if (1 === arguments.length) {
                        var t = arguments[0]
                          , e = this._shell
                          , n = t._shell;
                        return e.compareToSameClass(n)
                    }
                    if (2 === arguments.length) {
                        var i = arguments[0]
                          , r = arguments[1]
                          , o = i
                          , s = this._shell
                          , a = o._shell
                          , u = s.compareToSameClass(a, r);
                        if (0 !== u)
                            return u;
                        for (var l = this.getNumInteriorRing(), c = o.getNumInteriorRing(), h = 0; h < l && h < c; ) {
                            var p = this.getInteriorRingN(h)
                              , f = o.getInteriorRingN(h)
                              , d = p.compareToSameClass(f, r);
                            if (0 !== d)
                                return d;
                            h++
                        }
                        return h < l ? 1 : h < c ? -1 : 0
                    }
                }
                ,
                e.prototype.apply = function(t) {
                    if (ou(t, Uu)) {
                        this._shell.apply(t);
                        for (var e = 0; e < this._holes.length; e++)
                            this._holes[e].apply(t)
                    } else if (ou(t, vl)) {
                        if (this._shell.apply(t),
                        !t.isDone())
                            for (var n = 0; n < this._holes.length && (this._holes[n].apply(t),
                            !t.isDone()); n++)
                                ;
                        t.isGeometryChanged() && this.geometryChanged()
                    } else if (ou(t, yl))
                        t.filter(this);
                    else if (ou(t, Gu)) {
                        t.filter(this),
                        this._shell.apply(t);
                        for (var i = 0; i < this._holes.length; i++)
                            this._holes[i].apply(t)
                    }
                }
                ,
                e.prototype.getBoundary = function() {
                    if (this.isEmpty())
                        return this.getFactory().createMultiLineString();
                    var t = new Array(this._holes.length + 1).fill(null);
                    t[0] = this._shell;
                    for (var e = 0; e < this._holes.length; e++)
                        t[e + 1] = this._holes[e];
                    return t.length <= 1 ? this.getFactory().createLinearRing(t[0].getCoordinateSequence()) : this.getFactory().createMultiLineString(t)
                }
                ,
                e.prototype.clone = function() {
                    var e = t.prototype.clone.call(this);
                    e._shell = this._shell.clone(),
                    e._holes = new Array(this._holes.length).fill(null);
                    for (var n = 0; n < this._holes.length; n++)
                        e._holes[n] = this._holes[n].clone();
                    return e
                }
                ,
                e.prototype.getGeometryType = function() {
                    return "Polygon"
                }
                ,
                e.prototype.copy = function() {
                    for (var t = this._shell.copy(), n = new Array(this._holes.length).fill(null), i = 0; i < n.length; i++)
                        n[i] = this._holes[i].copy();
                    return new e(t,n,this._factory)
                }
                ,
                e.prototype.getExteriorRing = function() {
                    return this._shell
                }
                ,
                e.prototype.isEmpty = function() {
                    return this._shell.isEmpty()
                }
                ,
                e.prototype.getInteriorRingN = function(t) {
                    return this._holes[t]
                }
                ,
                e.prototype.interfaces_ = function() {
                    return [Sl]
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                n.serialVersionUID.get = function() {
                    return -0x307ffefd8dc97200
                }
                ,
                Object.defineProperties(e, n),
                e
            }(Bu)
              , Ml = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                t && (e.__proto__ = t),
                (e.prototype = Object.create(t && t.prototype)).constructor = e;
                var n = {
                    serialVersionUID: {
                        configurable: !0
                    }
                };
                return e.prototype.getSortIndex = function() {
                    return Bu.SORTINDEX_MULTIPOINT
                }
                ,
                e.prototype.isValid = function() {
                    return !0
                }
                ,
                e.prototype.equalsExact = function() {
                    if (2 === arguments.length) {
                        var e = arguments[0]
                          , n = arguments[1];
                        return !!this.isEquivalentClass(e) && t.prototype.equalsExact.call(this, e, n)
                    }
                    return t.prototype.equalsExact.apply(this, arguments)
                }
                ,
                e.prototype.getCoordinate = function() {
                    if (1 === arguments.length) {
                        var e = arguments[0];
                        return this._geometries[e].getCoordinate()
                    }
                    return t.prototype.getCoordinate.apply(this, arguments)
                }
                ,
                e.prototype.getBoundaryDimension = function() {
                    return dl.FALSE
                }
                ,
                e.prototype.getDimension = function() {
                    return 0
                }
                ,
                e.prototype.getBoundary = function() {
                    return this.getFactory().createGeometryCollection(null)
                }
                ,
                e.prototype.getGeometryType = function() {
                    return "MultiPoint"
                }
                ,
                e.prototype.copy = function() {
                    for (var t = new Array(this._geometries.length).fill(null), n = 0; n < t.length; n++)
                        t[n] = this._geometries[n].copy();
                    return new e(t,this._factory)
                }
                ,
                e.prototype.interfaces_ = function() {
                    return [Pl]
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                n.serialVersionUID.get = function() {
                    return -0x6fb1ed4162e0fc00
                }
                ,
                Object.defineProperties(e, n),
                e
            }(ml)
              , Tl = function(t) {
                function e(e, n) {
                    e instanceof Ja && n instanceof Xl && (e = n.getCoordinateSequenceFactory().create(e)),
                    t.call(this, e, n),
                    this.validateConstruction()
                }
                t && (e.__proto__ = t),
                (e.prototype = Object.create(t && t.prototype)).constructor = e;
                var n = {
                    MINIMUM_VALID_SIZE: {
                        configurable: !0
                    },
                    serialVersionUID: {
                        configurable: !0
                    }
                };
                return e.prototype.getSortIndex = function() {
                    return Bu.SORTINDEX_LINEARRING
                }
                ,
                e.prototype.getBoundaryDimension = function() {
                    return dl.FALSE
                }
                ,
                e.prototype.isClosed = function() {
                    return !!this.isEmpty() || t.prototype.isClosed.call(this)
                }
                ,
                e.prototype.reverse = function() {
                    var t = this._points.copy();
                    return xl.reverse(t),
                    this.getFactory().createLinearRing(t)
                }
                ,
                e.prototype.validateConstruction = function() {
                    if (!this.isEmpty() && !t.prototype.isClosed.call(this))
                        throw new Xa("Points of LinearRing do not form a closed linestring");
                    if (this.getCoordinateSequence().size() >= 1 && this.getCoordinateSequence().size() < e.MINIMUM_VALID_SIZE)
                        throw new Xa("Invalid number of points in LinearRing (found " + this.getCoordinateSequence().size() + " - must be 0 or >= 4)")
                }
                ,
                e.prototype.getGeometryType = function() {
                    return "LinearRing"
                }
                ,
                e.prototype.copy = function() {
                    return new e(this._points.copy(),this._factory)
                }
                ,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                n.MINIMUM_VALID_SIZE.get = function() {
                    return 4
                }
                ,
                n.serialVersionUID.get = function() {
                    return -0x3b229e262367a600
                }
                ,
                Object.defineProperties(e, n),
                e
            }(Il)
              , Ol = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                t && (e.__proto__ = t),
                (e.prototype = Object.create(t && t.prototype)).constructor = e;
                var n = {
                    serialVersionUID: {
                        configurable: !0
                    }
                };
                return e.prototype.getSortIndex = function() {
                    return Bu.SORTINDEX_MULTIPOLYGON
                }
                ,
                e.prototype.equalsExact = function() {
                    if (2 === arguments.length) {
                        var e = arguments[0]
                          , n = arguments[1];
                        return !!this.isEquivalentClass(e) && t.prototype.equalsExact.call(this, e, n)
                    }
                    return t.prototype.equalsExact.apply(this, arguments)
                }
                ,
                e.prototype.getBoundaryDimension = function() {
                    return 1
                }
                ,
                e.prototype.getDimension = function() {
                    return 2
                }
                ,
                e.prototype.reverse = function() {
                    for (var t = this._geometries.length, e = new Array(t).fill(null), n = 0; n < this._geometries.length; n++)
                        e[n] = this._geometries[n].reverse();
                    return this.getFactory().createMultiPolygon(e)
                }
                ,
                e.prototype.getBoundary = function() {
                    if (this.isEmpty())
                        return this.getFactory().createMultiLineString();
                    for (var t = new Ju, e = 0; e < this._geometries.length; e++)
                        for (var n = this._geometries[e].getBoundary(), i = 0; i < n.getNumGeometries(); i++)
                            t.add(n.getGeometryN(i));
                    var r = new Array(t.size()).fill(null);
                    return this.getFactory().createMultiLineString(t.toArray(r))
                }
                ,
                e.prototype.getGeometryType = function() {
                    return "MultiPolygon"
                }
                ,
                e.prototype.copy = function() {
                    for (var t = new Array(this._geometries.length).fill(null), n = 0; n < t.length; n++)
                        t[n] = this._geometries[n].copy();
                    return new e(t,this._factory)
                }
                ,
                e.prototype.interfaces_ = function() {
                    return [Sl]
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                n.serialVersionUID.get = function() {
                    return -0x7a5aa1369171980
                }
                ,
                Object.defineProperties(e, n),
                e
            }(ml)
              , Al = function(t) {
                this._factory = t || null,
                this._isUserDataCopied = !1
            }
              , Dl = {
                NoOpGeometryOperation: {
                    configurable: !0
                },
                CoordinateOperation: {
                    configurable: !0
                },
                CoordinateSequenceOperation: {
                    configurable: !0
                }
            };
            Al.prototype.setCopyUserData = function(t) {
                this._isUserDataCopied = t
            }
            ,
            Al.prototype.edit = function(t, e) {
                if (null === t)
                    return null;
                var n = this.editInternal(t, e);
                return this._isUserDataCopied && n.setUserData(t.getUserData()),
                n
            }
            ,
            Al.prototype.editInternal = function(t, e) {
                return null === this._factory && (this._factory = t.getFactory()),
                t instanceof ml ? this.editGeometryCollection(t, e) : t instanceof Nl ? this.editPolygon(t, e) : t instanceof Ll ? e.edit(t, this._factory) : t instanceof Il ? e.edit(t, this._factory) : (Mu.shouldNeverReachHere("Unsupported Geometry class: " + t.getClass().getName()),
                null)
            }
            ,
            Al.prototype.editGeometryCollection = function(t, e) {
                for (var n = e.edit(t, this._factory), i = new Ju, r = 0; r < n.getNumGeometries(); r++) {
                    var o = this.edit(n.getGeometryN(r), e);
                    null === o || o.isEmpty() || i.add(o)
                }
                return n.getClass() === Ml ? this._factory.createMultiPoint(i.toArray([])) : n.getClass() === _l ? this._factory.createMultiLineString(i.toArray([])) : n.getClass() === Ol ? this._factory.createMultiPolygon(i.toArray([])) : this._factory.createGeometryCollection(i.toArray([]))
            }
            ,
            Al.prototype.editPolygon = function(t, e) {
                var n = e.edit(t, this._factory);
                if (null === n && (n = this._factory.createPolygon(null)),
                n.isEmpty())
                    return n;
                var i = this.edit(n.getExteriorRing(), e);
                if (null === i || i.isEmpty())
                    return this._factory.createPolygon();
                for (var r = new Ju, o = 0; o < n.getNumInteriorRing(); o++) {
                    var s = this.edit(n.getInteriorRingN(o), e);
                    null === s || s.isEmpty() || r.add(s)
                }
                return this._factory.createPolygon(i, r.toArray([]))
            }
            ,
            Al.prototype.interfaces_ = function() {
                return []
            }
            ,
            Al.prototype.getClass = function() {
                return Al
            }
            ,
            Al.GeometryEditorOperation = function() {}
            ,
            Dl.NoOpGeometryOperation.get = function() {
                return Rl
            }
            ,
            Dl.CoordinateOperation.get = function() {
                return kl
            }
            ,
            Dl.CoordinateSequenceOperation.get = function() {
                return Fl
            }
            ,
            Object.defineProperties(Al, Dl);
            var Rl = function() {};
            Rl.prototype.edit = function(t, e) {
                return t
            }
            ,
            Rl.prototype.interfaces_ = function() {
                return [Al.GeometryEditorOperation]
            }
            ,
            Rl.prototype.getClass = function() {
                return Rl
            }
            ;
            var kl = function() {};
            kl.prototype.edit = function(t, e) {
                var n = this.editCoordinates(t.getCoordinates(), t);
                return null === n ? t : t instanceof Tl ? e.createLinearRing(n) : t instanceof Il ? e.createLineString(n) : t instanceof Ll ? n.length > 0 ? e.createPoint(n[0]) : e.createPoint() : t
            }
            ,
            kl.prototype.interfaces_ = function() {
                return [Al.GeometryEditorOperation]
            }
            ,
            kl.prototype.getClass = function() {
                return kl
            }
            ;
            var Fl = function() {};
            Fl.prototype.edit = function(t, e) {
                return t instanceof Tl ? e.createLinearRing(this.edit(t.getCoordinateSequence(), t)) : t instanceof Il ? e.createLineString(this.edit(t.getCoordinateSequence(), t)) : t instanceof Ll ? e.createPoint(this.edit(t.getCoordinateSequence(), t)) : t
            }
            ,
            Fl.prototype.interfaces_ = function() {
                return [Al.GeometryEditorOperation]
            }
            ,
            Fl.prototype.getClass = function() {
                return Fl
            }
            ;
            var Gl = function() {
                if (this._dimension = 3,
                this._coordinates = null,
                1 === arguments.length) {
                    if (arguments[0]instanceof Array)
                        this._coordinates = arguments[0],
                        this._dimension = 3;
                    else if (Number.isInteger(arguments[0])) {
                        var t = arguments[0];
                        this._coordinates = new Array(t).fill(null);
                        for (var e = 0; e < t; e++)
                            this._coordinates[e] = new Ja
                    } else if (ou(arguments[0], gu)) {
                        var n = arguments[0];
                        if (null === n)
                            return this._coordinates = new Array(0).fill(null),
                            null;
                        this._dimension = n.getDimension(),
                        this._coordinates = new Array(n.size()).fill(null);
                        for (var i = 0; i < this._coordinates.length; i++)
                            this._coordinates[i] = n.getCoordinateCopy(i)
                    }
                } else if (2 === arguments.length)
                    if (arguments[0]instanceof Array && Number.isInteger(arguments[1])) {
                        var r = arguments[0]
                          , o = arguments[1];
                        this._coordinates = r,
                        this._dimension = o,
                        null === r && (this._coordinates = new Array(0).fill(null))
                    } else if (Number.isInteger(arguments[0]) && Number.isInteger(arguments[1])) {
                        var s = arguments[0]
                          , a = arguments[1];
                        this._coordinates = new Array(s).fill(null),
                        this._dimension = a;
                        for (var u = 0; u < s; u++)
                            this._coordinates[u] = new Ja
                    }
            }
              , Bl = {
                serialVersionUID: {
                    configurable: !0
                }
            };
            Gl.prototype.setOrdinate = function(t, e, n) {
                switch (e) {
                case gu.X:
                    this._coordinates[t].x = n;
                    break;
                case gu.Y:
                    this._coordinates[t].y = n;
                    break;
                case gu.Z:
                    this._coordinates[t].z = n;
                    break;
                default:
                    throw new Xa("invalid ordinateIndex")
                }
            }
            ,
            Gl.prototype.size = function() {
                return this._coordinates.length
            }
            ,
            Gl.prototype.getOrdinate = function(t, e) {
                switch (e) {
                case gu.X:
                    return this._coordinates[t].x;
                case gu.Y:
                    return this._coordinates[t].y;
                case gu.Z:
                    return this._coordinates[t].z
                }
                return Wa.NaN
            }
            ,
            Gl.prototype.getCoordinate = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    return this._coordinates[t]
                }
                if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1];
                    n.x = this._coordinates[e].x,
                    n.y = this._coordinates[e].y,
                    n.z = this._coordinates[e].z
                }
            }
            ,
            Gl.prototype.getCoordinateCopy = function(t) {
                return new Ja(this._coordinates[t])
            }
            ,
            Gl.prototype.getDimension = function() {
                return this._dimension
            }
            ,
            Gl.prototype.getX = function(t) {
                return this._coordinates[t].x
            }
            ,
            Gl.prototype.clone = function() {
                for (var t = new Array(this.size()).fill(null), e = 0; e < this._coordinates.length; e++)
                    t[e] = this._coordinates[e].clone();
                return new Gl(t,this._dimension)
            }
            ,
            Gl.prototype.expandEnvelope = function(t) {
                for (var e = 0; e < this._coordinates.length; e++)
                    t.expandToInclude(this._coordinates[e]);
                return t
            }
            ,
            Gl.prototype.copy = function() {
                for (var t = new Array(this.size()).fill(null), e = 0; e < this._coordinates.length; e++)
                    t[e] = this._coordinates[e].copy();
                return new Gl(t,this._dimension)
            }
            ,
            Gl.prototype.toString = function() {
                if (this._coordinates.length > 0) {
                    var t = new uu(17 * this._coordinates.length);
                    t.append("("),
                    t.append(this._coordinates[0]);
                    for (var e = 1; e < this._coordinates.length; e++)
                        t.append(", "),
                        t.append(this._coordinates[e]);
                    return t.append(")"),
                    t.toString()
                }
                return "()"
            }
            ,
            Gl.prototype.getY = function(t) {
                return this._coordinates[t].y
            }
            ,
            Gl.prototype.toCoordinateArray = function() {
                return this._coordinates
            }
            ,
            Gl.prototype.interfaces_ = function() {
                return [gu, yr]
            }
            ,
            Gl.prototype.getClass = function() {
                return Gl
            }
            ,
            Bl.serialVersionUID.get = function() {
                return -0xcb44a778db18e00
            }
            ,
            Object.defineProperties(Gl, Bl);
            var ql = function() {}
              , Vl = {
                serialVersionUID: {
                    configurable: !0
                },
                instanceObject: {
                    configurable: !0
                }
            };
            ql.prototype.readResolve = function() {
                return ql.instance()
            }
            ,
            ql.prototype.create = function() {
                if (1 === arguments.length) {
                    if (arguments[0]instanceof Array) {
                        var t = arguments[0];
                        return new Gl(t)
                    }
                    if (ou(arguments[0], gu)) {
                        var e = arguments[0];
                        return new Gl(e)
                    }
                } else if (2 === arguments.length) {
                    var n = arguments[0]
                      , i = arguments[1];
                    return i > 3 && (i = 3),
                    i < 2 ? new Gl(n) : new Gl(n,i)
                }
            }
            ,
            ql.prototype.interfaces_ = function() {
                return [nu, yr]
            }
            ,
            ql.prototype.getClass = function() {
                return ql
            }
            ,
            ql.instance = function() {
                return ql.instanceObject
            }
            ,
            Vl.serialVersionUID.get = function() {
                return -0x38e49fa6cf6f2e00
            }
            ,
            Vl.instanceObject.get = function() {
                return new ql
            }
            ,
            Object.defineProperties(ql, Vl);
            var Ul = function(t) {
                function e() {
                    t.call(this),
                    this.map_ = new Map
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.get = function(t) {
                    return this.map_.get(t) || null
                }
                ,
                e.prototype.put = function(t, e) {
                    return this.map_.set(t, e),
                    e
                }
                ,
                e.prototype.values = function() {
                    for (var t = new Ju, e = this.map_.values(), n = e.next(); !n.done; )
                        t.add(n.value),
                        n = e.next();
                    return t
                }
                ,
                e.prototype.entrySet = function() {
                    var t = new ul;
                    return this.map_.entries().forEach(function(e) {
                        return t.add(e)
                    }),
                    t
                }
                ,
                e.prototype.size = function() {
                    return this.map_.size()
                }
                ,
                e
            }(sl)
              , jl = function t() {
                if (this._modelType = null,
                this._scale = null,
                0 === arguments.length)
                    this._modelType = t.FLOATING;
                else if (1 === arguments.length)
                    if (arguments[0]instanceof Yl) {
                        var e = arguments[0];
                        this._modelType = e,
                        e === t.FIXED && this.setScale(1)
                    } else if ("number" == typeof arguments[0]) {
                        var n = arguments[0];
                        this._modelType = t.FIXED,
                        this.setScale(n)
                    } else if (arguments[0]instanceof t) {
                        var i = arguments[0];
                        this._modelType = i._modelType,
                        this._scale = i._scale
                    }
            }
              , zl = {
                serialVersionUID: {
                    configurable: !0
                },
                maximumPreciseValue: {
                    configurable: !0
                }
            };
            jl.prototype.equals = function(t) {
                if (!(t instanceof jl))
                    return !1;
                var e = t;
                return this._modelType === e._modelType && this._scale === e._scale
            }
            ,
            jl.prototype.compareTo = function(t) {
                var e = t
                  , n = this.getMaximumSignificantDigits()
                  , i = e.getMaximumSignificantDigits();
                return new lu(n).compareTo(new lu(i))
            }
            ,
            jl.prototype.getScale = function() {
                return this._scale
            }
            ,
            jl.prototype.isFloating = function() {
                return this._modelType === jl.FLOATING || this._modelType === jl.FLOATING_SINGLE
            }
            ,
            jl.prototype.getType = function() {
                return this._modelType
            }
            ,
            jl.prototype.toString = function() {
                var t = "UNKNOWN";
                return this._modelType === jl.FLOATING ? t = "Floating" : this._modelType === jl.FLOATING_SINGLE ? t = "Floating-Single" : this._modelType === jl.FIXED && (t = "Fixed (Scale=" + this.getScale() + ")"),
                t
            }
            ,
            jl.prototype.makePrecise = function() {
                if ("number" == typeof arguments[0]) {
                    var t = arguments[0];
                    return Wa.isNaN(t) ? t : this._modelType === jl.FLOATING_SINGLE ? t : this._modelType === jl.FIXED ? Math.round(t * this._scale) / this._scale : t
                }
                if (arguments[0]instanceof Ja) {
                    var e = arguments[0];
                    if (this._modelType === jl.FLOATING)
                        return null;
                    e.x = this.makePrecise(e.x),
                    e.y = this.makePrecise(e.y)
                }
            }
            ,
            jl.prototype.getMaximumSignificantDigits = function() {
                var t = 16;
                return this._modelType === jl.FLOATING ? t = 16 : this._modelType === jl.FLOATING_SINGLE ? t = 6 : this._modelType === jl.FIXED && (t = 1 + Math.trunc(Math.ceil(Math.log(this.getScale()) / Math.log(10)))),
                t
            }
            ,
            jl.prototype.setScale = function(t) {
                this._scale = Math.abs(t)
            }
            ,
            jl.prototype.interfaces_ = function() {
                return [yr, Ka]
            }
            ,
            jl.prototype.getClass = function() {
                return jl
            }
            ,
            jl.mostPrecise = function(t, e) {
                return t.compareTo(e) >= 0 ? t : e
            }
            ,
            zl.serialVersionUID.get = function() {
                return 0x6bee6404e9a25c00
            }
            ,
            zl.maximumPreciseValue.get = function() {
                return 9007199254740992
            }
            ,
            Object.defineProperties(jl, zl);
            var Yl = function t(e) {
                this._name = e || null,
                t.nameToTypeMap.put(e, this)
            }
              , Hl = {
                serialVersionUID: {
                    configurable: !0
                },
                nameToTypeMap: {
                    configurable: !0
                }
            };
            Yl.prototype.readResolve = function() {
                return Yl.nameToTypeMap.get(this._name)
            }
            ,
            Yl.prototype.toString = function() {
                return this._name
            }
            ,
            Yl.prototype.interfaces_ = function() {
                return [yr]
            }
            ,
            Yl.prototype.getClass = function() {
                return Yl
            }
            ,
            Hl.serialVersionUID.get = function() {
                return -552860263173159e4
            }
            ,
            Hl.nameToTypeMap.get = function() {
                return new Ul
            }
            ,
            Object.defineProperties(Yl, Hl),
            jl.Type = Yl,
            jl.FIXED = new Yl("FIXED"),
            jl.FLOATING = new Yl("FLOATING"),
            jl.FLOATING_SINGLE = new Yl("FLOATING SINGLE");
            var Xl = function t() {
                this._precisionModel = new jl,
                this._SRID = 0,
                this._coordinateSequenceFactory = t.getDefaultCoordinateSequenceFactory(),
                0 === arguments.length || (1 === arguments.length ? ou(arguments[0], nu) ? this._coordinateSequenceFactory = arguments[0] : arguments[0]instanceof jl && (this._precisionModel = arguments[0]) : 2 === arguments.length ? (this._precisionModel = arguments[0],
                this._SRID = arguments[1]) : 3 === arguments.length && (this._precisionModel = arguments[0],
                this._SRID = arguments[1],
                this._coordinateSequenceFactory = arguments[2]))
            }
              , Wl = {
                serialVersionUID: {
                    configurable: !0
                }
            };
            Xl.prototype.toGeometry = function(t) {
                return t.isNull() ? this.createPoint(null) : t.getMinX() === t.getMaxX() && t.getMinY() === t.getMaxY() ? this.createPoint(new Ja(t.getMinX(),t.getMinY())) : t.getMinX() === t.getMaxX() || t.getMinY() === t.getMaxY() ? this.createLineString([new Ja(t.getMinX(),t.getMinY()), new Ja(t.getMaxX(),t.getMaxY())]) : this.createPolygon(this.createLinearRing([new Ja(t.getMinX(),t.getMinY()), new Ja(t.getMinX(),t.getMaxY()), new Ja(t.getMaxX(),t.getMaxY()), new Ja(t.getMaxX(),t.getMinY()), new Ja(t.getMinX(),t.getMinY())]), null)
            }
            ,
            Xl.prototype.createLineString = function(t) {
                return t ? t instanceof Array ? new Il(this.getCoordinateSequenceFactory().create(t),this) : ou(t, gu) ? new Il(t,this) : void 0 : new Il(this.getCoordinateSequenceFactory().create([]),this)
            }
            ,
            Xl.prototype.createMultiLineString = function() {
                if (0 === arguments.length)
                    return new _l(null,this);
                if (1 === arguments.length) {
                    var t = arguments[0];
                    return new _l(t,this)
                }
            }
            ,
            Xl.prototype.buildGeometry = function(t) {
                for (var e = null, n = !1, i = !1, r = t.iterator(); r.hasNext(); ) {
                    var o = r.next()
                      , s = o.getClass();
                    null === e && (e = s),
                    s !== e && (n = !0),
                    o.isGeometryCollectionOrDerived() && (i = !0)
                }
                if (null === e)
                    return this.createGeometryCollection();
                if (n || i)
                    return this.createGeometryCollection(Xl.toGeometryArray(t));
                var a = t.iterator().next();
                if (t.size() > 1) {
                    if (a instanceof Nl)
                        return this.createMultiPolygon(Xl.toPolygonArray(t));
                    if (a instanceof Il)
                        return this.createMultiLineString(Xl.toLineStringArray(t));
                    if (a instanceof Ll)
                        return this.createMultiPoint(Xl.toPointArray(t));
                    Mu.shouldNeverReachHere("Unhandled class: " + a.getClass().getName())
                }
                return a
            }
            ,
            Xl.prototype.createMultiPointFromCoords = function(t) {
                return this.createMultiPoint(null !== t ? this.getCoordinateSequenceFactory().create(t) : null)
            }
            ,
            Xl.prototype.createPoint = function() {
                if (0 === arguments.length)
                    return this.createPoint(this.getCoordinateSequenceFactory().create([]));
                if (1 === arguments.length) {
                    if (arguments[0]instanceof Ja) {
                        var t = arguments[0];
                        return this.createPoint(null !== t ? this.getCoordinateSequenceFactory().create([t]) : null)
                    }
                    if (ou(arguments[0], gu)) {
                        var e = arguments[0];
                        return new Ll(e,this)
                    }
                }
            }
            ,
            Xl.prototype.getCoordinateSequenceFactory = function() {
                return this._coordinateSequenceFactory
            }
            ,
            Xl.prototype.createPolygon = function() {
                if (0 === arguments.length)
                    return new Nl(null,null,this);
                if (1 === arguments.length) {
                    if (ou(arguments[0], gu)) {
                        var t = arguments[0];
                        return this.createPolygon(this.createLinearRing(t))
                    }
                    if (arguments[0]instanceof Array) {
                        var e = arguments[0];
                        return this.createPolygon(this.createLinearRing(e))
                    }
                    if (arguments[0]instanceof Tl) {
                        var n = arguments[0];
                        return this.createPolygon(n, null)
                    }
                } else if (2 === arguments.length) {
                    var i = arguments[0]
                      , r = arguments[1];
                    return new Nl(i,r,this)
                }
            }
            ,
            Xl.prototype.getSRID = function() {
                return this._SRID
            }
            ,
            Xl.prototype.createGeometryCollection = function() {
                if (0 === arguments.length)
                    return new ml(null,this);
                if (1 === arguments.length) {
                    var t = arguments[0];
                    return new ml(t,this)
                }
            }
            ,
            Xl.prototype.createGeometry = function(t) {
                return new Al(this).edit(t, {
                    edit: function() {
                        if (2 === arguments.length) {
                            var t = arguments[0];
                            return this._coordinateSequenceFactory.create(t)
                        }
                    }
                })
            }
            ,
            Xl.prototype.getPrecisionModel = function() {
                return this._precisionModel
            }
            ,
            Xl.prototype.createLinearRing = function() {
                if (0 === arguments.length)
                    return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));
                if (1 === arguments.length) {
                    if (arguments[0]instanceof Array) {
                        var t = arguments[0];
                        return this.createLinearRing(null !== t ? this.getCoordinateSequenceFactory().create(t) : null)
                    }
                    if (ou(arguments[0], gu)) {
                        var e = arguments[0];
                        return new Tl(e,this)
                    }
                }
            }
            ,
            Xl.prototype.createMultiPolygon = function() {
                if (0 === arguments.length)
                    return new Ol(null,this);
                if (1 === arguments.length) {
                    var t = arguments[0];
                    return new Ol(t,this)
                }
            }
            ,
            Xl.prototype.createMultiPoint = function() {
                if (0 === arguments.length)
                    return new Ml(null,this);
                if (1 === arguments.length) {
                    if (arguments[0]instanceof Array) {
                        var t = arguments[0];
                        return new Ml(t,this)
                    }
                    if (arguments[0]instanceof Array) {
                        var e = arguments[0];
                        return this.createMultiPoint(null !== e ? this.getCoordinateSequenceFactory().create(e) : null)
                    }
                    if (ou(arguments[0], gu)) {
                        var n = arguments[0];
                        if (null === n)
                            return this.createMultiPoint(new Array(0).fill(null));
                        for (var i = new Array(n.size()).fill(null), r = 0; r < n.size(); r++) {
                            var o = this.getCoordinateSequenceFactory().create(1, n.getDimension());
                            xl.copy(n, r, o, 0, 1),
                            i[r] = this.createPoint(o)
                        }
                        return this.createMultiPoint(i)
                    }
                }
            }
            ,
            Xl.prototype.interfaces_ = function() {
                return [yr]
            }
            ,
            Xl.prototype.getClass = function() {
                return Xl
            }
            ,
            Xl.toMultiPolygonArray = function(t) {
                var e = new Array(t.size()).fill(null);
                return t.toArray(e)
            }
            ,
            Xl.toGeometryArray = function(t) {
                if (null === t)
                    return null;
                var e = new Array(t.size()).fill(null);
                return t.toArray(e)
            }
            ,
            Xl.getDefaultCoordinateSequenceFactory = function() {
                return ql.instance()
            }
            ,
            Xl.toMultiLineStringArray = function(t) {
                var e = new Array(t.size()).fill(null);
                return t.toArray(e)
            }
            ,
            Xl.toLineStringArray = function(t) {
                var e = new Array(t.size()).fill(null);
                return t.toArray(e)
            }
            ,
            Xl.toMultiPointArray = function(t) {
                var e = new Array(t.size()).fill(null);
                return t.toArray(e)
            }
            ,
            Xl.toLinearRingArray = function(t) {
                var e = new Array(t.size()).fill(null);
                return t.toArray(e)
            }
            ,
            Xl.toPointArray = function(t) {
                var e = new Array(t.size()).fill(null);
                return t.toArray(e)
            }
            ,
            Xl.toPolygonArray = function(t) {
                var e = new Array(t.size()).fill(null);
                return t.toArray(e)
            }
            ,
            Xl.createPointFromInternalCoord = function(t, e) {
                return e.getPrecisionModel().makePrecise(t),
                e.getFactory().createPoint(t)
            }
            ,
            Wl.serialVersionUID.get = function() {
                return -0x5ea75f2051eeb400
            }
            ,
            Object.defineProperties(Xl, Wl);
            var $l = ["Point", "MultiPoint", "LineString", "MultiLineString", "Polygon", "MultiPolygon"]
              , Kl = function(t) {
                this.geometryFactory = t || new Xl
            };
            Kl.prototype.read = function(t) {
                var e, n = (e = "string" == typeof t ? JSON.parse(t) : t).type;
                if (!Zl[n])
                    throw new Error("Unknown GeoJSON type: " + e.type);
                return -1 !== $l.indexOf(n) ? Zl[n].apply(this, [e.coordinates]) : "GeometryCollection" === n ? Zl[n].apply(this, [e.geometries]) : Zl[n].apply(this, [e])
            }
            ,
            Kl.prototype.write = function(t) {
                var e = t.getGeometryType();
                if (!Ql[e])
                    throw new Error("Geometry is not supported");
                return Ql[e].apply(this, [t])
            }
            ;
            var Zl = {
                Feature: function(t) {
                    var e = {};
                    for (var n in t)
                        e[n] = t[n];
                    if (t.geometry) {
                        var i = t.geometry.type;
                        if (!Zl[i])
                            throw new Error("Unknown GeoJSON type: " + t.type);
                        e.geometry = this.read(t.geometry)
                    }
                    return t.bbox && (e.bbox = Zl.bbox.apply(this, [t.bbox])),
                    e
                },
                FeatureCollection: function(t) {
                    var e = {};
                    if (t.features) {
                        e.features = [];
                        for (var n = 0; n < t.features.length; ++n)
                            e.features.push(this.read(t.features[n]))
                    }
                    return t.bbox && (e.bbox = this.parse.bbox.apply(this, [t.bbox])),
                    e
                },
                coordinates: function(t) {
                    for (var e = [], n = 0; n < t.length; ++n) {
                        var i = t[n];
                        e.push(new Ja(i[0],i[1]))
                    }
                    return e
                },
                bbox: function(t) {
                    return this.geometryFactory.createLinearRing([new Ja(t[0],t[1]), new Ja(t[2],t[1]), new Ja(t[2],t[3]), new Ja(t[0],t[3]), new Ja(t[0],t[1])])
                },
                Point: function(t) {
                    var e = new Ja(t[0],t[1]);
                    return this.geometryFactory.createPoint(e)
                },
                MultiPoint: function(t) {
                    for (var e = [], n = 0; n < t.length; ++n)
                        e.push(Zl.Point.apply(this, [t[n]]));
                    return this.geometryFactory.createMultiPoint(e)
                },
                LineString: function(t) {
                    var e = Zl.coordinates.apply(this, [t]);
                    return this.geometryFactory.createLineString(e)
                },
                MultiLineString: function(t) {
                    for (var e = [], n = 0; n < t.length; ++n)
                        e.push(Zl.LineString.apply(this, [t[n]]));
                    return this.geometryFactory.createMultiLineString(e)
                },
                Polygon: function(t) {
                    for (var e = Zl.coordinates.apply(this, [t[0]]), n = this.geometryFactory.createLinearRing(e), i = [], r = 1; r < t.length; ++r) {
                        var o = t[r]
                          , s = Zl.coordinates.apply(this, [o])
                          , a = this.geometryFactory.createLinearRing(s);
                        i.push(a)
                    }
                    return this.geometryFactory.createPolygon(n, i)
                },
                MultiPolygon: function(t) {
                    for (var e = [], n = 0; n < t.length; ++n) {
                        var i = t[n];
                        e.push(Zl.Polygon.apply(this, [i]))
                    }
                    return this.geometryFactory.createMultiPolygon(e)
                },
                GeometryCollection: function(t) {
                    for (var e = [], n = 0; n < t.length; ++n) {
                        var i = t[n];
                        e.push(this.read(i))
                    }
                    return this.geometryFactory.createGeometryCollection(e)
                }
            }
              , Ql = {
                coordinate: function(t) {
                    return [t.x, t.y]
                },
                Point: function(t) {
                    return {
                        type: "Point",
                        coordinates: Ql.coordinate.apply(this, [t.getCoordinate()])
                    }
                },
                MultiPoint: function(t) {
                    for (var e = [], n = 0; n < t._geometries.length; ++n) {
                        var i = t._geometries[n]
                          , r = Ql.Point.apply(this, [i]);
                        e.push(r.coordinates)
                    }
                    return {
                        type: "MultiPoint",
                        coordinates: e
                    }
                },
                LineString: function(t) {
                    for (var e = [], n = t.getCoordinates(), i = 0; i < n.length; ++i) {
                        var r = n[i];
                        e.push(Ql.coordinate.apply(this, [r]))
                    }
                    return {
                        type: "LineString",
                        coordinates: e
                    }
                },
                MultiLineString: function(t) {
                    for (var e = [], n = 0; n < t._geometries.length; ++n) {
                        var i = t._geometries[n]
                          , r = Ql.LineString.apply(this, [i]);
                        e.push(r.coordinates)
                    }
                    return {
                        type: "MultiLineString",
                        coordinates: e
                    }
                },
                Polygon: function(t) {
                    var e = []
                      , n = Ql.LineString.apply(this, [t._shell]);
                    e.push(n.coordinates);
                    for (var i = 0; i < t._holes.length; ++i) {
                        var r = t._holes[i]
                          , o = Ql.LineString.apply(this, [r]);
                        e.push(o.coordinates)
                    }
                    return {
                        type: "Polygon",
                        coordinates: e
                    }
                },
                MultiPolygon: function(t) {
                    for (var e = [], n = 0; n < t._geometries.length; ++n) {
                        var i = t._geometries[n]
                          , r = Ql.Polygon.apply(this, [i]);
                        e.push(r.coordinates)
                    }
                    return {
                        type: "MultiPolygon",
                        coordinates: e
                    }
                },
                GeometryCollection: function(t) {
                    for (var e = [], n = 0; n < t._geometries.length; ++n) {
                        var i = t._geometries[n]
                          , r = i.getGeometryType();
                        e.push(Ql[r].apply(this, [i]))
                    }
                    return {
                        type: "GeometryCollection",
                        geometries: e
                    }
                }
            }
              , Jl = function(t) {
                this.geometryFactory = t || new Xl,
                this.precisionModel = this.geometryFactory.getPrecisionModel(),
                this.parser = new Kl(this.geometryFactory)
            };
            Jl.prototype.read = function(t) {
                var e = this.parser.read(t);
                return this.precisionModel.getType() === jl.FIXED && this.reducePrecision(e),
                e
            }
            ,
            Jl.prototype.reducePrecision = function(t) {
                var e, n;
                if (t.coordinate)
                    this.precisionModel.makePrecise(t.coordinate);
                else if (t.points)
                    for (e = 0,
                    n = t.points.length; e < n; e++)
                        this.precisionModel.makePrecise(t.points[e]);
                else if (t.geometries)
                    for (e = 0,
                    n = t.geometries.length; e < n; e++)
                        this.reducePrecision(t.geometries[e])
            }
            ;
            var tc = function() {
                this.parser = new Kl(this.geometryFactory)
            };
            tc.prototype.write = function(t) {
                return this.parser.write(t)
            }
            ;
            var ec = function() {}
              , nc = {
                ON: {
                    configurable: !0
                },
                LEFT: {
                    configurable: !0
                },
                RIGHT: {
                    configurable: !0
                }
            };
            ec.prototype.interfaces_ = function() {
                return []
            }
            ,
            ec.prototype.getClass = function() {
                return ec
            }
            ,
            ec.opposite = function(t) {
                return t === ec.LEFT ? ec.RIGHT : t === ec.RIGHT ? ec.LEFT : t
            }
            ,
            nc.ON.get = function() {
                return 0
            }
            ,
            nc.LEFT.get = function() {
                return 1
            }
            ,
            nc.RIGHT.get = function() {
                return 2
            }
            ,
            Object.defineProperties(ec, nc),
            (Nr.prototype = new Error).name = "EmptyStackException",
            (Mr.prototype = new Qu).add = function(t) {
                return this.array_.push(t),
                !0
            }
            ,
            Mr.prototype.get = function(t) {
                if (t < 0 || t >= this.size())
                    throw new Error;
                return this.array_[t]
            }
            ,
            Mr.prototype.push = function(t) {
                return this.array_.push(t),
                t
            }
            ,
            Mr.prototype.pop = function(t) {
                if (0 === this.array_.length)
                    throw new Nr;
                return this.array_.pop()
            }
            ,
            Mr.prototype.peek = function() {
                if (0 === this.array_.length)
                    throw new Nr;
                return this.array_[this.array_.length - 1]
            }
            ,
            Mr.prototype.empty = function() {
                return 0 === this.array_.length
            }
            ,
            Mr.prototype.isEmpty = function() {
                return this.empty()
            }
            ,
            Mr.prototype.search = function(t) {
                return this.array_.indexOf(t)
            }
            ,
            Mr.prototype.size = function() {
                return this.array_.length
            }
            ,
            Mr.prototype.toArray = function() {
                for (var t = [], e = 0, n = this.array_.length; e < n; e++)
                    t.push(this.array_[e]);
                return t
            }
            ;
            var ic = function() {
                this._minIndex = -1,
                this._minCoord = null,
                this._minDe = null,
                this._orientedDe = null
            };
            ic.prototype.getCoordinate = function() {
                return this._minCoord
            }
            ,
            ic.prototype.getRightmostSide = function(t, e) {
                var n = this.getRightmostSideOfSegment(t, e);
                return n < 0 && (n = this.getRightmostSideOfSegment(t, e - 1)),
                n < 0 && (this._minCoord = null,
                this.checkForRightmostCoordinate(t)),
                n
            }
            ,
            ic.prototype.findRightmostEdgeAtVertex = function() {
                var t = this._minDe.getEdge().getCoordinates();
                Mu.isTrue(this._minIndex > 0 && this._minIndex < t.length, "rightmost point expected to be interior vertex of edge");
                var e = t[this._minIndex - 1]
                  , n = t[this._minIndex + 1]
                  , i = ku.computeOrientation(this._minCoord, n, e)
                  , r = !1;
                e.y < this._minCoord.y && n.y < this._minCoord.y && i === ku.COUNTERCLOCKWISE ? r = !0 : e.y > this._minCoord.y && n.y > this._minCoord.y && i === ku.CLOCKWISE && (r = !0),
                r && (this._minIndex = this._minIndex - 1)
            }
            ,
            ic.prototype.getRightmostSideOfSegment = function(t, e) {
                var n = t.getEdge().getCoordinates();
                if (e < 0 || e + 1 >= n.length)
                    return -1;
                if (n[e].y === n[e + 1].y)
                    return -1;
                var i = ec.LEFT;
                return n[e].y < n[e + 1].y && (i = ec.RIGHT),
                i
            }
            ,
            ic.prototype.getEdge = function() {
                return this._orientedDe
            }
            ,
            ic.prototype.checkForRightmostCoordinate = function(t) {
                for (var e = t.getEdge().getCoordinates(), n = 0; n < e.length - 1; n++)
                    (null === this._minCoord || e[n].x > this._minCoord.x) && (this._minDe = t,
                    this._minIndex = n,
                    this._minCoord = e[n])
            }
            ,
            ic.prototype.findRightmostEdgeAtNode = function() {
                var t = this._minDe.getNode().getEdges();
                this._minDe = t.getRightmostEdge(),
                this._minDe.isForward() || (this._minDe = this._minDe.getSym(),
                this._minIndex = this._minDe.getEdge().getCoordinates().length - 1)
            }
            ,
            ic.prototype.findEdge = function(t) {
                for (var e = t.iterator(); e.hasNext(); ) {
                    var n = e.next();
                    n.isForward() && this.checkForRightmostCoordinate(n)
                }
                Mu.isTrue(0 !== this._minIndex || this._minCoord.equals(this._minDe.getCoordinate()), "inconsistency in rightmost processing"),
                0 === this._minIndex ? this.findRightmostEdgeAtNode() : this.findRightmostEdgeAtVertex(),
                this._orientedDe = this._minDe,
                this.getRightmostSide(this._minDe, this._minIndex) === ec.LEFT && (this._orientedDe = this._minDe.getSym())
            }
            ,
            ic.prototype.interfaces_ = function() {
                return []
            }
            ,
            ic.prototype.getClass = function() {
                return ic
            }
            ;
            var rc = function(t) {
                function e(n, i) {
                    t.call(this, e.msgWithCoord(n, i)),
                    this.pt = i ? new Ja(i) : null,
                    this.name = "TopologyException"
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.getCoordinate = function() {
                    return this.pt
                }
                ,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                e.msgWithCoord = function(t, e) {
                    return e ? t : t + " [ " + e + " ]"
                }
                ,
                e
            }(Su)
              , oc = function() {
                this.array_ = []
            };
            oc.prototype.addLast = function(t) {
                this.array_.push(t)
            }
            ,
            oc.prototype.removeFirst = function() {
                return this.array_.shift()
            }
            ,
            oc.prototype.isEmpty = function() {
                return 0 === this.array_.length
            }
            ;
            var sc = function() {
                this._finder = null,
                this._dirEdgeList = new Ju,
                this._nodes = new Ju,
                this._rightMostCoord = null,
                this._env = null,
                this._finder = new ic
            };
            sc.prototype.clearVisitedEdges = function() {
                for (var t = this._dirEdgeList.iterator(); t.hasNext(); )
                    t.next().setVisited(!1)
            }
            ,
            sc.prototype.getRightmostCoordinate = function() {
                return this._rightMostCoord
            }
            ,
            sc.prototype.computeNodeDepth = function(t) {
                for (var e = null, n = t.getEdges().iterator(); n.hasNext(); ) {
                    var i = n.next();
                    if (i.isVisited() || i.getSym().isVisited()) {
                        e = i;
                        break
                    }
                }
                if (null === e)
                    throw new rc("unable to find edge to compute depths at " + t.getCoordinate());
                t.getEdges().computeDepths(e);
                for (var r = t.getEdges().iterator(); r.hasNext(); ) {
                    var o = r.next();
                    o.setVisited(!0),
                    this.copySymDepths(o)
                }
            }
            ,
            sc.prototype.computeDepth = function(t) {
                this.clearVisitedEdges();
                var e = this._finder.getEdge();
                e.setEdgeDepths(ec.RIGHT, t),
                this.copySymDepths(e),
                this.computeDepths(e)
            }
            ,
            sc.prototype.create = function(t) {
                this.addReachable(t),
                this._finder.findEdge(this._dirEdgeList),
                this._rightMostCoord = this._finder.getCoordinate()
            }
            ,
            sc.prototype.findResultEdges = function() {
                for (var t = this._dirEdgeList.iterator(); t.hasNext(); ) {
                    var e = t.next();
                    e.getDepth(ec.RIGHT) >= 1 && e.getDepth(ec.LEFT) <= 0 && !e.isInteriorAreaEdge() && e.setInResult(!0)
                }
            }
            ,
            sc.prototype.computeDepths = function(t) {
                var e = new ul
                  , n = new oc
                  , i = t.getNode();
                for (n.addLast(i),
                e.add(i),
                t.setVisited(!0); !n.isEmpty(); ) {
                    var r = n.removeFirst();
                    e.add(r),
                    this.computeNodeDepth(r);
                    for (var o = r.getEdges().iterator(); o.hasNext(); ) {
                        var s = o.next().getSym();
                        if (!s.isVisited()) {
                            var a = s.getNode();
                            e.contains(a) || (n.addLast(a),
                            e.add(a))
                        }
                    }
                }
            }
            ,
            sc.prototype.compareTo = function(t) {
                var e = t;
                return this._rightMostCoord.x < e._rightMostCoord.x ? -1 : this._rightMostCoord.x > e._rightMostCoord.x ? 1 : 0
            }
            ,
            sc.prototype.getEnvelope = function() {
                if (null === this._env) {
                    for (var t = new Cu, e = this._dirEdgeList.iterator(); e.hasNext(); )
                        for (var n = e.next().getEdge().getCoordinates(), i = 0; i < n.length - 1; i++)
                            t.expandToInclude(n[i]);
                    this._env = t
                }
                return this._env
            }
            ,
            sc.prototype.addReachable = function(t) {
                var e = new Mr;
                for (e.add(t); !e.empty(); ) {
                    var n = e.pop();
                    this.add(n, e)
                }
            }
            ,
            sc.prototype.copySymDepths = function(t) {
                var e = t.getSym();
                e.setDepth(ec.LEFT, t.getDepth(ec.RIGHT)),
                e.setDepth(ec.RIGHT, t.getDepth(ec.LEFT))
            }
            ,
            sc.prototype.add = function(t, e) {
                t.setVisited(!0),
                this._nodes.add(t);
                for (var n = t.getEdges().iterator(); n.hasNext(); ) {
                    var i = n.next();
                    this._dirEdgeList.add(i);
                    var r = i.getSym().getNode();
                    r.isVisited() || e.push(r)
                }
            }
            ,
            sc.prototype.getNodes = function() {
                return this._nodes
            }
            ,
            sc.prototype.getDirectedEdges = function() {
                return this._dirEdgeList
            }
            ,
            sc.prototype.interfaces_ = function() {
                return [Ka]
            }
            ,
            sc.prototype.getClass = function() {
                return sc
            }
            ;
            var ac = function t() {
                if (this.location = null,
                1 === arguments.length) {
                    if (arguments[0]instanceof Array) {
                        var e = arguments[0];
                        this.init(e.length)
                    } else if (Number.isInteger(arguments[0])) {
                        var n = arguments[0];
                        this.init(1),
                        this.location[ec.ON] = n
                    } else if (arguments[0]instanceof t) {
                        var i = arguments[0];
                        if (this.init(i.location.length),
                        null !== i)
                            for (var r = 0; r < this.location.length; r++)
                                this.location[r] = i.location[r]
                    }
                } else if (3 === arguments.length) {
                    var o = arguments[0]
                      , s = arguments[1]
                      , a = arguments[2];
                    this.init(3),
                    this.location[ec.ON] = o,
                    this.location[ec.LEFT] = s,
                    this.location[ec.RIGHT] = a
                }
            };
            ac.prototype.setAllLocations = function(t) {
                for (var e = 0; e < this.location.length; e++)
                    this.location[e] = t
            }
            ,
            ac.prototype.isNull = function() {
                for (var t = 0; t < this.location.length; t++)
                    if (this.location[t] !== iu.NONE)
                        return !1;
                return !0
            }
            ,
            ac.prototype.setAllLocationsIfNull = function(t) {
                for (var e = 0; e < this.location.length; e++)
                    this.location[e] === iu.NONE && (this.location[e] = t)
            }
            ,
            ac.prototype.isLine = function() {
                return 1 === this.location.length
            }
            ,
            ac.prototype.merge = function(t) {
                if (t.location.length > this.location.length) {
                    var e = new Array(3).fill(null);
                    e[ec.ON] = this.location[ec.ON],
                    e[ec.LEFT] = iu.NONE,
                    e[ec.RIGHT] = iu.NONE,
                    this.location = e
                }
                for (var n = 0; n < this.location.length; n++)
                    this.location[n] === iu.NONE && n < t.location.length && (this.location[n] = t.location[n])
            }
            ,
            ac.prototype.getLocations = function() {
                return this.location
            }
            ,
            ac.prototype.flip = function() {
                if (this.location.length <= 1)
                    return null;
                var t = this.location[ec.LEFT];
                this.location[ec.LEFT] = this.location[ec.RIGHT],
                this.location[ec.RIGHT] = t
            }
            ,
            ac.prototype.toString = function() {
                var t = new uu;
                return this.location.length > 1 && t.append(iu.toLocationSymbol(this.location[ec.LEFT])),
                t.append(iu.toLocationSymbol(this.location[ec.ON])),
                this.location.length > 1 && t.append(iu.toLocationSymbol(this.location[ec.RIGHT])),
                t.toString()
            }
            ,
            ac.prototype.setLocations = function(t, e, n) {
                this.location[ec.ON] = t,
                this.location[ec.LEFT] = e,
                this.location[ec.RIGHT] = n
            }
            ,
            ac.prototype.get = function(t) {
                return t < this.location.length ? this.location[t] : iu.NONE
            }
            ,
            ac.prototype.isArea = function() {
                return this.location.length > 1
            }
            ,
            ac.prototype.isAnyNull = function() {
                for (var t = 0; t < this.location.length; t++)
                    if (this.location[t] === iu.NONE)
                        return !0;
                return !1
            }
            ,
            ac.prototype.setLocation = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    this.setLocation(ec.ON, t)
                } else if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1];
                    this.location[e] = n
                }
            }
            ,
            ac.prototype.init = function(t) {
                this.location = new Array(t).fill(null),
                this.setAllLocations(iu.NONE)
            }
            ,
            ac.prototype.isEqualOnSide = function(t, e) {
                return this.location[e] === t.location[e]
            }
            ,
            ac.prototype.allPositionsEqual = function(t) {
                for (var e = 0; e < this.location.length; e++)
                    if (this.location[e] !== t)
                        return !1;
                return !0
            }
            ,
            ac.prototype.interfaces_ = function() {
                return []
            }
            ,
            ac.prototype.getClass = function() {
                return ac
            }
            ;
            var uc = function t() {
                if (this.elt = new Array(2).fill(null),
                1 === arguments.length) {
                    if (Number.isInteger(arguments[0])) {
                        var e = arguments[0];
                        this.elt[0] = new ac(e),
                        this.elt[1] = new ac(e)
                    } else if (arguments[0]instanceof t) {
                        var n = arguments[0];
                        this.elt[0] = new ac(n.elt[0]),
                        this.elt[1] = new ac(n.elt[1])
                    }
                } else if (2 === arguments.length) {
                    var i = arguments[0]
                      , r = arguments[1];
                    this.elt[0] = new ac(iu.NONE),
                    this.elt[1] = new ac(iu.NONE),
                    this.elt[i].setLocation(r)
                } else if (3 === arguments.length) {
                    var o = arguments[0]
                      , s = arguments[1]
                      , a = arguments[2];
                    this.elt[0] = new ac(o,s,a),
                    this.elt[1] = new ac(o,s,a)
                } else if (4 === arguments.length) {
                    var u = arguments[0]
                      , l = arguments[1]
                      , c = arguments[2]
                      , h = arguments[3];
                    this.elt[0] = new ac(iu.NONE,iu.NONE,iu.NONE),
                    this.elt[1] = new ac(iu.NONE,iu.NONE,iu.NONE),
                    this.elt[u].setLocations(l, c, h)
                }
            };
            uc.prototype.getGeometryCount = function() {
                var t = 0;
                return this.elt[0].isNull() || t++,
                this.elt[1].isNull() || t++,
                t
            }
            ,
            uc.prototype.setAllLocations = function(t, e) {
                this.elt[t].setAllLocations(e)
            }
            ,
            uc.prototype.isNull = function(t) {
                return this.elt[t].isNull()
            }
            ,
            uc.prototype.setAllLocationsIfNull = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    this.setAllLocationsIfNull(0, t),
                    this.setAllLocationsIfNull(1, t)
                } else if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1];
                    this.elt[e].setAllLocationsIfNull(n)
                }
            }
            ,
            uc.prototype.isLine = function(t) {
                return this.elt[t].isLine()
            }
            ,
            uc.prototype.merge = function(t) {
                for (var e = 0; e < 2; e++)
                    null === this.elt[e] && null !== t.elt[e] ? this.elt[e] = new ac(t.elt[e]) : this.elt[e].merge(t.elt[e])
            }
            ,
            uc.prototype.flip = function() {
                this.elt[0].flip(),
                this.elt[1].flip()
            }
            ,
            uc.prototype.getLocation = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    return this.elt[t].get(ec.ON)
                }
                if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1];
                    return this.elt[e].get(n)
                }
            }
            ,
            uc.prototype.toString = function() {
                var t = new uu;
                return null !== this.elt[0] && (t.append("A:"),
                t.append(this.elt[0].toString())),
                null !== this.elt[1] && (t.append(" B:"),
                t.append(this.elt[1].toString())),
                t.toString()
            }
            ,
            uc.prototype.isArea = function() {
                if (0 === arguments.length)
                    return this.elt[0].isArea() || this.elt[1].isArea();
                if (1 === arguments.length) {
                    var t = arguments[0];
                    return this.elt[t].isArea()
                }
            }
            ,
            uc.prototype.isAnyNull = function(t) {
                return this.elt[t].isAnyNull()
            }
            ,
            uc.prototype.setLocation = function() {
                if (2 === arguments.length) {
                    var t = arguments[0]
                      , e = arguments[1];
                    this.elt[t].setLocation(ec.ON, e)
                } else if (3 === arguments.length) {
                    var n = arguments[0]
                      , i = arguments[1]
                      , r = arguments[2];
                    this.elt[n].setLocation(i, r)
                }
            }
            ,
            uc.prototype.isEqualOnSide = function(t, e) {
                return this.elt[0].isEqualOnSide(t.elt[0], e) && this.elt[1].isEqualOnSide(t.elt[1], e)
            }
            ,
            uc.prototype.allPositionsEqual = function(t, e) {
                return this.elt[t].allPositionsEqual(e)
            }
            ,
            uc.prototype.toLine = function(t) {
                this.elt[t].isArea() && (this.elt[t] = new ac(this.elt[t].location[0]))
            }
            ,
            uc.prototype.interfaces_ = function() {
                return []
            }
            ,
            uc.prototype.getClass = function() {
                return uc
            }
            ,
            uc.toLineLabel = function(t) {
                for (var e = new uc(iu.NONE), n = 0; n < 2; n++)
                    e.setLocation(n, t.getLocation(n));
                return e
            }
            ;
            var lc = function() {
                this._startDe = null,
                this._maxNodeDegree = -1,
                this._edges = new Ju,
                this._pts = new Ju,
                this._label = new uc(iu.NONE),
                this._ring = null,
                this._isHole = null,
                this._shell = null,
                this._holes = new Ju,
                this._geometryFactory = null;
                var t = arguments[0]
                  , e = arguments[1];
                this._geometryFactory = e,
                this.computePoints(t),
                this.computeRing()
            };
            lc.prototype.computeRing = function() {
                if (null !== this._ring)
                    return null;
                for (var t = new Array(this._pts.size()).fill(null), e = 0; e < this._pts.size(); e++)
                    t[e] = this._pts.get(e);
                this._ring = this._geometryFactory.createLinearRing(t),
                this._isHole = ku.isCCW(this._ring.getCoordinates())
            }
            ,
            lc.prototype.isIsolated = function() {
                return 1 === this._label.getGeometryCount()
            }
            ,
            lc.prototype.computePoints = function(t) {
                this._startDe = t;
                var e = t
                  , n = !0;
                do {
                    if (null === e)
                        throw new rc("Found null DirectedEdge");
                    if (e.getEdgeRing() === this)
                        throw new rc("Directed Edge visited twice during ring-building at " + e.getCoordinate());
                    this._edges.add(e);
                    var i = e.getLabel();
                    Mu.isTrue(i.isArea()),
                    this.mergeLabel(i),
                    this.addPoints(e.getEdge(), e.isForward(), n),
                    n = !1,
                    this.setEdgeRing(e, this),
                    e = this.getNext(e)
                } while (e !== this._startDe)
            }
            ,
            lc.prototype.getLinearRing = function() {
                return this._ring
            }
            ,
            lc.prototype.getCoordinate = function(t) {
                return this._pts.get(t)
            }
            ,
            lc.prototype.computeMaxNodeDegree = function() {
                this._maxNodeDegree = 0;
                var t = this._startDe;
                do {
                    var e = t.getNode().getEdges().getOutgoingDegree(this);
                    e > this._maxNodeDegree && (this._maxNodeDegree = e),
                    t = this.getNext(t)
                } while (t !== this._startDe);
                this._maxNodeDegree *= 2
            }
            ,
            lc.prototype.addPoints = function(t, e, n) {
                var i = t.getCoordinates();
                if (e) {
                    var r = 1;
                    n && (r = 0);
                    for (var o = r; o < i.length; o++)
                        this._pts.add(i[o])
                } else {
                    var s = i.length - 2;
                    n && (s = i.length - 1);
                    for (var a = s; a >= 0; a--)
                        this._pts.add(i[a])
                }
            }
            ,
            lc.prototype.isHole = function() {
                return this._isHole
            }
            ,
            lc.prototype.setInResult = function() {
                var t = this._startDe;
                do {
                    t.getEdge().setInResult(!0),
                    t = t.getNext()
                } while (t !== this._startDe)
            }
            ,
            lc.prototype.containsPoint = function(t) {
                var e = this.getLinearRing();
                if (!e.getEnvelopeInternal().contains(t))
                    return !1;
                if (!ku.isPointInRing(t, e.getCoordinates()))
                    return !1;
                for (var n = this._holes.iterator(); n.hasNext(); )
                    if (n.next().containsPoint(t))
                        return !1;
                return !0
            }
            ,
            lc.prototype.addHole = function(t) {
                this._holes.add(t)
            }
            ,
            lc.prototype.isShell = function() {
                return null === this._shell
            }
            ,
            lc.prototype.getLabel = function() {
                return this._label
            }
            ,
            lc.prototype.getEdges = function() {
                return this._edges
            }
            ,
            lc.prototype.getMaxNodeDegree = function() {
                return this._maxNodeDegree < 0 && this.computeMaxNodeDegree(),
                this._maxNodeDegree
            }
            ,
            lc.prototype.getShell = function() {
                return this._shell
            }
            ,
            lc.prototype.mergeLabel = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    this.mergeLabel(t, 0),
                    this.mergeLabel(t, 1)
                } else if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1]
                      , i = e.getLocation(n, ec.RIGHT);
                    if (i === iu.NONE)
                        return null;
                    if (this._label.getLocation(n) === iu.NONE)
                        return this._label.setLocation(n, i),
                        null
                }
            }
            ,
            lc.prototype.setShell = function(t) {
                this._shell = t,
                null !== t && t.addHole(this)
            }
            ,
            lc.prototype.toPolygon = function(t) {
                for (var e = new Array(this._holes.size()).fill(null), n = 0; n < this._holes.size(); n++)
                    e[n] = this._holes.get(n).getLinearRing();
                return t.createPolygon(this.getLinearRing(), e)
            }
            ,
            lc.prototype.interfaces_ = function() {
                return []
            }
            ,
            lc.prototype.getClass = function() {
                return lc
            }
            ;
            var cc = function(t) {
                function e() {
                    var e = arguments[0]
                      , n = arguments[1];
                    t.call(this, e, n)
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.setEdgeRing = function(t, e) {
                    t.setMinEdgeRing(e)
                }
                ,
                e.prototype.getNext = function(t) {
                    return t.getNextMin()
                }
                ,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                e
            }(lc)
              , hc = function(t) {
                function e() {
                    var e = arguments[0]
                      , n = arguments[1];
                    t.call(this, e, n)
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.buildMinimalRings = function() {
                    var t = new Ju
                      , e = this._startDe;
                    do {
                        if (null === e.getMinEdgeRing()) {
                            var n = new cc(e,this._geometryFactory);
                            t.add(n)
                        }
                        e = e.getNext()
                    } while (e !== this._startDe);
                    return t
                }
                ,
                e.prototype.setEdgeRing = function(t, e) {
                    t.setEdgeRing(e)
                }
                ,
                e.prototype.linkDirectedEdgesForMinimalEdgeRings = function() {
                    var t = this._startDe;
                    do {
                        t.getNode().getEdges().linkMinimalDirectedEdges(this),
                        t = t.getNext()
                    } while (t !== this._startDe)
                }
                ,
                e.prototype.getNext = function(t) {
                    return t.getNext()
                }
                ,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                e
            }(lc)
              , pc = function() {
                if (this._label = null,
                this._isInResult = !1,
                this._isCovered = !1,
                this._isCoveredSet = !1,
                this._isVisited = !1,
                0 === arguments.length)
                    ;
                else if (1 === arguments.length) {
                    var t = arguments[0];
                    this._label = t
                }
            };
            pc.prototype.setVisited = function(t) {
                this._isVisited = t
            }
            ,
            pc.prototype.setInResult = function(t) {
                this._isInResult = t
            }
            ,
            pc.prototype.isCovered = function() {
                return this._isCovered
            }
            ,
            pc.prototype.isCoveredSet = function() {
                return this._isCoveredSet
            }
            ,
            pc.prototype.setLabel = function(t) {
                this._label = t
            }
            ,
            pc.prototype.getLabel = function() {
                return this._label
            }
            ,
            pc.prototype.setCovered = function(t) {
                this._isCovered = t,
                this._isCoveredSet = !0
            }
            ,
            pc.prototype.updateIM = function(t) {
                Mu.isTrue(this._label.getGeometryCount() >= 2, "found partial label"),
                this.computeIM(t)
            }
            ,
            pc.prototype.isInResult = function() {
                return this._isInResult
            }
            ,
            pc.prototype.isVisited = function() {
                return this._isVisited
            }
            ,
            pc.prototype.interfaces_ = function() {
                return []
            }
            ,
            pc.prototype.getClass = function() {
                return pc
            }
            ;
            var fc = function(t) {
                function e() {
                    t.call(this),
                    this._coord = null,
                    this._edges = null;
                    var e = arguments[0]
                      , n = arguments[1];
                    this._coord = e,
                    this._edges = n,
                    this._label = new uc(0,iu.NONE)
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.isIncidentEdgeInResult = function() {
                    for (var t = this.getEdges().getEdges().iterator(); t.hasNext(); )
                        if (t.next().getEdge().isInResult())
                            return !0;
                    return !1
                }
                ,
                e.prototype.isIsolated = function() {
                    return 1 === this._label.getGeometryCount()
                }
                ,
                e.prototype.getCoordinate = function() {
                    return this._coord
                }
                ,
                e.prototype.print = function(t) {
                    t.println("node " + this._coord + " lbl: " + this._label)
                }
                ,
                e.prototype.computeIM = function(t) {}
                ,
                e.prototype.computeMergedLocation = function(t, e) {
                    var n = iu.NONE;
                    if (n = this._label.getLocation(e),
                    !t.isNull(e)) {
                        var i = t.getLocation(e);
                        n !== iu.BOUNDARY && (n = i)
                    }
                    return n
                }
                ,
                e.prototype.setLabel = function() {
                    if (2 !== arguments.length)
                        return t.prototype.setLabel.apply(this, arguments);
                    var e = arguments[0]
                      , n = arguments[1];
                    null === this._label ? this._label = new uc(e,n) : this._label.setLocation(e, n)
                }
                ,
                e.prototype.getEdges = function() {
                    return this._edges
                }
                ,
                e.prototype.mergeLabel = function() {
                    if (arguments[0]instanceof e) {
                        var t = arguments[0];
                        this.mergeLabel(t._label)
                    } else if (arguments[0]instanceof uc)
                        for (var n = arguments[0], i = 0; i < 2; i++) {
                            var r = this.computeMergedLocation(n, i);
                            this._label.getLocation(i) === iu.NONE && this._label.setLocation(i, r)
                        }
                }
                ,
                e.prototype.add = function(t) {
                    this._edges.insert(t),
                    t.setNode(this)
                }
                ,
                e.prototype.setLabelBoundary = function(t) {
                    if (null === this._label)
                        return null;
                    var e = iu.NONE;
                    null !== this._label && (e = this._label.getLocation(t));
                    var n = null;
                    switch (e) {
                    case iu.BOUNDARY:
                        n = iu.INTERIOR;
                        break;
                    case iu.INTERIOR:
                    default:
                        n = iu.BOUNDARY
                    }
                    this._label.setLocation(t, n)
                }
                ,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                e
            }(pc)
              , dc = function() {
                this.nodeMap = new Ir,
                this.nodeFact = null;
                var t = arguments[0];
                this.nodeFact = t
            };
            dc.prototype.find = function(t) {
                return this.nodeMap.get(t)
            }
            ,
            dc.prototype.addNode = function() {
                if (arguments[0]instanceof Ja) {
                    var t = arguments[0]
                      , e = this.nodeMap.get(t);
                    return null === e && (e = this.nodeFact.createNode(t),
                    this.nodeMap.put(t, e)),
                    e
                }
                if (arguments[0]instanceof fc) {
                    var n = arguments[0]
                      , i = this.nodeMap.get(n.getCoordinate());
                    return null === i ? (this.nodeMap.put(n.getCoordinate(), n),
                    n) : (i.mergeLabel(n),
                    i)
                }
            }
            ,
            dc.prototype.print = function(t) {
                for (var e = this.iterator(); e.hasNext(); )
                    e.next().print(t)
            }
            ,
            dc.prototype.iterator = function() {
                return this.nodeMap.values().iterator()
            }
            ,
            dc.prototype.values = function() {
                return this.nodeMap.values()
            }
            ,
            dc.prototype.getBoundaryNodes = function(t) {
                for (var e = new Ju, n = this.iterator(); n.hasNext(); ) {
                    var i = n.next();
                    i.getLabel().getLocation(t) === iu.BOUNDARY && e.add(i)
                }
                return e
            }
            ,
            dc.prototype.add = function(t) {
                var e = t.getCoordinate();
                this.addNode(e).add(t)
            }
            ,
            dc.prototype.interfaces_ = function() {
                return []
            }
            ,
            dc.prototype.getClass = function() {
                return dc
            }
            ;
            var gc = function() {}
              , yc = {
                NE: {
                    configurable: !0
                },
                NW: {
                    configurable: !0
                },
                SW: {
                    configurable: !0
                },
                SE: {
                    configurable: !0
                }
            };
            gc.prototype.interfaces_ = function() {
                return []
            }
            ,
            gc.prototype.getClass = function() {
                return gc
            }
            ,
            gc.isNorthern = function(t) {
                return t === gc.NE || t === gc.NW
            }
            ,
            gc.isOpposite = function(t, e) {
                return t !== e && 2 == (t - e + 4) % 4
            }
            ,
            gc.commonHalfPlane = function(t, e) {
                if (t === e)
                    return t;
                if (2 == (t - e + 4) % 4)
                    return -1;
                var n = t < e ? t : e;
                return 0 === n && 3 === (t > e ? t : e) ? 3 : n
            }
            ,
            gc.isInHalfPlane = function(t, e) {
                return e === gc.SE ? t === gc.SE || t === gc.SW : t === e || t === e + 1
            }
            ,
            gc.quadrant = function() {
                if ("number" == typeof arguments[0] && "number" == typeof arguments[1]) {
                    var t = arguments[0]
                      , e = arguments[1];
                    if (0 === t && 0 === e)
                        throw new Xa("Cannot compute the quadrant for point ( " + t + ", " + e + " )");
                    return t >= 0 ? e >= 0 ? gc.NE : gc.SE : e >= 0 ? gc.NW : gc.SW
                }
                if (arguments[0]instanceof Ja && arguments[1]instanceof Ja) {
                    var n = arguments[0]
                      , i = arguments[1];
                    if (i.x === n.x && i.y === n.y)
                        throw new Xa("Cannot compute the quadrant for two identical points " + n);
                    return i.x >= n.x ? i.y >= n.y ? gc.NE : gc.SE : i.y >= n.y ? gc.NW : gc.SW
                }
            }
            ,
            yc.NE.get = function() {
                return 0
            }
            ,
            yc.NW.get = function() {
                return 1
            }
            ,
            yc.SW.get = function() {
                return 2
            }
            ,
            yc.SE.get = function() {
                return 3
            }
            ,
            Object.defineProperties(gc, yc);
            var vc = function() {
                if (this._edge = null,
                this._label = null,
                this._node = null,
                this._p0 = null,
                this._p1 = null,
                this._dx = null,
                this._dy = null,
                this._quadrant = null,
                1 === arguments.length) {
                    var t = arguments[0];
                    this._edge = t
                } else if (3 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1]
                      , i = arguments[2];
                    this._edge = e,
                    this.init(n, i),
                    this._label = null
                } else if (4 === arguments.length) {
                    var r = arguments[0]
                      , o = arguments[1]
                      , s = arguments[2]
                      , a = arguments[3];
                    this._edge = r,
                    this.init(o, s),
                    this._label = a
                }
            };
            vc.prototype.compareDirection = function(t) {
                return this._dx === t._dx && this._dy === t._dy ? 0 : this._quadrant > t._quadrant ? 1 : this._quadrant < t._quadrant ? -1 : ku.computeOrientation(t._p0, t._p1, this._p1)
            }
            ,
            vc.prototype.getDy = function() {
                return this._dy
            }
            ,
            vc.prototype.getCoordinate = function() {
                return this._p0
            }
            ,
            vc.prototype.setNode = function(t) {
                this._node = t
            }
            ,
            vc.prototype.print = function(t) {
                var e = Math.atan2(this._dy, this._dx)
                  , n = this.getClass().getName()
                  , i = n.lastIndexOf(".")
                  , r = n.substring(i + 1);
                t.print("  " + r + ": " + this._p0 + " - " + this._p1 + " " + this._quadrant + ":" + e + "   " + this._label)
            }
            ,
            vc.prototype.compareTo = function(t) {
                var e = t;
                return this.compareDirection(e)
            }
            ,
            vc.prototype.getDirectedCoordinate = function() {
                return this._p1
            }
            ,
            vc.prototype.getDx = function() {
                return this._dx
            }
            ,
            vc.prototype.getLabel = function() {
                return this._label
            }
            ,
            vc.prototype.getEdge = function() {
                return this._edge
            }
            ,
            vc.prototype.getQuadrant = function() {
                return this._quadrant
            }
            ,
            vc.prototype.getNode = function() {
                return this._node
            }
            ,
            vc.prototype.toString = function() {
                var t = Math.atan2(this._dy, this._dx)
                  , e = this.getClass().getName()
                  , n = e.lastIndexOf(".");
                return "  " + e.substring(n + 1) + ": " + this._p0 + " - " + this._p1 + " " + this._quadrant + ":" + t + "   " + this._label
            }
            ,
            vc.prototype.computeLabel = function(t) {}
            ,
            vc.prototype.init = function(t, e) {
                this._p0 = t,
                this._p1 = e,
                this._dx = e.x - t.x,
                this._dy = e.y - t.y,
                this._quadrant = gc.quadrant(this._dx, this._dy),
                Mu.isTrue(!(0 === this._dx && 0 === this._dy), "EdgeEnd with identical endpoints found")
            }
            ,
            vc.prototype.interfaces_ = function() {
                return [Ka]
            }
            ,
            vc.prototype.getClass = function() {
                return vc
            }
            ;
            var mc = function(t) {
                function e() {
                    var e = arguments[0]
                      , n = arguments[1];
                    if (t.call(this, e),
                    this._isForward = null,
                    this._isInResult = !1,
                    this._isVisited = !1,
                    this._sym = null,
                    this._next = null,
                    this._nextMin = null,
                    this._edgeRing = null,
                    this._minEdgeRing = null,
                    this._depth = [0, -999, -999],
                    this._isForward = n,
                    n)
                        this.init(e.getCoordinate(0), e.getCoordinate(1));
                    else {
                        var i = e.getNumPoints() - 1;
                        this.init(e.getCoordinate(i), e.getCoordinate(i - 1))
                    }
                    this.computeDirectedLabel()
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.getNextMin = function() {
                    return this._nextMin
                }
                ,
                e.prototype.getDepth = function(t) {
                    return this._depth[t]
                }
                ,
                e.prototype.setVisited = function(t) {
                    this._isVisited = t
                }
                ,
                e.prototype.computeDirectedLabel = function() {
                    this._label = new uc(this._edge.getLabel()),
                    this._isForward || this._label.flip()
                }
                ,
                e.prototype.getNext = function() {
                    return this._next
                }
                ,
                e.prototype.setDepth = function(t, e) {
                    if (-999 !== this._depth[t] && this._depth[t] !== e)
                        throw new rc("assigned depths do not match",this.getCoordinate());
                    this._depth[t] = e
                }
                ,
                e.prototype.isInteriorAreaEdge = function() {
                    for (var t = !0, e = 0; e < 2; e++)
                        this._label.isArea(e) && this._label.getLocation(e, ec.LEFT) === iu.INTERIOR && this._label.getLocation(e, ec.RIGHT) === iu.INTERIOR || (t = !1);
                    return t
                }
                ,
                e.prototype.setNextMin = function(t) {
                    this._nextMin = t
                }
                ,
                e.prototype.print = function(e) {
                    t.prototype.print.call(this, e),
                    e.print(" " + this._depth[ec.LEFT] + "/" + this._depth[ec.RIGHT]),
                    e.print(" (" + this.getDepthDelta() + ")"),
                    this._isInResult && e.print(" inResult")
                }
                ,
                e.prototype.setMinEdgeRing = function(t) {
                    this._minEdgeRing = t
                }
                ,
                e.prototype.isLineEdge = function() {
                    var t = this._label.isLine(0) || this._label.isLine(1)
                      , e = !this._label.isArea(0) || this._label.allPositionsEqual(0, iu.EXTERIOR)
                      , n = !this._label.isArea(1) || this._label.allPositionsEqual(1, iu.EXTERIOR);
                    return t && e && n
                }
                ,
                e.prototype.setEdgeRing = function(t) {
                    this._edgeRing = t
                }
                ,
                e.prototype.getMinEdgeRing = function() {
                    return this._minEdgeRing
                }
                ,
                e.prototype.getDepthDelta = function() {
                    var t = this._edge.getDepthDelta();
                    return this._isForward || (t = -t),
                    t
                }
                ,
                e.prototype.setInResult = function(t) {
                    this._isInResult = t
                }
                ,
                e.prototype.getSym = function() {
                    return this._sym
                }
                ,
                e.prototype.isForward = function() {
                    return this._isForward
                }
                ,
                e.prototype.getEdge = function() {
                    return this._edge
                }
                ,
                e.prototype.printEdge = function(t) {
                    this.print(t),
                    t.print(" "),
                    this._isForward ? this._edge.print(t) : this._edge.printReverse(t)
                }
                ,
                e.prototype.setSym = function(t) {
                    this._sym = t
                }
                ,
                e.prototype.setVisitedEdge = function(t) {
                    this.setVisited(t),
                    this._sym.setVisited(t)
                }
                ,
                e.prototype.setEdgeDepths = function(t, e) {
                    var n = this.getEdge().getDepthDelta();
                    this._isForward || (n = -n);
                    var i = 1;
                    t === ec.LEFT && (i = -1);
                    var r = ec.opposite(t)
                      , o = e + n * i;
                    this.setDepth(t, e),
                    this.setDepth(r, o)
                }
                ,
                e.prototype.getEdgeRing = function() {
                    return this._edgeRing
                }
                ,
                e.prototype.isInResult = function() {
                    return this._isInResult
                }
                ,
                e.prototype.setNext = function(t) {
                    this._next = t
                }
                ,
                e.prototype.isVisited = function() {
                    return this._isVisited
                }
                ,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                e.depthFactor = function(t, e) {
                    return t === iu.EXTERIOR && e === iu.INTERIOR ? 1 : t === iu.INTERIOR && e === iu.EXTERIOR ? -1 : 0
                }
                ,
                e
            }(vc)
              , _c = function() {};
            _c.prototype.createNode = function(t) {
                return new fc(t,null)
            }
            ,
            _c.prototype.interfaces_ = function() {
                return []
            }
            ,
            _c.prototype.getClass = function() {
                return _c
            }
            ;
            var Ec = function() {
                if (this._edges = new Ju,
                this._nodes = null,
                this._edgeEndList = new Ju,
                0 === arguments.length)
                    this._nodes = new dc(new _c);
                else if (1 === arguments.length) {
                    var t = arguments[0];
                    this._nodes = new dc(t)
                }
            };
            Ec.prototype.printEdges = function(t) {
                t.println("Edges:");
                for (var e = 0; e < this._edges.size(); e++) {
                    t.println("edge " + e + ":");
                    var n = this._edges.get(e);
                    n.print(t),
                    n.eiList.print(t)
                }
            }
            ,
            Ec.prototype.find = function(t) {
                return this._nodes.find(t)
            }
            ,
            Ec.prototype.addNode = function() {
                if (arguments[0]instanceof fc) {
                    var t = arguments[0];
                    return this._nodes.addNode(t)
                }
                if (arguments[0]instanceof Ja) {
                    var e = arguments[0];
                    return this._nodes.addNode(e)
                }
            }
            ,
            Ec.prototype.getNodeIterator = function() {
                return this._nodes.iterator()
            }
            ,
            Ec.prototype.linkResultDirectedEdges = function() {
                for (var t = this._nodes.iterator(); t.hasNext(); )
                    t.next().getEdges().linkResultDirectedEdges()
            }
            ,
            Ec.prototype.debugPrintln = function(t) {
                _u.out.println(t)
            }
            ,
            Ec.prototype.isBoundaryNode = function(t, e) {
                var n = this._nodes.find(e);
                if (null === n)
                    return !1;
                var i = n.getLabel();
                return null !== i && i.getLocation(t) === iu.BOUNDARY
            }
            ,
            Ec.prototype.linkAllDirectedEdges = function() {
                for (var t = this._nodes.iterator(); t.hasNext(); )
                    t.next().getEdges().linkAllDirectedEdges()
            }
            ,
            Ec.prototype.matchInSameDirection = function(t, e, n, i) {
                return !!t.equals(n) && ku.computeOrientation(t, e, i) === ku.COLLINEAR && gc.quadrant(t, e) === gc.quadrant(n, i)
            }
            ,
            Ec.prototype.getEdgeEnds = function() {
                return this._edgeEndList
            }
            ,
            Ec.prototype.debugPrint = function(t) {
                _u.out.print(t)
            }
            ,
            Ec.prototype.getEdgeIterator = function() {
                return this._edges.iterator()
            }
            ,
            Ec.prototype.findEdgeInSameDirection = function(t, e) {
                for (var n = 0; n < this._edges.size(); n++) {
                    var i = this._edges.get(n)
                      , r = i.getCoordinates();
                    if (this.matchInSameDirection(t, e, r[0], r[1]))
                        return i;
                    if (this.matchInSameDirection(t, e, r[r.length - 1], r[r.length - 2]))
                        return i
                }
                return null
            }
            ,
            Ec.prototype.insertEdge = function(t) {
                this._edges.add(t)
            }
            ,
            Ec.prototype.findEdgeEnd = function(t) {
                for (var e = this.getEdgeEnds().iterator(); e.hasNext(); ) {
                    var n = e.next();
                    if (n.getEdge() === t)
                        return n
                }
                return null
            }
            ,
            Ec.prototype.addEdges = function(t) {
                for (var e = t.iterator(); e.hasNext(); ) {
                    var n = e.next();
                    this._edges.add(n);
                    var i = new mc(n,!0)
                      , r = new mc(n,!1);
                    i.setSym(r),
                    r.setSym(i),
                    this.add(i),
                    this.add(r)
                }
            }
            ,
            Ec.prototype.add = function(t) {
                this._nodes.add(t),
                this._edgeEndList.add(t)
            }
            ,
            Ec.prototype.getNodes = function() {
                return this._nodes.values()
            }
            ,
            Ec.prototype.findEdge = function(t, e) {
                for (var n = 0; n < this._edges.size(); n++) {
                    var i = this._edges.get(n)
                      , r = i.getCoordinates();
                    if (t.equals(r[0]) && e.equals(r[1]))
                        return i
                }
                return null
            }
            ,
            Ec.prototype.interfaces_ = function() {
                return []
            }
            ,
            Ec.prototype.getClass = function() {
                return Ec
            }
            ,
            Ec.linkResultDirectedEdges = function(t) {
                for (var e = t.iterator(); e.hasNext(); )
                    e.next().getEdges().linkResultDirectedEdges()
            }
            ;
            var Cc = function() {
                this._geometryFactory = null,
                this._shellList = new Ju;
                var t = arguments[0];
                this._geometryFactory = t
            };
            Cc.prototype.sortShellsAndHoles = function(t, e, n) {
                for (var i = t.iterator(); i.hasNext(); ) {
                    var r = i.next();
                    r.isHole() ? n.add(r) : e.add(r)
                }
            }
            ,
            Cc.prototype.computePolygons = function(t) {
                for (var e = new Ju, n = t.iterator(); n.hasNext(); ) {
                    var i = n.next().toPolygon(this._geometryFactory);
                    e.add(i)
                }
                return e
            }
            ,
            Cc.prototype.placeFreeHoles = function(t, e) {
                for (var n = e.iterator(); n.hasNext(); ) {
                    var i = n.next();
                    if (null === i.getShell()) {
                        var r = this.findEdgeRingContaining(i, t);
                        if (null === r)
                            throw new rc("unable to assign hole to a shell",i.getCoordinate(0));
                        i.setShell(r)
                    }
                }
            }
            ,
            Cc.prototype.buildMinimalEdgeRings = function(t, e, n) {
                for (var i = new Ju, r = t.iterator(); r.hasNext(); ) {
                    var o = r.next();
                    if (o.getMaxNodeDegree() > 2) {
                        o.linkDirectedEdgesForMinimalEdgeRings();
                        var s = o.buildMinimalRings()
                          , a = this.findShell(s);
                        null !== a ? (this.placePolygonHoles(a, s),
                        e.add(a)) : n.addAll(s)
                    } else
                        i.add(o)
                }
                return i
            }
            ,
            Cc.prototype.containsPoint = function(t) {
                for (var e = this._shellList.iterator(); e.hasNext(); )
                    if (e.next().containsPoint(t))
                        return !0;
                return !1
            }
            ,
            Cc.prototype.buildMaximalEdgeRings = function(t) {
                for (var e = new Ju, n = t.iterator(); n.hasNext(); ) {
                    var i = n.next();
                    if (i.isInResult() && i.getLabel().isArea() && null === i.getEdgeRing()) {
                        var r = new hc(i,this._geometryFactory);
                        e.add(r),
                        r.setInResult()
                    }
                }
                return e
            }
            ,
            Cc.prototype.placePolygonHoles = function(t, e) {
                for (var n = e.iterator(); n.hasNext(); ) {
                    var i = n.next();
                    i.isHole() && i.setShell(t)
                }
            }
            ,
            Cc.prototype.getPolygons = function() {
                return this.computePolygons(this._shellList)
            }
            ,
            Cc.prototype.findEdgeRingContaining = function(t, e) {
                for (var n = t.getLinearRing(), i = n.getEnvelopeInternal(), r = n.getCoordinateN(0), o = null, s = null, a = e.iterator(); a.hasNext(); ) {
                    var u = a.next()
                      , l = u.getLinearRing()
                      , c = l.getEnvelopeInternal();
                    null !== o && (s = o.getLinearRing().getEnvelopeInternal());
                    var h = !1;
                    c.contains(i) && ku.isPointInRing(r, l.getCoordinates()) && (h = !0),
                    h && (null === o || s.contains(c)) && (o = u)
                }
                return o
            }
            ,
            Cc.prototype.findShell = function(t) {
                for (var e = 0, n = null, i = t.iterator(); i.hasNext(); ) {
                    var r = i.next();
                    r.isHole() || (n = r,
                    e++)
                }
                return Mu.isTrue(e <= 1, "found two shells in MinimalEdgeRing list"),
                n
            }
            ,
            Cc.prototype.add = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    this.add(t.getEdgeEnds(), t.getNodes())
                } else if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1];
                    Ec.linkResultDirectedEdges(n);
                    var i = this.buildMaximalEdgeRings(e)
                      , r = new Ju
                      , o = this.buildMinimalEdgeRings(i, this._shellList, r);
                    this.sortShellsAndHoles(o, this._shellList, r),
                    this.placeFreeHoles(this._shellList, r)
                }
            }
            ,
            Cc.prototype.interfaces_ = function() {
                return []
            }
            ,
            Cc.prototype.getClass = function() {
                return Cc
            }
            ;
            var wc = function() {};
            wc.prototype.getBounds = function() {}
            ,
            wc.prototype.interfaces_ = function() {
                return []
            }
            ,
            wc.prototype.getClass = function() {
                return wc
            }
            ;
            var bc = function() {
                this._bounds = null,
                this._item = null;
                var t = arguments[0]
                  , e = arguments[1];
                this._bounds = t,
                this._item = e
            };
            bc.prototype.getItem = function() {
                return this._item
            }
            ,
            bc.prototype.getBounds = function() {
                return this._bounds
            }
            ,
            bc.prototype.interfaces_ = function() {
                return [wc, yr]
            }
            ,
            bc.prototype.getClass = function() {
                return bc
            }
            ;
            var xc = function() {
                this._size = null,
                this._items = null,
                this._size = 0,
                this._items = new Ju,
                this._items.add(null)
            };
            xc.prototype.poll = function() {
                if (this.isEmpty())
                    return null;
                var t = this._items.get(1);
                return this._items.set(1, this._items.get(this._size)),
                this._size -= 1,
                this.reorder(1),
                t
            }
            ,
            xc.prototype.size = function() {
                return this._size
            }
            ,
            xc.prototype.reorder = function(t) {
                for (var e = null, n = this._items.get(t); 2 * t <= this._size && ((e = 2 * t) !== this._size && this._items.get(e + 1).compareTo(this._items.get(e)) < 0 && e++,
                this._items.get(e).compareTo(n) < 0); t = e)
                    this._items.set(t, this._items.get(e));
                this._items.set(t, n)
            }
            ,
            xc.prototype.clear = function() {
                this._size = 0,
                this._items.clear()
            }
            ,
            xc.prototype.isEmpty = function() {
                return 0 === this._size
            }
            ,
            xc.prototype.add = function(t) {
                this._items.add(null),
                this._size += 1;
                var e = this._size;
                for (this._items.set(0, t); t.compareTo(this._items.get(Math.trunc(e / 2))) < 0; e /= 2)
                    this._items.set(e, this._items.get(Math.trunc(e / 2)));
                this._items.set(e, t)
            }
            ,
            xc.prototype.interfaces_ = function() {
                return []
            }
            ,
            xc.prototype.getClass = function() {
                return xc
            }
            ;
            var Ic = function() {};
            Ic.prototype.visitItem = function(t) {}
            ,
            Ic.prototype.interfaces_ = function() {
                return []
            }
            ,
            Ic.prototype.getClass = function() {
                return Ic
            }
            ;
            var Pc = function() {};
            Pc.prototype.insert = function(t, e) {}
            ,
            Pc.prototype.remove = function(t, e) {}
            ,
            Pc.prototype.query = function() {}
            ,
            Pc.prototype.interfaces_ = function() {
                return []
            }
            ,
            Pc.prototype.getClass = function() {
                return Pc
            }
            ;
            var Lc = function() {
                if (this._childBoundables = new Ju,
                this._bounds = null,
                this._level = null,
                0 === arguments.length)
                    ;
                else if (1 === arguments.length) {
                    var t = arguments[0];
                    this._level = t
                }
            }
              , Sc = {
                serialVersionUID: {
                    configurable: !0
                }
            };
            Lc.prototype.getLevel = function() {
                return this._level
            }
            ,
            Lc.prototype.size = function() {
                return this._childBoundables.size()
            }
            ,
            Lc.prototype.getChildBoundables = function() {
                return this._childBoundables
            }
            ,
            Lc.prototype.addChildBoundable = function(t) {
                Mu.isTrue(null === this._bounds),
                this._childBoundables.add(t)
            }
            ,
            Lc.prototype.isEmpty = function() {
                return this._childBoundables.isEmpty()
            }
            ,
            Lc.prototype.getBounds = function() {
                return null === this._bounds && (this._bounds = this.computeBounds()),
                this._bounds
            }
            ,
            Lc.prototype.interfaces_ = function() {
                return [wc, yr]
            }
            ,
            Lc.prototype.getClass = function() {
                return Lc
            }
            ,
            Sc.serialVersionUID.get = function() {
                return 0x5a1e55ec41369800
            }
            ,
            Object.defineProperties(Lc, Sc);
            var Nc = function() {};
            Nc.reverseOrder = function() {
                return {
                    compare: function(t, e) {
                        return e.compareTo(t)
                    }
                }
            }
            ,
            Nc.min = function(t) {
                return Nc.sort(t),
                t.get(0)
            }
            ,
            Nc.sort = function(t, e) {
                var n = t.toArray();
                e ? fl.sort(n, e) : fl.sort(n);
                for (var i = t.iterator(), r = 0, o = n.length; r < o; r++)
                    i.next(),
                    i.set(n[r])
            }
            ,
            Nc.singletonList = function(t) {
                var e = new Ju;
                return e.add(t),
                e
            }
            ;
            var Mc = function() {
                this._boundable1 = null,
                this._boundable2 = null,
                this._distance = null,
                this._itemDistance = null;
                var t = arguments[0]
                  , e = arguments[1]
                  , n = arguments[2];
                this._boundable1 = t,
                this._boundable2 = e,
                this._itemDistance = n,
                this._distance = this.distance()
            };
            Mc.prototype.expandToQueue = function(t, e) {
                var n = Mc.isComposite(this._boundable1)
                  , i = Mc.isComposite(this._boundable2);
                if (n && i)
                    return Mc.area(this._boundable1) > Mc.area(this._boundable2) ? (this.expand(this._boundable1, this._boundable2, t, e),
                    null) : (this.expand(this._boundable2, this._boundable1, t, e),
                    null);
                if (n)
                    return this.expand(this._boundable1, this._boundable2, t, e),
                    null;
                if (i)
                    return this.expand(this._boundable2, this._boundable1, t, e),
                    null;
                throw new Xa("neither boundable is composite")
            }
            ,
            Mc.prototype.isLeaves = function() {
                return !(Mc.isComposite(this._boundable1) || Mc.isComposite(this._boundable2))
            }
            ,
            Mc.prototype.compareTo = function(t) {
                var e = t;
                return this._distance < e._distance ? -1 : this._distance > e._distance ? 1 : 0
            }
            ,
            Mc.prototype.expand = function(t, e, n, i) {
                for (var r = t.getChildBoundables().iterator(); r.hasNext(); ) {
                    var o = r.next()
                      , s = new Mc(o,e,this._itemDistance);
                    s.getDistance() < i && n.add(s)
                }
            }
            ,
            Mc.prototype.getBoundable = function(t) {
                return 0 === t ? this._boundable1 : this._boundable2
            }
            ,
            Mc.prototype.getDistance = function() {
                return this._distance
            }
            ,
            Mc.prototype.distance = function() {
                return this.isLeaves() ? this._itemDistance.distance(this._boundable1, this._boundable2) : this._boundable1.getBounds().distance(this._boundable2.getBounds())
            }
            ,
            Mc.prototype.interfaces_ = function() {
                return [Ka]
            }
            ,
            Mc.prototype.getClass = function() {
                return Mc
            }
            ,
            Mc.area = function(t) {
                return t.getBounds().getArea()
            }
            ,
            Mc.isComposite = function(t) {
                return t instanceof Lc
            }
            ;
            var Tc = function t() {
                if (this._root = null,
                this._built = !1,
                this._itemBoundables = new Ju,
                this._nodeCapacity = null,
                0 === arguments.length) {
                    var e = t.DEFAULT_NODE_CAPACITY;
                    this._nodeCapacity = e
                } else if (1 === arguments.length) {
                    var n = arguments[0];
                    Mu.isTrue(n > 1, "Node capacity must be greater than 1"),
                    this._nodeCapacity = n
                }
            }
              , Oc = {
                IntersectsOp: {
                    configurable: !0
                },
                serialVersionUID: {
                    configurable: !0
                },
                DEFAULT_NODE_CAPACITY: {
                    configurable: !0
                }
            };
            Tc.prototype.getNodeCapacity = function() {
                return this._nodeCapacity
            }
            ,
            Tc.prototype.lastNode = function(t) {
                return t.get(t.size() - 1)
            }
            ,
            Tc.prototype.size = function() {
                if (0 === arguments.length)
                    return this.isEmpty() ? 0 : (this.build(),
                    this.size(this._root));
                if (1 === arguments.length) {
                    for (var t = 0, e = arguments[0].getChildBoundables().iterator(); e.hasNext(); ) {
                        var n = e.next();
                        n instanceof Lc ? t += this.size(n) : n instanceof bc && (t += 1)
                    }
                    return t
                }
            }
            ,
            Tc.prototype.removeItem = function(t, e) {
                for (var n = null, i = t.getChildBoundables().iterator(); i.hasNext(); ) {
                    var r = i.next();
                    r instanceof bc && r.getItem() === e && (n = r)
                }
                return null !== n && (t.getChildBoundables().remove(n),
                !0)
            }
            ,
            Tc.prototype.itemsTree = function() {
                if (0 === arguments.length) {
                    this.build();
                    var t = this.itemsTree(this._root);
                    return null === t ? new Ju : t
                }
                if (1 === arguments.length) {
                    for (var e = arguments[0], n = new Ju, i = e.getChildBoundables().iterator(); i.hasNext(); ) {
                        var r = i.next();
                        if (r instanceof Lc) {
                            var o = this.itemsTree(r);
                            null !== o && n.add(o)
                        } else
                            r instanceof bc ? n.add(r.getItem()) : Mu.shouldNeverReachHere()
                    }
                    return n.size() <= 0 ? null : n
                }
            }
            ,
            Tc.prototype.insert = function(t, e) {
                Mu.isTrue(!this._built, "Cannot insert items into an STR packed R-tree after it has been built."),
                this._itemBoundables.add(new bc(t,e))
            }
            ,
            Tc.prototype.boundablesAtLevel = function() {
                if (1 === arguments.length) {
                    var t = arguments[0]
                      , e = new Ju;
                    return this.boundablesAtLevel(t, this._root, e),
                    e
                }
                if (3 === arguments.length) {
                    var n = arguments[0]
                      , i = arguments[1]
                      , r = arguments[2];
                    if (Mu.isTrue(n > -2),
                    i.getLevel() === n)
                        return r.add(i),
                        null;
                    for (var o = i.getChildBoundables().iterator(); o.hasNext(); ) {
                        var s = o.next();
                        s instanceof Lc ? this.boundablesAtLevel(n, s, r) : (Mu.isTrue(s instanceof bc),
                        -1 === n && r.add(s))
                    }
                    return null
                }
            }
            ,
            Tc.prototype.query = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    this.build();
                    var e = new Ju;
                    return this.isEmpty() ? e : (this.getIntersectsOp().intersects(this._root.getBounds(), t) && this.query(t, this._root, e),
                    e)
                }
                if (2 === arguments.length) {
                    var n = arguments[0]
                      , i = arguments[1];
                    if (this.build(),
                    this.isEmpty())
                        return null;
                    this.getIntersectsOp().intersects(this._root.getBounds(), n) && this.query(n, this._root, i)
                } else if (3 === arguments.length)
                    if (ou(arguments[2], Ic) && arguments[0]instanceof Object && arguments[1]instanceof Lc)
                        for (var r = arguments[0], o = arguments[1], s = arguments[2], a = o.getChildBoundables(), u = 0; u < a.size(); u++) {
                            var l = a.get(u);
                            this.getIntersectsOp().intersects(l.getBounds(), r) && (l instanceof Lc ? this.query(r, l, s) : l instanceof bc ? s.visitItem(l.getItem()) : Mu.shouldNeverReachHere())
                        }
                    else if (ou(arguments[2], Qu) && arguments[0]instanceof Object && arguments[1]instanceof Lc)
                        for (var c = arguments[0], h = arguments[1], p = arguments[2], f = h.getChildBoundables(), d = 0; d < f.size(); d++) {
                            var g = f.get(d);
                            this.getIntersectsOp().intersects(g.getBounds(), c) && (g instanceof Lc ? this.query(c, g, p) : g instanceof bc ? p.add(g.getItem()) : Mu.shouldNeverReachHere())
                        }
            }
            ,
            Tc.prototype.build = function() {
                if (this._built)
                    return null;
                this._root = this._itemBoundables.isEmpty() ? this.createNode(0) : this.createHigherLevels(this._itemBoundables, -1),
                this._itemBoundables = null,
                this._built = !0
            }
            ,
            Tc.prototype.getRoot = function() {
                return this.build(),
                this._root
            }
            ,
            Tc.prototype.remove = function() {
                if (2 === arguments.length) {
                    var t = arguments[0]
                      , e = arguments[1];
                    return this.build(),
                    !!this.getIntersectsOp().intersects(this._root.getBounds(), t) && this.remove(t, this._root, e)
                }
                if (3 === arguments.length) {
                    var n = arguments[0]
                      , i = arguments[1]
                      , r = arguments[2]
                      , o = this.removeItem(i, r);
                    if (o)
                        return !0;
                    for (var s = null, a = i.getChildBoundables().iterator(); a.hasNext(); ) {
                        var u = a.next();
                        if (this.getIntersectsOp().intersects(u.getBounds(), n) && u instanceof Lc && (o = this.remove(n, u, r))) {
                            s = u;
                            break
                        }
                    }
                    return null !== s && s.getChildBoundables().isEmpty() && i.getChildBoundables().remove(s),
                    o
                }
            }
            ,
            Tc.prototype.createHigherLevels = function(t, e) {
                Mu.isTrue(!t.isEmpty());
                var n = this.createParentBoundables(t, e + 1);
                return 1 === n.size() ? n.get(0) : this.createHigherLevels(n, e + 1)
            }
            ,
            Tc.prototype.depth = function() {
                if (0 === arguments.length)
                    return this.isEmpty() ? 0 : (this.build(),
                    this.depth(this._root));
                if (1 === arguments.length) {
                    for (var t = 0, e = arguments[0].getChildBoundables().iterator(); e.hasNext(); ) {
                        var n = e.next();
                        if (n instanceof Lc) {
                            var i = this.depth(n);
                            i > t && (t = i)
                        }
                    }
                    return t + 1
                }
            }
            ,
            Tc.prototype.createParentBoundables = function(t, e) {
                Mu.isTrue(!t.isEmpty());
                var n = new Ju;
                n.add(this.createNode(e));
                var i = new Ju(t);
                Nc.sort(i, this.getComparator());
                for (var r = i.iterator(); r.hasNext(); ) {
                    var o = r.next();
                    this.lastNode(n).getChildBoundables().size() === this.getNodeCapacity() && n.add(this.createNode(e)),
                    this.lastNode(n).addChildBoundable(o)
                }
                return n
            }
            ,
            Tc.prototype.isEmpty = function() {
                return this._built ? this._root.isEmpty() : this._itemBoundables.isEmpty()
            }
            ,
            Tc.prototype.interfaces_ = function() {
                return [yr]
            }
            ,
            Tc.prototype.getClass = function() {
                return Tc
            }
            ,
            Tc.compareDoubles = function(t, e) {
                return t > e ? 1 : t < e ? -1 : 0
            }
            ,
            Oc.IntersectsOp.get = function() {
                return Ac
            }
            ,
            Oc.serialVersionUID.get = function() {
                return -0x35ef64c82d4c5400
            }
            ,
            Oc.DEFAULT_NODE_CAPACITY.get = function() {
                return 10
            }
            ,
            Object.defineProperties(Tc, Oc);
            var Ac = function() {}
              , Dc = function() {};
            Dc.prototype.distance = function(t, e) {}
            ,
            Dc.prototype.interfaces_ = function() {
                return []
            }
            ,
            Dc.prototype.getClass = function() {
                return Dc
            }
            ;
            var Rc = function(t) {
                function e(n) {
                    n = n || e.DEFAULT_NODE_CAPACITY,
                    t.call(this, n)
                }
                t && (e.__proto__ = t),
                (e.prototype = Object.create(t && t.prototype)).constructor = e;
                var n = {
                    STRtreeNode: {
                        configurable: !0
                    },
                    serialVersionUID: {
                        configurable: !0
                    },
                    xComparator: {
                        configurable: !0
                    },
                    yComparator: {
                        configurable: !0
                    },
                    intersectsOp: {
                        configurable: !0
                    },
                    DEFAULT_NODE_CAPACITY: {
                        configurable: !0
                    }
                };
                return e.prototype.createParentBoundablesFromVerticalSlices = function(t, e) {
                    Mu.isTrue(t.length > 0);
                    for (var n = new Ju, i = 0; i < t.length; i++)
                        n.addAll(this.createParentBoundablesFromVerticalSlice(t[i], e));
                    return n
                }
                ,
                e.prototype.createNode = function(t) {
                    return new kc(t)
                }
                ,
                e.prototype.size = function() {
                    return 0 === arguments.length ? t.prototype.size.call(this) : t.prototype.size.apply(this, arguments)
                }
                ,
                e.prototype.insert = function() {
                    if (2 !== arguments.length)
                        return t.prototype.insert.apply(this, arguments);
                    var e = arguments[0]
                      , n = arguments[1];
                    if (e.isNull())
                        return null;
                    t.prototype.insert.call(this, e, n)
                }
                ,
                e.prototype.getIntersectsOp = function() {
                    return e.intersectsOp
                }
                ,
                e.prototype.verticalSlices = function(t, e) {
                    for (var n = Math.trunc(Math.ceil(t.size() / e)), i = new Array(e).fill(null), r = t.iterator(), o = 0; o < e; o++) {
                        i[o] = new Ju;
                        for (var s = 0; r.hasNext() && s < n; ) {
                            var a = r.next();
                            i[o].add(a),
                            s++
                        }
                    }
                    return i
                }
                ,
                e.prototype.query = function() {
                    if (1 === arguments.length) {
                        var e = arguments[0];
                        return t.prototype.query.call(this, e)
                    }
                    if (2 === arguments.length) {
                        var n = arguments[0]
                          , i = arguments[1];
                        t.prototype.query.call(this, n, i)
                    } else if (3 === arguments.length)
                        if (ou(arguments[2], Ic) && arguments[0]instanceof Object && arguments[1]instanceof Lc) {
                            var r = arguments[0]
                              , o = arguments[1]
                              , s = arguments[2];
                            t.prototype.query.call(this, r, o, s)
                        } else if (ou(arguments[2], Qu) && arguments[0]instanceof Object && arguments[1]instanceof Lc) {
                            var a = arguments[0]
                              , u = arguments[1]
                              , l = arguments[2];
                            t.prototype.query.call(this, a, u, l)
                        }
                }
                ,
                e.prototype.getComparator = function() {
                    return e.yComparator
                }
                ,
                e.prototype.createParentBoundablesFromVerticalSlice = function(e, n) {
                    return t.prototype.createParentBoundables.call(this, e, n)
                }
                ,
                e.prototype.remove = function() {
                    if (2 === arguments.length) {
                        var e = arguments[0]
                          , n = arguments[1];
                        return t.prototype.remove.call(this, e, n)
                    }
                    return t.prototype.remove.apply(this, arguments)
                }
                ,
                e.prototype.depth = function() {
                    return 0 === arguments.length ? t.prototype.depth.call(this) : t.prototype.depth.apply(this, arguments)
                }
                ,
                e.prototype.createParentBoundables = function(t, n) {
                    Mu.isTrue(!t.isEmpty());
                    var i = Math.trunc(Math.ceil(t.size() / this.getNodeCapacity()))
                      , r = new Ju(t);
                    Nc.sort(r, e.xComparator);
                    var o = this.verticalSlices(r, Math.trunc(Math.ceil(Math.sqrt(i))));
                    return this.createParentBoundablesFromVerticalSlices(o, n)
                }
                ,
                e.prototype.nearestNeighbour = function() {
                    if (1 === arguments.length) {
                        if (ou(arguments[0], Dc)) {
                            var t = arguments[0]
                              , n = new Mc(this.getRoot(),this.getRoot(),t);
                            return this.nearestNeighbour(n)
                        }
                        if (arguments[0]instanceof Mc) {
                            var i = arguments[0];
                            return this.nearestNeighbour(i, Wa.POSITIVE_INFINITY)
                        }
                    } else if (2 === arguments.length) {
                        if (arguments[0]instanceof e && ou(arguments[1], Dc)) {
                            var r = arguments[0]
                              , o = arguments[1]
                              , s = new Mc(this.getRoot(),r.getRoot(),o);
                            return this.nearestNeighbour(s)
                        }
                        if (arguments[0]instanceof Mc && "number" == typeof arguments[1]) {
                            var a = arguments[0]
                              , u = arguments[1]
                              , l = null
                              , c = new xc;
                            for (c.add(a); !c.isEmpty() && u > 0; ) {
                                var h = c.poll()
                                  , p = h.getDistance();
                                if (p >= u)
                                    break;
                                h.isLeaves() ? (u = p,
                                l = h) : h.expandToQueue(c, u)
                            }
                            return [l.getBoundable(0).getItem(), l.getBoundable(1).getItem()]
                        }
                    } else if (3 === arguments.length) {
                        var f = arguments[0]
                          , d = arguments[1]
                          , g = arguments[2]
                          , y = new bc(f,d)
                          , v = new Mc(this.getRoot(),y,g);
                        return this.nearestNeighbour(v)[0]
                    }
                }
                ,
                e.prototype.interfaces_ = function() {
                    return [Pc, yr]
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                e.centreX = function(t) {
                    return e.avg(t.getMinX(), t.getMaxX())
                }
                ,
                e.avg = function(t, e) {
                    return (t + e) / 2
                }
                ,
                e.centreY = function(t) {
                    return e.avg(t.getMinY(), t.getMaxY())
                }
                ,
                n.STRtreeNode.get = function() {
                    return kc
                }
                ,
                n.serialVersionUID.get = function() {
                    return 0x39920f7d5f261e0
                }
                ,
                n.xComparator.get = function() {
                    return {
                        interfaces_: function() {
                            return [Qa]
                        },
                        compare: function(n, i) {
                            return t.compareDoubles(e.centreX(n.getBounds()), e.centreX(i.getBounds()))
                        }
                    }
                }
                ,
                n.yComparator.get = function() {
                    return {
                        interfaces_: function() {
                            return [Qa]
                        },
                        compare: function(n, i) {
                            return t.compareDoubles(e.centreY(n.getBounds()), e.centreY(i.getBounds()))
                        }
                    }
                }
                ,
                n.intersectsOp.get = function() {
                    return {
                        interfaces_: function() {
                            return [t.IntersectsOp]
                        },
                        intersects: function(t, e) {
                            return t.intersects(e)
                        }
                    }
                }
                ,
                n.DEFAULT_NODE_CAPACITY.get = function() {
                    return 10
                }
                ,
                Object.defineProperties(e, n),
                e
            }(Tc)
              , kc = function(t) {
                function e() {
                    var e = arguments[0];
                    t.call(this, e)
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.computeBounds = function() {
                    for (var t = null, e = this.getChildBoundables().iterator(); e.hasNext(); ) {
                        var n = e.next();
                        null === t ? t = new Cu(n.getBounds()) : t.expandToInclude(n.getBounds())
                    }
                    return t
                }
                ,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                e
            }(Lc)
              , Fc = function() {};
            Fc.prototype.interfaces_ = function() {
                return []
            }
            ,
            Fc.prototype.getClass = function() {
                return Fc
            }
            ,
            Fc.relativeSign = function(t, e) {
                return t < e ? -1 : t > e ? 1 : 0
            }
            ,
            Fc.compare = function(t, e, n) {
                if (e.equals2D(n))
                    return 0;
                var i = Fc.relativeSign(e.x, n.x)
                  , r = Fc.relativeSign(e.y, n.y);
                switch (t) {
                case 0:
                    return Fc.compareValue(i, r);
                case 1:
                    return Fc.compareValue(r, i);
                case 2:
                    return Fc.compareValue(r, -i);
                case 3:
                    return Fc.compareValue(-i, r);
                case 4:
                    return Fc.compareValue(-i, -r);
                case 5:
                    return Fc.compareValue(-r, -i);
                case 6:
                    return Fc.compareValue(-r, i);
                case 7:
                    return Fc.compareValue(i, -r)
                }
                return Mu.shouldNeverReachHere("invalid octant value"),
                0
            }
            ,
            Fc.compareValue = function(t, e) {
                return t < 0 ? -1 : t > 0 ? 1 : e < 0 ? -1 : e > 0 ? 1 : 0
            }
            ;
            var Gc = function() {
                this._segString = null,
                this.coord = null,
                this.segmentIndex = null,
                this._segmentOctant = null,
                this._isInterior = null;
                var t = arguments[0]
                  , e = arguments[1]
                  , n = arguments[2]
                  , i = arguments[3];
                this._segString = t,
                this.coord = new Ja(e),
                this.segmentIndex = n,
                this._segmentOctant = i,
                this._isInterior = !e.equals2D(t.getCoordinate(n))
            };
            Gc.prototype.getCoordinate = function() {
                return this.coord
            }
            ,
            Gc.prototype.print = function(t) {
                t.print(this.coord),
                t.print(" seg # = " + this.segmentIndex)
            }
            ,
            Gc.prototype.compareTo = function(t) {
                var e = t;
                return this.segmentIndex < e.segmentIndex ? -1 : this.segmentIndex > e.segmentIndex ? 1 : this.coord.equals2D(e.coord) ? 0 : Fc.compare(this._segmentOctant, this.coord, e.coord)
            }
            ,
            Gc.prototype.isEndPoint = function(t) {
                return 0 === this.segmentIndex && !this._isInterior || this.segmentIndex === t
            }
            ,
            Gc.prototype.isInterior = function() {
                return this._isInterior
            }
            ,
            Gc.prototype.interfaces_ = function() {
                return [Ka]
            }
            ,
            Gc.prototype.getClass = function() {
                return Gc
            }
            ;
            var Bc = function() {
                this._nodeMap = new Ir,
                this._edge = null;
                var t = arguments[0];
                this._edge = t
            };
            Bc.prototype.getSplitCoordinates = function() {
                var t = new el;
                this.addEndpoints();
                for (var e = this.iterator(), n = e.next(); e.hasNext(); ) {
                    var i = e.next();
                    this.addEdgeCoordinates(n, i, t),
                    n = i
                }
                return t.toCoordinateArray()
            }
            ,
            Bc.prototype.addCollapsedNodes = function() {
                var t = new Ju;
                this.findCollapsesFromInsertedNodes(t),
                this.findCollapsesFromExistingVertices(t);
                for (var e = t.iterator(); e.hasNext(); ) {
                    var n = e.next().intValue();
                    this.add(this._edge.getCoordinate(n), n)
                }
            }
            ,
            Bc.prototype.print = function(t) {
                t.println("Intersections:");
                for (var e = this.iterator(); e.hasNext(); )
                    e.next().print(t)
            }
            ,
            Bc.prototype.findCollapsesFromExistingVertices = function(t) {
                for (var e = 0; e < this._edge.size() - 2; e++) {
                    var n = this._edge.getCoordinate(e)
                      , i = this._edge.getCoordinate(e + 2);
                    n.equals2D(i) && t.add(new lu(e + 1))
                }
            }
            ,
            Bc.prototype.addEdgeCoordinates = function(t, e, n) {
                var i = this._edge.getCoordinate(e.segmentIndex)
                  , r = e.isInterior() || !e.coord.equals2D(i);
                n.add(new Ja(t.coord), !1);
                for (var o = t.segmentIndex + 1; o <= e.segmentIndex; o++)
                    n.add(this._edge.getCoordinate(o));
                r && n.add(new Ja(e.coord))
            }
            ,
            Bc.prototype.iterator = function() {
                return this._nodeMap.values().iterator()
            }
            ,
            Bc.prototype.addSplitEdges = function(t) {
                this.addEndpoints(),
                this.addCollapsedNodes();
                for (var e = this.iterator(), n = e.next(); e.hasNext(); ) {
                    var i = e.next()
                      , r = this.createSplitEdge(n, i);
                    t.add(r),
                    n = i
                }
            }
            ,
            Bc.prototype.findCollapseIndex = function(t, e, n) {
                if (!t.coord.equals2D(e.coord))
                    return !1;
                var i = e.segmentIndex - t.segmentIndex;
                return e.isInterior() || i--,
                1 === i && (n[0] = t.segmentIndex + 1,
                !0)
            }
            ,
            Bc.prototype.findCollapsesFromInsertedNodes = function(t) {
                for (var e = new Array(1).fill(null), n = this.iterator(), i = n.next(); n.hasNext(); ) {
                    var r = n.next();
                    this.findCollapseIndex(i, r, e) && t.add(new lu(e[0])),
                    i = r
                }
            }
            ,
            Bc.prototype.getEdge = function() {
                return this._edge
            }
            ,
            Bc.prototype.addEndpoints = function() {
                var t = this._edge.size() - 1;
                this.add(this._edge.getCoordinate(0), 0),
                this.add(this._edge.getCoordinate(t), t)
            }
            ,
            Bc.prototype.createSplitEdge = function(t, e) {
                var n = e.segmentIndex - t.segmentIndex + 2
                  , i = this._edge.getCoordinate(e.segmentIndex)
                  , r = e.isInterior() || !e.coord.equals2D(i);
                r || n--;
                var o = new Array(n).fill(null)
                  , s = 0;
                o[s++] = new Ja(t.coord);
                for (var a = t.segmentIndex + 1; a <= e.segmentIndex; a++)
                    o[s++] = this._edge.getCoordinate(a);
                return r && (o[s] = new Ja(e.coord)),
                new jc(o,this._edge.getData())
            }
            ,
            Bc.prototype.add = function(t, e) {
                var n = new Gc(this._edge,t,e,this._edge.getSegmentOctant(e))
                  , i = this._nodeMap.get(n);
                return null !== i ? (Mu.isTrue(i.coord.equals2D(t), "Found equal nodes with different coordinates"),
                i) : (this._nodeMap.put(n, n),
                n)
            }
            ,
            Bc.prototype.checkSplitEdgesCorrectness = function(t) {
                var e = this._edge.getCoordinates()
                  , n = t.get(0).getCoordinate(0);
                if (!n.equals2D(e[0]))
                    throw new Su("bad split edge start point at " + n);
                var i = t.get(t.size() - 1).getCoordinates()
                  , r = i[i.length - 1];
                if (!r.equals2D(e[e.length - 1]))
                    throw new Su("bad split edge end point at " + r)
            }
            ,
            Bc.prototype.interfaces_ = function() {
                return []
            }
            ,
            Bc.prototype.getClass = function() {
                return Bc
            }
            ;
            var qc = function() {};
            qc.prototype.interfaces_ = function() {
                return []
            }
            ,
            qc.prototype.getClass = function() {
                return qc
            }
            ,
            qc.octant = function() {
                if ("number" == typeof arguments[0] && "number" == typeof arguments[1]) {
                    var t = arguments[0]
                      , e = arguments[1];
                    if (0 === t && 0 === e)
                        throw new Xa("Cannot compute the octant for point ( " + t + ", " + e + " )");
                    var n = Math.abs(t)
                      , i = Math.abs(e);
                    return t >= 0 ? e >= 0 ? n >= i ? 0 : 1 : n >= i ? 7 : 6 : e >= 0 ? n >= i ? 3 : 2 : n >= i ? 4 : 5
                }
                if (arguments[0]instanceof Ja && arguments[1]instanceof Ja) {
                    var r = arguments[0]
                      , o = arguments[1]
                      , s = o.x - r.x
                      , a = o.y - r.y;
                    if (0 === s && 0 === a)
                        throw new Xa("Cannot compute the octant for two identical points " + r);
                    return qc.octant(s, a)
                }
            }
            ;
            var Vc = function() {};
            Vc.prototype.getCoordinates = function() {}
            ,
            Vc.prototype.size = function() {}
            ,
            Vc.prototype.getCoordinate = function(t) {}
            ,
            Vc.prototype.isClosed = function() {}
            ,
            Vc.prototype.setData = function(t) {}
            ,
            Vc.prototype.getData = function() {}
            ,
            Vc.prototype.interfaces_ = function() {
                return []
            }
            ,
            Vc.prototype.getClass = function() {
                return Vc
            }
            ;
            var Uc = function() {};
            Uc.prototype.addIntersection = function(t, e) {}
            ,
            Uc.prototype.interfaces_ = function() {
                return [Vc]
            }
            ,
            Uc.prototype.getClass = function() {
                return Uc
            }
            ;
            var jc = function() {
                this._nodeList = new Bc(this),
                this._pts = null,
                this._data = null;
                var t = arguments[0]
                  , e = arguments[1];
                this._pts = t,
                this._data = e
            };
            jc.prototype.getCoordinates = function() {
                return this._pts
            }
            ,
            jc.prototype.size = function() {
                return this._pts.length
            }
            ,
            jc.prototype.getCoordinate = function(t) {
                return this._pts[t]
            }
            ,
            jc.prototype.isClosed = function() {
                return this._pts[0].equals(this._pts[this._pts.length - 1])
            }
            ,
            jc.prototype.getSegmentOctant = function(t) {
                return t === this._pts.length - 1 ? -1 : this.safeOctant(this.getCoordinate(t), this.getCoordinate(t + 1))
            }
            ,
            jc.prototype.setData = function(t) {
                this._data = t
            }
            ,
            jc.prototype.safeOctant = function(t, e) {
                return t.equals2D(e) ? 0 : qc.octant(t, e)
            }
            ,
            jc.prototype.getData = function() {
                return this._data
            }
            ,
            jc.prototype.addIntersection = function() {
                if (2 === arguments.length) {
                    var t = arguments[0]
                      , e = arguments[1];
                    this.addIntersectionNode(t, e)
                } else if (4 === arguments.length) {
                    var n = arguments[0]
                      , i = arguments[1]
                      , r = arguments[3]
                      , o = new Ja(n.getIntersection(r));
                    this.addIntersection(o, i)
                }
            }
            ,
            jc.prototype.toString = function() {
                return Lu.toLineString(new Gl(this._pts))
            }
            ,
            jc.prototype.getNodeList = function() {
                return this._nodeList
            }
            ,
            jc.prototype.addIntersectionNode = function(t, e) {
                var n = e
                  , i = n + 1;
                if (i < this._pts.length) {
                    var r = this._pts[i];
                    t.equals2D(r) && (n = i)
                }
                return this._nodeList.add(t, n)
            }
            ,
            jc.prototype.addIntersections = function(t, e, n) {
                for (var i = 0; i < t.getIntersectionNum(); i++)
                    this.addIntersection(t, e, n, i)
            }
            ,
            jc.prototype.interfaces_ = function() {
                return [Uc]
            }
            ,
            jc.prototype.getClass = function() {
                return jc
            }
            ,
            jc.getNodedSubstrings = function() {
                if (1 === arguments.length) {
                    var t = arguments[0]
                      , e = new Ju;
                    return jc.getNodedSubstrings(t, e),
                    e
                }
                if (2 === arguments.length)
                    for (var n = arguments[0], i = arguments[1], r = n.iterator(); r.hasNext(); )
                        r.next().getNodeList().addSplitEdges(i)
            }
            ;
            var zc = function() {
                if (this.p0 = null,
                this.p1 = null,
                0 === arguments.length)
                    this.p0 = new Ja,
                    this.p1 = new Ja;
                else if (1 === arguments.length) {
                    var t = arguments[0];
                    this.p0 = new Ja(t.p0),
                    this.p1 = new Ja(t.p1)
                } else if (2 === arguments.length)
                    this.p0 = arguments[0],
                    this.p1 = arguments[1];
                else if (4 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1]
                      , i = arguments[2]
                      , r = arguments[3];
                    this.p0 = new Ja(e,n),
                    this.p1 = new Ja(i,r)
                }
            }
              , Yc = {
                serialVersionUID: {
                    configurable: !0
                }
            };
            zc.prototype.minX = function() {
                return Math.min(this.p0.x, this.p1.x)
            }
            ,
            zc.prototype.orientationIndex = function() {
                if (arguments[0]instanceof zc) {
                    var t = arguments[0]
                      , e = ku.orientationIndex(this.p0, this.p1, t.p0)
                      , n = ku.orientationIndex(this.p0, this.p1, t.p1);
                    return e >= 0 && n >= 0 ? Math.max(e, n) : e <= 0 && n <= 0 ? Math.max(e, n) : 0
                }
                if (arguments[0]instanceof Ja) {
                    var i = arguments[0];
                    return ku.orientationIndex(this.p0, this.p1, i)
                }
            }
            ,
            zc.prototype.toGeometry = function(t) {
                return t.createLineString([this.p0, this.p1])
            }
            ,
            zc.prototype.isVertical = function() {
                return this.p0.x === this.p1.x
            }
            ,
            zc.prototype.equals = function(t) {
                if (!(t instanceof zc))
                    return !1;
                var e = t;
                return this.p0.equals(e.p0) && this.p1.equals(e.p1)
            }
            ,
            zc.prototype.intersection = function(t) {
                var e = new Au;
                return e.computeIntersection(this.p0, this.p1, t.p0, t.p1),
                e.hasIntersection() ? e.getIntersection(0) : null
            }
            ,
            zc.prototype.project = function() {
                if (arguments[0]instanceof Ja) {
                    var t = arguments[0];
                    if (t.equals(this.p0) || t.equals(this.p1))
                        return new Ja(t);
                    var e = this.projectionFactor(t)
                      , n = new Ja;
                    return n.x = this.p0.x + e * (this.p1.x - this.p0.x),
                    n.y = this.p0.y + e * (this.p1.y - this.p0.y),
                    n
                }
                if (arguments[0]instanceof zc) {
                    var i = arguments[0]
                      , r = this.projectionFactor(i.p0)
                      , o = this.projectionFactor(i.p1);
                    if (r >= 1 && o >= 1)
                        return null;
                    if (r <= 0 && o <= 0)
                        return null;
                    var s = this.project(i.p0);
                    r < 0 && (s = this.p0),
                    r > 1 && (s = this.p1);
                    var a = this.project(i.p1);
                    return o < 0 && (a = this.p0),
                    o > 1 && (a = this.p1),
                    new zc(s,a)
                }
            }
            ,
            zc.prototype.normalize = function() {
                this.p1.compareTo(this.p0) < 0 && this.reverse()
            }
            ,
            zc.prototype.angle = function() {
                return Math.atan2(this.p1.y - this.p0.y, this.p1.x - this.p0.x)
            }
            ,
            zc.prototype.getCoordinate = function(t) {
                return 0 === t ? this.p0 : this.p1
            }
            ,
            zc.prototype.distancePerpendicular = function(t) {
                return ku.distancePointLinePerpendicular(t, this.p0, this.p1)
            }
            ,
            zc.prototype.minY = function() {
                return Math.min(this.p0.y, this.p1.y)
            }
            ,
            zc.prototype.midPoint = function() {
                return zc.midPoint(this.p0, this.p1)
            }
            ,
            zc.prototype.projectionFactor = function(t) {
                if (t.equals(this.p0))
                    return 0;
                if (t.equals(this.p1))
                    return 1;
                var e = this.p1.x - this.p0.x
                  , n = this.p1.y - this.p0.y
                  , i = e * e + n * n;
                return i <= 0 ? Wa.NaN : ((t.x - this.p0.x) * e + (t.y - this.p0.y) * n) / i
            }
            ,
            zc.prototype.closestPoints = function(t) {
                var e = this.intersection(t);
                if (null !== e)
                    return [e, e];
                var n = new Array(2).fill(null)
                  , i = Wa.MAX_VALUE
                  , r = null
                  , o = this.closestPoint(t.p0);
                i = o.distance(t.p0),
                n[0] = o,
                n[1] = t.p0;
                var s = this.closestPoint(t.p1);
                (r = s.distance(t.p1)) < i && (i = r,
                n[0] = s,
                n[1] = t.p1);
                var a = t.closestPoint(this.p0);
                (r = a.distance(this.p0)) < i && (i = r,
                n[0] = this.p0,
                n[1] = a);
                var u = t.closestPoint(this.p1);
                return (r = u.distance(this.p1)) < i && (i = r,
                n[0] = this.p1,
                n[1] = u),
                n
            }
            ,
            zc.prototype.closestPoint = function(t) {
                var e = this.projectionFactor(t);
                return e > 0 && e < 1 ? this.project(t) : this.p0.distance(t) < this.p1.distance(t) ? this.p0 : this.p1
            }
            ,
            zc.prototype.maxX = function() {
                return Math.max(this.p0.x, this.p1.x)
            }
            ,
            zc.prototype.getLength = function() {
                return this.p0.distance(this.p1)
            }
            ,
            zc.prototype.compareTo = function(t) {
                var e = t
                  , n = this.p0.compareTo(e.p0);
                return 0 !== n ? n : this.p1.compareTo(e.p1)
            }
            ,
            zc.prototype.reverse = function() {
                var t = this.p0;
                this.p0 = this.p1,
                this.p1 = t
            }
            ,
            zc.prototype.equalsTopo = function(t) {
                return this.p0.equals(t.p0) && (this.p1.equals(t.p1) || this.p0.equals(t.p1)) && this.p1.equals(t.p0)
            }
            ,
            zc.prototype.lineIntersection = function(t) {
                try {
                    return Eu.intersection(this.p0, this.p1, t.p0, t.p1)
                } catch (t) {
                    if (!(t instanceof mu))
                        throw t
                }
                return null
            }
            ,
            zc.prototype.maxY = function() {
                return Math.max(this.p0.y, this.p1.y)
            }
            ,
            zc.prototype.pointAlongOffset = function(t, e) {
                var n = this.p0.x + t * (this.p1.x - this.p0.x)
                  , i = this.p0.y + t * (this.p1.y - this.p0.y)
                  , r = this.p1.x - this.p0.x
                  , o = this.p1.y - this.p0.y
                  , s = Math.sqrt(r * r + o * o)
                  , a = 0
                  , u = 0;
                if (0 !== e) {
                    if (s <= 0)
                        throw new Error("Cannot compute offset from zero-length line segment");
                    a = e * r / s,
                    u = e * o / s
                }
                return new Ja(n - u,i + a)
            }
            ,
            zc.prototype.setCoordinates = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    this.setCoordinates(t.p0, t.p1)
                } else if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1];
                    this.p0.x = e.x,
                    this.p0.y = e.y,
                    this.p1.x = n.x,
                    this.p1.y = n.y
                }
            }
            ,
            zc.prototype.segmentFraction = function(t) {
                var e = this.projectionFactor(t);
                return e < 0 ? e = 0 : (e > 1 || Wa.isNaN(e)) && (e = 1),
                e
            }
            ,
            zc.prototype.toString = function() {
                return "LINESTRING( " + this.p0.x + " " + this.p0.y + ", " + this.p1.x + " " + this.p1.y + ")"
            }
            ,
            zc.prototype.isHorizontal = function() {
                return this.p0.y === this.p1.y
            }
            ,
            zc.prototype.distance = function() {
                if (arguments[0]instanceof zc) {
                    var t = arguments[0];
                    return ku.distanceLineLine(this.p0, this.p1, t.p0, t.p1)
                }
                if (arguments[0]instanceof Ja) {
                    var e = arguments[0];
                    return ku.distancePointLine(e, this.p0, this.p1)
                }
            }
            ,
            zc.prototype.pointAlong = function(t) {
                var e = new Ja;
                return e.x = this.p0.x + t * (this.p1.x - this.p0.x),
                e.y = this.p0.y + t * (this.p1.y - this.p0.y),
                e
            }
            ,
            zc.prototype.hashCode = function() {
                var t = Wa.doubleToLongBits(this.p0.x);
                t ^= 31 * Wa.doubleToLongBits(this.p0.y);
                var e = Math.trunc(t) ^ Math.trunc(t >> 32)
                  , n = Wa.doubleToLongBits(this.p1.x);
                return n ^= 31 * Wa.doubleToLongBits(this.p1.y),
                e ^ Math.trunc(n) ^ Math.trunc(n >> 32)
            }
            ,
            zc.prototype.interfaces_ = function() {
                return [Ka, yr]
            }
            ,
            zc.prototype.getClass = function() {
                return zc
            }
            ,
            zc.midPoint = function(t, e) {
                return new Ja((t.x + e.x) / 2,(t.y + e.y) / 2)
            }
            ,
            Yc.serialVersionUID.get = function() {
                return 0x2d2172135f411c00
            }
            ,
            Object.defineProperties(zc, Yc);
            var Hc = function() {
                this.tempEnv1 = new Cu,
                this.tempEnv2 = new Cu,
                this._overlapSeg1 = new zc,
                this._overlapSeg2 = new zc
            };
            Hc.prototype.overlap = function() {
                if (2 === arguments.length)
                    ;
                else if (4 === arguments.length) {
                    var t = arguments[0]
                      , e = arguments[1]
                      , n = arguments[2]
                      , i = arguments[3];
                    t.getLineSegment(e, this._overlapSeg1),
                    n.getLineSegment(i, this._overlapSeg2),
                    this.overlap(this._overlapSeg1, this._overlapSeg2)
                }
            }
            ,
            Hc.prototype.interfaces_ = function() {
                return []
            }
            ,
            Hc.prototype.getClass = function() {
                return Hc
            }
            ;
            var Xc = function() {
                this._pts = null,
                this._start = null,
                this._end = null,
                this._env = null,
                this._context = null,
                this._id = null;
                var t = arguments[0]
                  , e = arguments[1]
                  , n = arguments[2]
                  , i = arguments[3];
                this._pts = t,
                this._start = e,
                this._end = n,
                this._context = i
            };
            Xc.prototype.getLineSegment = function(t, e) {
                e.p0 = this._pts[t],
                e.p1 = this._pts[t + 1]
            }
            ,
            Xc.prototype.computeSelect = function(t, e, n, i) {
                var r = this._pts[e]
                  , o = this._pts[n];
                if (i.tempEnv1.init(r, o),
                n - e == 1)
                    return i.select(this, e),
                    null;
                if (!t.intersects(i.tempEnv1))
                    return null;
                var s = Math.trunc((e + n) / 2);
                e < s && this.computeSelect(t, e, s, i),
                s < n && this.computeSelect(t, s, n, i)
            }
            ,
            Xc.prototype.getCoordinates = function() {
                for (var t = new Array(this._end - this._start + 1).fill(null), e = 0, n = this._start; n <= this._end; n++)
                    t[e++] = this._pts[n];
                return t
            }
            ,
            Xc.prototype.computeOverlaps = function(t, e) {
                this.computeOverlapsInternal(this._start, this._end, t, t._start, t._end, e)
            }
            ,
            Xc.prototype.setId = function(t) {
                this._id = t
            }
            ,
            Xc.prototype.select = function(t, e) {
                this.computeSelect(t, this._start, this._end, e)
            }
            ,
            Xc.prototype.getEnvelope = function() {
                if (null === this._env) {
                    var t = this._pts[this._start]
                      , e = this._pts[this._end];
                    this._env = new Cu(t,e)
                }
                return this._env
            }
            ,
            Xc.prototype.getEndIndex = function() {
                return this._end
            }
            ,
            Xc.prototype.getStartIndex = function() {
                return this._start
            }
            ,
            Xc.prototype.getContext = function() {
                return this._context
            }
            ,
            Xc.prototype.getId = function() {
                return this._id
            }
            ,
            Xc.prototype.computeOverlapsInternal = function(t, e, n, i, r, o) {
                var s = this._pts[t]
                  , a = this._pts[e]
                  , u = n._pts[i]
                  , l = n._pts[r];
                if (e - t == 1 && r - i == 1)
                    return o.overlap(this, t, n, i),
                    null;
                if (o.tempEnv1.init(s, a),
                o.tempEnv2.init(u, l),
                !o.tempEnv1.intersects(o.tempEnv2))
                    return null;
                var c = Math.trunc((t + e) / 2)
                  , h = Math.trunc((i + r) / 2);
                t < c && (i < h && this.computeOverlapsInternal(t, c, n, i, h, o),
                h < r && this.computeOverlapsInternal(t, c, n, h, r, o)),
                c < e && (i < h && this.computeOverlapsInternal(c, e, n, i, h, o),
                h < r && this.computeOverlapsInternal(c, e, n, h, r, o))
            }
            ,
            Xc.prototype.interfaces_ = function() {
                return []
            }
            ,
            Xc.prototype.getClass = function() {
                return Xc
            }
            ;
            var Wc = function() {};
            Wc.prototype.interfaces_ = function() {
                return []
            }
            ,
            Wc.prototype.getClass = function() {
                return Wc
            }
            ,
            Wc.getChainStartIndices = function(t) {
                var e = 0
                  , n = new Ju;
                n.add(new lu(e));
                do {
                    var i = Wc.findChainEnd(t, e);
                    n.add(new lu(i)),
                    e = i
                } while (e < t.length - 1);
                return Wc.toIntArray(n)
            }
            ,
            Wc.findChainEnd = function(t, e) {
                for (var n = e; n < t.length - 1 && t[n].equals2D(t[n + 1]); )
                    n++;
                if (n >= t.length - 1)
                    return t.length - 1;
                for (var i = gc.quadrant(t[n], t[n + 1]), r = e + 1; r < t.length && (t[r - 1].equals2D(t[r]) || gc.quadrant(t[r - 1], t[r]) === i); )
                    r++;
                return r - 1
            }
            ,
            Wc.getChains = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    return Wc.getChains(t, null)
                }
                if (2 === arguments.length) {
                    for (var e = arguments[0], n = arguments[1], i = new Ju, r = Wc.getChainStartIndices(e), o = 0; o < r.length - 1; o++) {
                        var s = new Xc(e,r[o],r[o + 1],n);
                        i.add(s)
                    }
                    return i
                }
            }
            ,
            Wc.toIntArray = function(t) {
                for (var e = new Array(t.size()).fill(null), n = 0; n < e.length; n++)
                    e[n] = t.get(n).intValue();
                return e
            }
            ;
            var $c = function() {};
            $c.prototype.computeNodes = function(t) {}
            ,
            $c.prototype.getNodedSubstrings = function() {}
            ,
            $c.prototype.interfaces_ = function() {
                return []
            }
            ,
            $c.prototype.getClass = function() {
                return $c
            }
            ;
            var Kc = function() {
                if (this._segInt = null,
                0 === arguments.length)
                    ;
                else if (1 === arguments.length) {
                    var t = arguments[0];
                    this.setSegmentIntersector(t)
                }
            };
            Kc.prototype.setSegmentIntersector = function(t) {
                this._segInt = t
            }
            ,
            Kc.prototype.interfaces_ = function() {
                return [$c]
            }
            ,
            Kc.prototype.getClass = function() {
                return Kc
            }
            ;
            var Zc = function(t) {
                function e(e) {
                    e ? t.call(this, e) : t.call(this),
                    this._monoChains = new Ju,
                    this._index = new Rc,
                    this._idCounter = 0,
                    this._nodedSegStrings = null,
                    this._nOverlaps = 0
                }
                t && (e.__proto__ = t),
                (e.prototype = Object.create(t && t.prototype)).constructor = e;
                var n = {
                    SegmentOverlapAction: {
                        configurable: !0
                    }
                };
                return e.prototype.getMonotoneChains = function() {
                    return this._monoChains
                }
                ,
                e.prototype.getNodedSubstrings = function() {
                    return jc.getNodedSubstrings(this._nodedSegStrings)
                }
                ,
                e.prototype.getIndex = function() {
                    return this._index
                }
                ,
                e.prototype.add = function(t) {
                    for (var e = Wc.getChains(t.getCoordinates(), t).iterator(); e.hasNext(); ) {
                        var n = e.next();
                        n.setId(this._idCounter++),
                        this._index.insert(n.getEnvelope(), n),
                        this._monoChains.add(n)
                    }
                }
                ,
                e.prototype.computeNodes = function(t) {
                    this._nodedSegStrings = t;
                    for (var e = t.iterator(); e.hasNext(); )
                        this.add(e.next());
                    this.intersectChains()
                }
                ,
                e.prototype.intersectChains = function() {
                    for (var t = new Qc(this._segInt), e = this._monoChains.iterator(); e.hasNext(); )
                        for (var n = e.next(), i = this._index.query(n.getEnvelope()).iterator(); i.hasNext(); ) {
                            var r = i.next();
                            if (r.getId() > n.getId() && (n.computeOverlaps(r, t),
                            this._nOverlaps++),
                            this._segInt.isDone())
                                return null
                        }
                }
                ,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                n.SegmentOverlapAction.get = function() {
                    return Qc
                }
                ,
                Object.defineProperties(e, n),
                e
            }(Kc)
              , Qc = function(t) {
                function e() {
                    t.call(this),
                    this._si = null;
                    var e = arguments[0];
                    this._si = e
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.overlap = function() {
                    if (4 !== arguments.length)
                        return t.prototype.overlap.apply(this, arguments);
                    var e = arguments[0]
                      , n = arguments[1]
                      , i = arguments[2]
                      , r = arguments[3]
                      , o = e.getContext()
                      , s = i.getContext();
                    this._si.processIntersections(o, n, s, r)
                }
                ,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                e
            }(Hc)
              , Jc = function t() {
                if (this._quadrantSegments = t.DEFAULT_QUADRANT_SEGMENTS,
                this._endCapStyle = t.CAP_ROUND,
                this._joinStyle = t.JOIN_ROUND,
                this._mitreLimit = t.DEFAULT_MITRE_LIMIT,
                this._isSingleSided = !1,
                this._simplifyFactor = t.DEFAULT_SIMPLIFY_FACTOR,
                0 === arguments.length)
                    ;
                else if (1 === arguments.length) {
                    var e = arguments[0];
                    this.setQuadrantSegments(e)
                } else if (2 === arguments.length) {
                    var n = arguments[0]
                      , i = arguments[1];
                    this.setQuadrantSegments(n),
                    this.setEndCapStyle(i)
                } else if (4 === arguments.length) {
                    var r = arguments[0]
                      , o = arguments[1]
                      , s = arguments[2]
                      , a = arguments[3];
                    this.setQuadrantSegments(r),
                    this.setEndCapStyle(o),
                    this.setJoinStyle(s),
                    this.setMitreLimit(a)
                }
            }
              , th = {
                CAP_ROUND: {
                    configurable: !0
                },
                CAP_FLAT: {
                    configurable: !0
                },
                CAP_SQUARE: {
                    configurable: !0
                },
                JOIN_ROUND: {
                    configurable: !0
                },
                JOIN_MITRE: {
                    configurable: !0
                },
                JOIN_BEVEL: {
                    configurable: !0
                },
                DEFAULT_QUADRANT_SEGMENTS: {
                    configurable: !0
                },
                DEFAULT_MITRE_LIMIT: {
                    configurable: !0
                },
                DEFAULT_SIMPLIFY_FACTOR: {
                    configurable: !0
                }
            };
            Jc.prototype.getEndCapStyle = function() {
                return this._endCapStyle
            }
            ,
            Jc.prototype.isSingleSided = function() {
                return this._isSingleSided
            }
            ,
            Jc.prototype.setQuadrantSegments = function(t) {
                this._quadrantSegments = t,
                0 === this._quadrantSegments && (this._joinStyle = Jc.JOIN_BEVEL),
                this._quadrantSegments < 0 && (this._joinStyle = Jc.JOIN_MITRE,
                this._mitreLimit = Math.abs(this._quadrantSegments)),
                t <= 0 && (this._quadrantSegments = 1),
                this._joinStyle !== Jc.JOIN_ROUND && (this._quadrantSegments = Jc.DEFAULT_QUADRANT_SEGMENTS)
            }
            ,
            Jc.prototype.getJoinStyle = function() {
                return this._joinStyle
            }
            ,
            Jc.prototype.setJoinStyle = function(t) {
                this._joinStyle = t
            }
            ,
            Jc.prototype.setSimplifyFactor = function(t) {
                this._simplifyFactor = t < 0 ? 0 : t
            }
            ,
            Jc.prototype.getSimplifyFactor = function() {
                return this._simplifyFactor
            }
            ,
            Jc.prototype.getQuadrantSegments = function() {
                return this._quadrantSegments
            }
            ,
            Jc.prototype.setEndCapStyle = function(t) {
                this._endCapStyle = t
            }
            ,
            Jc.prototype.getMitreLimit = function() {
                return this._mitreLimit
            }
            ,
            Jc.prototype.setMitreLimit = function(t) {
                this._mitreLimit = t
            }
            ,
            Jc.prototype.setSingleSided = function(t) {
                this._isSingleSided = t
            }
            ,
            Jc.prototype.interfaces_ = function() {
                return []
            }
            ,
            Jc.prototype.getClass = function() {
                return Jc
            }
            ,
            Jc.bufferDistanceError = function(t) {
                var e = Math.PI / 2 / t;
                return 1 - Math.cos(e / 2)
            }
            ,
            th.CAP_ROUND.get = function() {
                return 1
            }
            ,
            th.CAP_FLAT.get = function() {
                return 2
            }
            ,
            th.CAP_SQUARE.get = function() {
                return 3
            }
            ,
            th.JOIN_ROUND.get = function() {
                return 1
            }
            ,
            th.JOIN_MITRE.get = function() {
                return 2
            }
            ,
            th.JOIN_BEVEL.get = function() {
                return 3
            }
            ,
            th.DEFAULT_QUADRANT_SEGMENTS.get = function() {
                return 8
            }
            ,
            th.DEFAULT_MITRE_LIMIT.get = function() {
                return 5
            }
            ,
            th.DEFAULT_SIMPLIFY_FACTOR.get = function() {
                return .01
            }
            ,
            Object.defineProperties(Jc, th);
            var eh = function(t) {
                this._distanceTol = null,
                this._isDeleted = null,
                this._angleOrientation = ku.COUNTERCLOCKWISE,
                this._inputLine = t || null
            }
              , nh = {
                INIT: {
                    configurable: !0
                },
                DELETE: {
                    configurable: !0
                },
                KEEP: {
                    configurable: !0
                },
                NUM_PTS_TO_CHECK: {
                    configurable: !0
                }
            };
            eh.prototype.isDeletable = function(t, e, n, i) {
                var r = this._inputLine[t]
                  , o = this._inputLine[e]
                  , s = this._inputLine[n];
                return !!this.isConcave(r, o, s) && !!this.isShallow(r, o, s, i) && this.isShallowSampled(r, o, t, n, i)
            }
            ,
            eh.prototype.deleteShallowConcavities = function() {
                for (var t = 1, e = this.findNextNonDeletedIndex(t), n = this.findNextNonDeletedIndex(e), i = !1; n < this._inputLine.length; ) {
                    var r = !1;
                    this.isDeletable(t, e, n, this._distanceTol) && (this._isDeleted[e] = eh.DELETE,
                    r = !0,
                    i = !0),
                    t = r ? n : e,
                    e = this.findNextNonDeletedIndex(t),
                    n = this.findNextNonDeletedIndex(e)
                }
                return i
            }
            ,
            eh.prototype.isShallowConcavity = function(t, e, n, i) {
                return ku.computeOrientation(t, e, n) === this._angleOrientation && ku.distancePointLine(e, t, n) < i
            }
            ,
            eh.prototype.isShallowSampled = function(t, e, n, i, r) {
                var o = Math.trunc((i - n) / eh.NUM_PTS_TO_CHECK);
                o <= 0 && (o = 1);
                for (var s = n; s < i; s += o)
                    if (!this.isShallow(t, e, this._inputLine[s], r))
                        return !1;
                return !0
            }
            ,
            eh.prototype.isConcave = function(t, e, n) {
                return ku.computeOrientation(t, e, n) === this._angleOrientation
            }
            ,
            eh.prototype.simplify = function(t) {
                this._distanceTol = Math.abs(t),
                t < 0 && (this._angleOrientation = ku.CLOCKWISE),
                this._isDeleted = new Array(this._inputLine.length).fill(null);
                var e = !1;
                do {
                    e = this.deleteShallowConcavities()
                } while (e);
                return this.collapseLine()
            }
            ,
            eh.prototype.findNextNonDeletedIndex = function(t) {
                for (var e = t + 1; e < this._inputLine.length && this._isDeleted[e] === eh.DELETE; )
                    e++;
                return e
            }
            ,
            eh.prototype.isShallow = function(t, e, n, i) {
                return ku.distancePointLine(e, t, n) < i
            }
            ,
            eh.prototype.collapseLine = function() {
                for (var t = new el, e = 0; e < this._inputLine.length; e++)
                    this._isDeleted[e] !== eh.DELETE && t.add(this._inputLine[e]);
                return t.toCoordinateArray()
            }
            ,
            eh.prototype.interfaces_ = function() {
                return []
            }
            ,
            eh.prototype.getClass = function() {
                return eh
            }
            ,
            eh.simplify = function(t, e) {
                return new eh(t).simplify(e)
            }
            ,
            nh.INIT.get = function() {
                return 0
            }
            ,
            nh.DELETE.get = function() {
                return 1
            }
            ,
            nh.KEEP.get = function() {
                return 1
            }
            ,
            nh.NUM_PTS_TO_CHECK.get = function() {
                return 10
            }
            ,
            Object.defineProperties(eh, nh);
            var ih = function() {
                this._ptList = null,
                this._precisionModel = null,
                this._minimimVertexDistance = 0,
                this._ptList = new Ju
            }
              , rh = {
                COORDINATE_ARRAY_TYPE: {
                    configurable: !0
                }
            };
            ih.prototype.getCoordinates = function() {
                return this._ptList.toArray(ih.COORDINATE_ARRAY_TYPE)
            }
            ,
            ih.prototype.setPrecisionModel = function(t) {
                this._precisionModel = t
            }
            ,
            ih.prototype.addPt = function(t) {
                var e = new Ja(t);
                if (this._precisionModel.makePrecise(e),
                this.isRedundant(e))
                    return null;
                this._ptList.add(e)
            }
            ,
            ih.prototype.revere = function() {}
            ,
            ih.prototype.addPts = function(t, e) {
                if (e)
                    for (var n = 0; n < t.length; n++)
                        this.addPt(t[n]);
                else
                    for (var i = t.length - 1; i >= 0; i--)
                        this.addPt(t[i])
            }
            ,
            ih.prototype.isRedundant = function(t) {
                if (this._ptList.size() < 1)
                    return !1;
                var e = this._ptList.get(this._ptList.size() - 1);
                return t.distance(e) < this._minimimVertexDistance
            }
            ,
            ih.prototype.toString = function() {
                return (new Xl).createLineString(this.getCoordinates()).toString()
            }
            ,
            ih.prototype.closeRing = function() {
                if (this._ptList.size() < 1)
                    return null;
                var t = new Ja(this._ptList.get(0))
                  , e = this._ptList.get(this._ptList.size() - 1);
                if (t.equals(e))
                    return null;
                this._ptList.add(t)
            }
            ,
            ih.prototype.setMinimumVertexDistance = function(t) {
                this._minimimVertexDistance = t
            }
            ,
            ih.prototype.interfaces_ = function() {
                return []
            }
            ,
            ih.prototype.getClass = function() {
                return ih
            }
            ,
            rh.COORDINATE_ARRAY_TYPE.get = function() {
                return new Array(0).fill(null)
            }
            ,
            Object.defineProperties(ih, rh);
            var oh = function() {}
              , sh = {
                PI_TIMES_2: {
                    configurable: !0
                },
                PI_OVER_2: {
                    configurable: !0
                },
                PI_OVER_4: {
                    configurable: !0
                },
                COUNTERCLOCKWISE: {
                    configurable: !0
                },
                CLOCKWISE: {
                    configurable: !0
                },
                NONE: {
                    configurable: !0
                }
            };
            oh.prototype.interfaces_ = function() {
                return []
            }
            ,
            oh.prototype.getClass = function() {
                return oh
            }
            ,
            oh.toDegrees = function(t) {
                return 180 * t / Math.PI
            }
            ,
            oh.normalize = function(t) {
                for (; t > Math.PI; )
                    t -= oh.PI_TIMES_2;
                for (; t <= -Math.PI; )
                    t += oh.PI_TIMES_2;
                return t
            }
            ,
            oh.angle = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    return Math.atan2(t.y, t.x)
                }
                if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1]
                      , i = n.x - e.x
                      , r = n.y - e.y;
                    return Math.atan2(r, i)
                }
            }
            ,
            oh.isAcute = function(t, e, n) {
                var i = t.x - e.x
                  , r = t.y - e.y;
                return i * (n.x - e.x) + r * (n.y - e.y) > 0
            }
            ,
            oh.isObtuse = function(t, e, n) {
                var i = t.x - e.x
                  , r = t.y - e.y;
                return i * (n.x - e.x) + r * (n.y - e.y) < 0
            }
            ,
            oh.interiorAngle = function(t, e, n) {
                var i = oh.angle(e, t)
                  , r = oh.angle(e, n);
                return Math.abs(r - i)
            }
            ,
            oh.normalizePositive = function(t) {
                if (t < 0) {
                    for (; t < 0; )
                        t += oh.PI_TIMES_2;
                    t >= oh.PI_TIMES_2 && (t = 0)
                } else {
                    for (; t >= oh.PI_TIMES_2; )
                        t -= oh.PI_TIMES_2;
                    t < 0 && (t = 0)
                }
                return t
            }
            ,
            oh.angleBetween = function(t, e, n) {
                var i = oh.angle(e, t)
                  , r = oh.angle(e, n);
                return oh.diff(i, r)
            }
            ,
            oh.diff = function(t, e) {
                var n = null;
                return (n = t < e ? e - t : t - e) > Math.PI && (n = 2 * Math.PI - n),
                n
            }
            ,
            oh.toRadians = function(t) {
                return t * Math.PI / 180
            }
            ,
            oh.getTurn = function(t, e) {
                var n = Math.sin(e - t);
                return n > 0 ? oh.COUNTERCLOCKWISE : n < 0 ? oh.CLOCKWISE : oh.NONE
            }
            ,
            oh.angleBetweenOriented = function(t, e, n) {
                var i = oh.angle(e, t)
                  , r = oh.angle(e, n) - i;
                return r <= -Math.PI ? r + oh.PI_TIMES_2 : r > Math.PI ? r - oh.PI_TIMES_2 : r
            }
            ,
            sh.PI_TIMES_2.get = function() {
                return 2 * Math.PI
            }
            ,
            sh.PI_OVER_2.get = function() {
                return Math.PI / 2
            }
            ,
            sh.PI_OVER_4.get = function() {
                return Math.PI / 4
            }
            ,
            sh.COUNTERCLOCKWISE.get = function() {
                return ku.COUNTERCLOCKWISE
            }
            ,
            sh.CLOCKWISE.get = function() {
                return ku.CLOCKWISE
            }
            ,
            sh.NONE.get = function() {
                return ku.COLLINEAR
            }
            ,
            Object.defineProperties(oh, sh);
            var ah = function t() {
                this._maxCurveSegmentError = 0,
                this._filletAngleQuantum = null,
                this._closingSegLengthFactor = 1,
                this._segList = null,
                this._distance = 0,
                this._precisionModel = null,
                this._bufParams = null,
                this._li = null,
                this._s0 = null,
                this._s1 = null,
                this._s2 = null,
                this._seg0 = new zc,
                this._seg1 = new zc,
                this._offset0 = new zc,
                this._offset1 = new zc,
                this._side = 0,
                this._hasNarrowConcaveAngle = !1;
                var e = arguments[0]
                  , n = arguments[1]
                  , i = arguments[2];
                this._precisionModel = e,
                this._bufParams = n,
                this._li = new Au,
                this._filletAngleQuantum = Math.PI / 2 / n.getQuadrantSegments(),
                n.getQuadrantSegments() >= 8 && n.getJoinStyle() === Jc.JOIN_ROUND && (this._closingSegLengthFactor = t.MAX_CLOSING_SEG_LEN_FACTOR),
                this.init(i)
            }
              , uh = {
                OFFSET_SEGMENT_SEPARATION_FACTOR: {
                    configurable: !0
                },
                INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR: {
                    configurable: !0
                },
                CURVE_VERTEX_SNAP_DISTANCE_FACTOR: {
                    configurable: !0
                },
                MAX_CLOSING_SEG_LEN_FACTOR: {
                    configurable: !0
                }
            };
            ah.prototype.addNextSegment = function(t, e) {
                if (this._s0 = this._s1,
                this._s1 = this._s2,
                this._s2 = t,
                this._seg0.setCoordinates(this._s0, this._s1),
                this.computeOffsetSegment(this._seg0, this._side, this._distance, this._offset0),
                this._seg1.setCoordinates(this._s1, this._s2),
                this.computeOffsetSegment(this._seg1, this._side, this._distance, this._offset1),
                this._s1.equals(this._s2))
                    return null;
                var n = ku.computeOrientation(this._s0, this._s1, this._s2)
                  , i = n === ku.CLOCKWISE && this._side === ec.LEFT || n === ku.COUNTERCLOCKWISE && this._side === ec.RIGHT;
                0 === n ? this.addCollinear(e) : i ? this.addOutsideTurn(n, e) : this.addInsideTurn(n, e)
            }
            ,
            ah.prototype.addLineEndCap = function(t, e) {
                var n = new zc(t,e)
                  , i = new zc;
                this.computeOffsetSegment(n, ec.LEFT, this._distance, i);
                var r = new zc;
                this.computeOffsetSegment(n, ec.RIGHT, this._distance, r);
                var o = e.x - t.x
                  , s = e.y - t.y
                  , a = Math.atan2(s, o);
                switch (this._bufParams.getEndCapStyle()) {
                case Jc.CAP_ROUND:
                    this._segList.addPt(i.p1),
                    this.addFilletArc(e, a + Math.PI / 2, a - Math.PI / 2, ku.CLOCKWISE, this._distance),
                    this._segList.addPt(r.p1);
                    break;
                case Jc.CAP_FLAT:
                    this._segList.addPt(i.p1),
                    this._segList.addPt(r.p1);
                    break;
                case Jc.CAP_SQUARE:
                    var u = new Ja;
                    u.x = Math.abs(this._distance) * Math.cos(a),
                    u.y = Math.abs(this._distance) * Math.sin(a);
                    var l = new Ja(i.p1.x + u.x,i.p1.y + u.y)
                      , c = new Ja(r.p1.x + u.x,r.p1.y + u.y);
                    this._segList.addPt(l),
                    this._segList.addPt(c)
                }
            }
            ,
            ah.prototype.getCoordinates = function() {
                return this._segList.getCoordinates()
            }
            ,
            ah.prototype.addMitreJoin = function(t, e, n, i) {
                var r = !0
                  , o = null;
                try {
                    o = Eu.intersection(e.p0, e.p1, n.p0, n.p1),
                    (i <= 0 ? 1 : o.distance(t) / Math.abs(i)) > this._bufParams.getMitreLimit() && (r = !1)
                } catch (t) {
                    if (!(t instanceof mu))
                        throw t;
                    o = new Ja(0,0),
                    r = !1
                }
                r ? this._segList.addPt(o) : this.addLimitedMitreJoin(e, n, i, this._bufParams.getMitreLimit())
            }
            ,
            ah.prototype.addFilletCorner = function(t, e, n, i, r) {
                var o = e.x - t.x
                  , s = e.y - t.y
                  , a = Math.atan2(s, o)
                  , u = n.x - t.x
                  , l = n.y - t.y
                  , c = Math.atan2(l, u);
                i === ku.CLOCKWISE ? a <= c && (a += 2 * Math.PI) : a >= c && (a -= 2 * Math.PI),
                this._segList.addPt(e),
                this.addFilletArc(t, a, c, i, r),
                this._segList.addPt(n)
            }
            ,
            ah.prototype.addOutsideTurn = function(t, e) {
                if (this._offset0.p1.distance(this._offset1.p0) < this._distance * ah.OFFSET_SEGMENT_SEPARATION_FACTOR)
                    return this._segList.addPt(this._offset0.p1),
                    null;
                this._bufParams.getJoinStyle() === Jc.JOIN_MITRE ? this.addMitreJoin(this._s1, this._offset0, this._offset1, this._distance) : this._bufParams.getJoinStyle() === Jc.JOIN_BEVEL ? this.addBevelJoin(this._offset0, this._offset1) : (e && this._segList.addPt(this._offset0.p1),
                this.addFilletCorner(this._s1, this._offset0.p1, this._offset1.p0, t, this._distance),
                this._segList.addPt(this._offset1.p0))
            }
            ,
            ah.prototype.createSquare = function(t) {
                this._segList.addPt(new Ja(t.x + this._distance,t.y + this._distance)),
                this._segList.addPt(new Ja(t.x + this._distance,t.y - this._distance)),
                this._segList.addPt(new Ja(t.x - this._distance,t.y - this._distance)),
                this._segList.addPt(new Ja(t.x - this._distance,t.y + this._distance)),
                this._segList.closeRing()
            }
            ,
            ah.prototype.addSegments = function(t, e) {
                this._segList.addPts(t, e)
            }
            ,
            ah.prototype.addFirstSegment = function() {
                this._segList.addPt(this._offset1.p0)
            }
            ,
            ah.prototype.addLastSegment = function() {
                this._segList.addPt(this._offset1.p1)
            }
            ,
            ah.prototype.initSideSegments = function(t, e, n) {
                this._s1 = t,
                this._s2 = e,
                this._side = n,
                this._seg1.setCoordinates(t, e),
                this.computeOffsetSegment(this._seg1, n, this._distance, this._offset1)
            }
            ,
            ah.prototype.addLimitedMitreJoin = function(t, e, n, i) {
                var r = this._seg0.p1
                  , o = oh.angle(r, this._seg0.p0)
                  , s = oh.angleBetweenOriented(this._seg0.p0, r, this._seg1.p1) / 2
                  , a = oh.normalize(o + s)
                  , u = oh.normalize(a + Math.PI)
                  , l = i * n
                  , c = n - l * Math.abs(Math.sin(s))
                  , h = r.x + l * Math.cos(u)
                  , p = r.y + l * Math.sin(u)
                  , f = new Ja(h,p)
                  , d = new zc(r,f)
                  , g = d.pointAlongOffset(1, c)
                  , y = d.pointAlongOffset(1, -c);
                this._side === ec.LEFT ? (this._segList.addPt(g),
                this._segList.addPt(y)) : (this._segList.addPt(y),
                this._segList.addPt(g))
            }
            ,
            ah.prototype.computeOffsetSegment = function(t, e, n, i) {
                var r = e === ec.LEFT ? 1 : -1
                  , o = t.p1.x - t.p0.x
                  , s = t.p1.y - t.p0.y
                  , a = Math.sqrt(o * o + s * s)
                  , u = r * n * o / a
                  , l = r * n * s / a;
                i.p0.x = t.p0.x - l,
                i.p0.y = t.p0.y + u,
                i.p1.x = t.p1.x - l,
                i.p1.y = t.p1.y + u
            }
            ,
            ah.prototype.addFilletArc = function(t, e, n, i, r) {
                var o = i === ku.CLOCKWISE ? -1 : 1
                  , s = Math.abs(e - n)
                  , a = Math.trunc(s / this._filletAngleQuantum + .5);
                if (a < 1)
                    return null;
                for (var u = s / a, l = 0, c = new Ja; l < s; ) {
                    var h = e + o * l;
                    c.x = t.x + r * Math.cos(h),
                    c.y = t.y + r * Math.sin(h),
                    this._segList.addPt(c),
                    l += u
                }
            }
            ,
            ah.prototype.addInsideTurn = function(t, e) {
                if (this._li.computeIntersection(this._offset0.p0, this._offset0.p1, this._offset1.p0, this._offset1.p1),
                this._li.hasIntersection())
                    this._segList.addPt(this._li.getIntersection(0));
                else if (this._hasNarrowConcaveAngle = !0,
                this._offset0.p1.distance(this._offset1.p0) < this._distance * ah.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)
                    this._segList.addPt(this._offset0.p1);
                else {
                    if (this._segList.addPt(this._offset0.p1),
                    this._closingSegLengthFactor > 0) {
                        var n = new Ja((this._closingSegLengthFactor * this._offset0.p1.x + this._s1.x) / (this._closingSegLengthFactor + 1),(this._closingSegLengthFactor * this._offset0.p1.y + this._s1.y) / (this._closingSegLengthFactor + 1));
                        this._segList.addPt(n);
                        var i = new Ja((this._closingSegLengthFactor * this._offset1.p0.x + this._s1.x) / (this._closingSegLengthFactor + 1),(this._closingSegLengthFactor * this._offset1.p0.y + this._s1.y) / (this._closingSegLengthFactor + 1));
                        this._segList.addPt(i)
                    } else
                        this._segList.addPt(this._s1);
                    this._segList.addPt(this._offset1.p0)
                }
            }
            ,
            ah.prototype.createCircle = function(t) {
                var e = new Ja(t.x + this._distance,t.y);
                this._segList.addPt(e),
                this.addFilletArc(t, 0, 2 * Math.PI, -1, this._distance),
                this._segList.closeRing()
            }
            ,
            ah.prototype.addBevelJoin = function(t, e) {
                this._segList.addPt(t.p1),
                this._segList.addPt(e.p0)
            }
            ,
            ah.prototype.init = function(t) {
                this._distance = t,
                this._maxCurveSegmentError = t * (1 - Math.cos(this._filletAngleQuantum / 2)),
                this._segList = new ih,
                this._segList.setPrecisionModel(this._precisionModel),
                this._segList.setMinimumVertexDistance(t * ah.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)
            }
            ,
            ah.prototype.addCollinear = function(t) {
                this._li.computeIntersection(this._s0, this._s1, this._s1, this._s2),
                this._li.getIntersectionNum() >= 2 && (this._bufParams.getJoinStyle() === Jc.JOIN_BEVEL || this._bufParams.getJoinStyle() === Jc.JOIN_MITRE ? (t && this._segList.addPt(this._offset0.p1),
                this._segList.addPt(this._offset1.p0)) : this.addFilletCorner(this._s1, this._offset0.p1, this._offset1.p0, ku.CLOCKWISE, this._distance))
            }
            ,
            ah.prototype.closeRing = function() {
                this._segList.closeRing()
            }
            ,
            ah.prototype.hasNarrowConcaveAngle = function() {
                return this._hasNarrowConcaveAngle
            }
            ,
            ah.prototype.interfaces_ = function() {
                return []
            }
            ,
            ah.prototype.getClass = function() {
                return ah
            }
            ,
            uh.OFFSET_SEGMENT_SEPARATION_FACTOR.get = function() {
                return .001
            }
            ,
            uh.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get = function() {
                return .001
            }
            ,
            uh.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get = function() {
                return 1e-6
            }
            ,
            uh.MAX_CLOSING_SEG_LEN_FACTOR.get = function() {
                return 80
            }
            ,
            Object.defineProperties(ah, uh);
            var lh = function() {
                this._distance = 0,
                this._precisionModel = null,
                this._bufParams = null;
                var t = arguments[0]
                  , e = arguments[1];
                this._precisionModel = t,
                this._bufParams = e
            };
            lh.prototype.getOffsetCurve = function(t, e) {
                if (this._distance = e,
                0 === e)
                    return null;
                var n = e < 0
                  , i = Math.abs(e)
                  , r = this.getSegGen(i);
                t.length <= 1 ? this.computePointCurve(t[0], r) : this.computeOffsetCurve(t, n, r);
                var o = r.getCoordinates();
                return n && nl.reverse(o),
                o
            }
            ,
            lh.prototype.computeSingleSidedBufferCurve = function(t, e, n) {
                var i = this.simplifyTolerance(this._distance);
                if (e) {
                    n.addSegments(t, !0);
                    var r = eh.simplify(t, -i)
                      , o = r.length - 1;
                    n.initSideSegments(r[o], r[o - 1], ec.LEFT),
                    n.addFirstSegment();
                    for (var s = o - 2; s >= 0; s--)
                        n.addNextSegment(r[s], !0)
                } else {
                    n.addSegments(t, !1);
                    var a = eh.simplify(t, i)
                      , u = a.length - 1;
                    n.initSideSegments(a[0], a[1], ec.LEFT),
                    n.addFirstSegment();
                    for (var l = 2; l <= u; l++)
                        n.addNextSegment(a[l], !0)
                }
                n.addLastSegment(),
                n.closeRing()
            }
            ,
            lh.prototype.computeRingBufferCurve = function(t, e, n) {
                var i = this.simplifyTolerance(this._distance);
                e === ec.RIGHT && (i = -i);
                var r = eh.simplify(t, i)
                  , o = r.length - 1;
                n.initSideSegments(r[o - 1], r[0], e);
                for (var s = 1; s <= o; s++) {
                    var a = 1 !== s;
                    n.addNextSegment(r[s], a)
                }
                n.closeRing()
            }
            ,
            lh.prototype.computeLineBufferCurve = function(t, e) {
                var n = this.simplifyTolerance(this._distance)
                  , i = eh.simplify(t, n)
                  , r = i.length - 1;
                e.initSideSegments(i[0], i[1], ec.LEFT);
                for (var o = 2; o <= r; o++)
                    e.addNextSegment(i[o], !0);
                e.addLastSegment(),
                e.addLineEndCap(i[r - 1], i[r]);
                var s = eh.simplify(t, -n)
                  , a = s.length - 1;
                e.initSideSegments(s[a], s[a - 1], ec.LEFT);
                for (var u = a - 2; u >= 0; u--)
                    e.addNextSegment(s[u], !0);
                e.addLastSegment(),
                e.addLineEndCap(s[1], s[0]),
                e.closeRing()
            }
            ,
            lh.prototype.computePointCurve = function(t, e) {
                switch (this._bufParams.getEndCapStyle()) {
                case Jc.CAP_ROUND:
                    e.createCircle(t);
                    break;
                case Jc.CAP_SQUARE:
                    e.createSquare(t)
                }
            }
            ,
            lh.prototype.getLineCurve = function(t, e) {
                if (this._distance = e,
                e < 0 && !this._bufParams.isSingleSided())
                    return null;
                if (0 === e)
                    return null;
                var n = Math.abs(e)
                  , i = this.getSegGen(n);
                if (t.length <= 1)
                    this.computePointCurve(t[0], i);
                else if (this._bufParams.isSingleSided()) {
                    var r = e < 0;
                    this.computeSingleSidedBufferCurve(t, r, i)
                } else
                    this.computeLineBufferCurve(t, i);
                return i.getCoordinates()
            }
            ,
            lh.prototype.getBufferParameters = function() {
                return this._bufParams
            }
            ,
            lh.prototype.simplifyTolerance = function(t) {
                return t * this._bufParams.getSimplifyFactor()
            }
            ,
            lh.prototype.getRingCurve = function(t, e, n) {
                if (this._distance = n,
                t.length <= 2)
                    return this.getLineCurve(t, n);
                if (0 === n)
                    return lh.copyCoordinates(t);
                var i = this.getSegGen(n);
                return this.computeRingBufferCurve(t, e, i),
                i.getCoordinates()
            }
            ,
            lh.prototype.computeOffsetCurve = function(t, e, n) {
                var i = this.simplifyTolerance(this._distance);
                if (e) {
                    var r = eh.simplify(t, -i)
                      , o = r.length - 1;
                    n.initSideSegments(r[o], r[o - 1], ec.LEFT),
                    n.addFirstSegment();
                    for (var s = o - 2; s >= 0; s--)
                        n.addNextSegment(r[s], !0)
                } else {
                    var a = eh.simplify(t, i)
                      , u = a.length - 1;
                    n.initSideSegments(a[0], a[1], ec.LEFT),
                    n.addFirstSegment();
                    for (var l = 2; l <= u; l++)
                        n.addNextSegment(a[l], !0)
                }
                n.addLastSegment()
            }
            ,
            lh.prototype.getSegGen = function(t) {
                return new ah(this._precisionModel,this._bufParams,t)
            }
            ,
            lh.prototype.interfaces_ = function() {
                return []
            }
            ,
            lh.prototype.getClass = function() {
                return lh
            }
            ,
            lh.copyCoordinates = function(t) {
                for (var e = new Array(t.length).fill(null), n = 0; n < e.length; n++)
                    e[n] = new Ja(t[n]);
                return e
            }
            ;
            var ch = function() {
                this._subgraphs = null,
                this._seg = new zc,
                this._cga = new ku;
                var t = arguments[0];
                this._subgraphs = t
            }
              , hh = {
                DepthSegment: {
                    configurable: !0
                }
            };
            ch.prototype.findStabbedSegments = function() {
                if (1 === arguments.length) {
                    for (var t = arguments[0], e = new Ju, n = this._subgraphs.iterator(); n.hasNext(); ) {
                        var i = n.next()
                          , r = i.getEnvelope();
                        t.y < r.getMinY() || t.y > r.getMaxY() || this.findStabbedSegments(t, i.getDirectedEdges(), e)
                    }
                    return e
                }
                if (3 === arguments.length)
                    if (ou(arguments[2], Qu) && arguments[0]instanceof Ja && arguments[1]instanceof mc) {
                        for (var o = arguments[0], s = arguments[1], a = arguments[2], u = s.getEdge().getCoordinates(), l = 0; l < u.length - 1; l++)
                            if (this._seg.p0 = u[l],
                            this._seg.p1 = u[l + 1],
                            this._seg.p0.y > this._seg.p1.y && this._seg.reverse(),
                            !(Math.max(this._seg.p0.x, this._seg.p1.x) < o.x || this._seg.isHorizontal() || o.y < this._seg.p0.y || o.y > this._seg.p1.y || ku.computeOrientation(this._seg.p0, this._seg.p1, o) === ku.RIGHT)) {
                                var c = s.getDepth(ec.LEFT);
                                this._seg.p0.equals(u[l]) || (c = s.getDepth(ec.RIGHT));
                                var h = new ph(this._seg,c);
                                a.add(h)
                            }
                    } else if (ou(arguments[2], Qu) && arguments[0]instanceof Ja && ou(arguments[1], Qu))
                        for (var p = arguments[0], f = arguments[1], d = arguments[2], g = f.iterator(); g.hasNext(); ) {
                            var y = g.next();
                            y.isForward() && this.findStabbedSegments(p, y, d)
                        }
            }
            ,
            ch.prototype.getDepth = function(t) {
                var e = this.findStabbedSegments(t);
                return 0 === e.size() ? 0 : Nc.min(e)._leftDepth
            }
            ,
            ch.prototype.interfaces_ = function() {
                return []
            }
            ,
            ch.prototype.getClass = function() {
                return ch
            }
            ,
            hh.DepthSegment.get = function() {
                return ph
            }
            ,
            Object.defineProperties(ch, hh);
            var ph = function() {
                this._upwardSeg = null,
                this._leftDepth = null;
                var t = arguments[0]
                  , e = arguments[1];
                this._upwardSeg = new zc(t),
                this._leftDepth = e
            };
            ph.prototype.compareTo = function(t) {
                var e = t;
                if (this._upwardSeg.minX() >= e._upwardSeg.maxX())
                    return 1;
                if (this._upwardSeg.maxX() <= e._upwardSeg.minX())
                    return -1;
                var n = this._upwardSeg.orientationIndex(e._upwardSeg);
                return 0 !== n ? n : 0 != (n = -1 * e._upwardSeg.orientationIndex(this._upwardSeg)) ? n : this._upwardSeg.compareTo(e._upwardSeg)
            }
            ,
            ph.prototype.compareX = function(t, e) {
                var n = t.p0.compareTo(e.p0);
                return 0 !== n ? n : t.p1.compareTo(e.p1)
            }
            ,
            ph.prototype.toString = function() {
                return this._upwardSeg.toString()
            }
            ,
            ph.prototype.interfaces_ = function() {
                return [Ka]
            }
            ,
            ph.prototype.getClass = function() {
                return ph
            }
            ;
            var fh = function(t, e, n) {
                this.p0 = t || null,
                this.p1 = e || null,
                this.p2 = n || null
            };
            fh.prototype.area = function() {
                return fh.area(this.p0, this.p1, this.p2)
            }
            ,
            fh.prototype.signedArea = function() {
                return fh.signedArea(this.p0, this.p1, this.p2)
            }
            ,
            fh.prototype.interpolateZ = function(t) {
                if (null === t)
                    throw new Xa("Supplied point is null.");
                return fh.interpolateZ(t, this.p0, this.p1, this.p2)
            }
            ,
            fh.prototype.longestSideLength = function() {
                return fh.longestSideLength(this.p0, this.p1, this.p2)
            }
            ,
            fh.prototype.isAcute = function() {
                return fh.isAcute(this.p0, this.p1, this.p2)
            }
            ,
            fh.prototype.circumcentre = function() {
                return fh.circumcentre(this.p0, this.p1, this.p2)
            }
            ,
            fh.prototype.area3D = function() {
                return fh.area3D(this.p0, this.p1, this.p2)
            }
            ,
            fh.prototype.centroid = function() {
                return fh.centroid(this.p0, this.p1, this.p2)
            }
            ,
            fh.prototype.inCentre = function() {
                return fh.inCentre(this.p0, this.p1, this.p2)
            }
            ,
            fh.prototype.interfaces_ = function() {
                return []
            }
            ,
            fh.prototype.getClass = function() {
                return fh
            }
            ,
            fh.area = function(t, e, n) {
                return Math.abs(((n.x - t.x) * (e.y - t.y) - (e.x - t.x) * (n.y - t.y)) / 2)
            }
            ,
            fh.signedArea = function(t, e, n) {
                return ((n.x - t.x) * (e.y - t.y) - (e.x - t.x) * (n.y - t.y)) / 2
            }
            ,
            fh.det = function(t, e, n, i) {
                return t * i - e * n
            }
            ,
            fh.interpolateZ = function(t, e, n, i) {
                var r = e.x
                  , o = e.y
                  , s = n.x - r
                  , a = i.x - r
                  , u = n.y - o
                  , l = i.y - o
                  , c = s * l - a * u
                  , h = t.x - r
                  , p = t.y - o
                  , f = (l * h - a * p) / c
                  , d = (-u * h + s * p) / c;
                return e.z + f * (n.z - e.z) + d * (i.z - e.z)
            }
            ,
            fh.longestSideLength = function(t, e, n) {
                var i = t.distance(e)
                  , r = e.distance(n)
                  , o = n.distance(t)
                  , s = i;
                return r > s && (s = r),
                o > s && (s = o),
                s
            }
            ,
            fh.isAcute = function(t, e, n) {
                return !!oh.isAcute(t, e, n) && !!oh.isAcute(e, n, t) && !!oh.isAcute(n, t, e)
            }
            ,
            fh.circumcentre = function(t, e, n) {
                var i = n.x
                  , r = n.y
                  , o = t.x - i
                  , s = t.y - r
                  , a = e.x - i
                  , u = e.y - r
                  , l = 2 * fh.det(o, s, a, u)
                  , c = fh.det(s, o * o + s * s, u, a * a + u * u)
                  , h = fh.det(o, o * o + s * s, a, a * a + u * u);
                return new Ja(i - c / l,r + h / l)
            }
            ,
            fh.perpendicularBisector = function(t, e) {
                var n = e.x - t.x
                  , i = e.y - t.y
                  , r = new Eu(t.x + n / 2,t.y + i / 2,1)
                  , o = new Eu(t.x - i + n / 2,t.y + n + i / 2,1);
                return new Eu(r,o)
            }
            ,
            fh.angleBisector = function(t, e, n) {
                var i = e.distance(t)
                  , r = i / (i + e.distance(n))
                  , o = n.x - t.x
                  , s = n.y - t.y;
                return new Ja(t.x + r * o,t.y + r * s)
            }
            ,
            fh.area3D = function(t, e, n) {
                var i = e.x - t.x
                  , r = e.y - t.y
                  , o = e.z - t.z
                  , s = n.x - t.x
                  , a = n.y - t.y
                  , u = n.z - t.z
                  , l = r * u - o * a
                  , c = o * s - i * u
                  , h = i * a - r * s
                  , p = l * l + c * c + h * h;
                return Math.sqrt(p) / 2
            }
            ,
            fh.centroid = function(t, e, n) {
                var i = (t.x + e.x + n.x) / 3
                  , r = (t.y + e.y + n.y) / 3;
                return new Ja(i,r)
            }
            ,
            fh.inCentre = function(t, e, n) {
                var i = e.distance(n)
                  , r = t.distance(n)
                  , o = t.distance(e)
                  , s = i + r + o
                  , a = (i * t.x + r * e.x + o * n.x) / s
                  , u = (i * t.y + r * e.y + o * n.y) / s;
                return new Ja(a,u)
            }
            ;
            var dh = function() {
                this._inputGeom = null,
                this._distance = null,
                this._curveBuilder = null,
                this._curveList = new Ju;
                var t = arguments[0]
                  , e = arguments[1]
                  , n = arguments[2];
                this._inputGeom = t,
                this._distance = e,
                this._curveBuilder = n
            };
            dh.prototype.addPoint = function(t) {
                if (this._distance <= 0)
                    return null;
                var e = t.getCoordinates()
                  , n = this._curveBuilder.getLineCurve(e, this._distance);
                this.addCurve(n, iu.EXTERIOR, iu.INTERIOR)
            }
            ,
            dh.prototype.addPolygon = function(t) {
                var e = this._distance
                  , n = ec.LEFT;
                this._distance < 0 && (e = -this._distance,
                n = ec.RIGHT);
                var i = t.getExteriorRing()
                  , r = nl.removeRepeatedPoints(i.getCoordinates());
                if (this._distance < 0 && this.isErodedCompletely(i, this._distance))
                    return null;
                if (this._distance <= 0 && r.length < 3)
                    return null;
                this.addPolygonRing(r, e, n, iu.EXTERIOR, iu.INTERIOR);
                for (var o = 0; o < t.getNumInteriorRing(); o++) {
                    var s = t.getInteriorRingN(o)
                      , a = nl.removeRepeatedPoints(s.getCoordinates());
                    this._distance > 0 && this.isErodedCompletely(s, -this._distance) || this.addPolygonRing(a, e, ec.opposite(n), iu.INTERIOR, iu.EXTERIOR)
                }
            }
            ,
            dh.prototype.isTriangleErodedCompletely = function(t, e) {
                var n = new fh(t[0],t[1],t[2])
                  , i = n.inCentre();
                return ku.distancePointLine(i, n.p0, n.p1) < Math.abs(e)
            }
            ,
            dh.prototype.addLineString = function(t) {
                if (this._distance <= 0 && !this._curveBuilder.getBufferParameters().isSingleSided())
                    return null;
                var e = nl.removeRepeatedPoints(t.getCoordinates())
                  , n = this._curveBuilder.getLineCurve(e, this._distance);
                this.addCurve(n, iu.EXTERIOR, iu.INTERIOR)
            }
            ,
            dh.prototype.addCurve = function(t, e, n) {
                if (null === t || t.length < 2)
                    return null;
                var i = new jc(t,new uc(0,iu.BOUNDARY,e,n));
                this._curveList.add(i)
            }
            ,
            dh.prototype.getCurves = function() {
                return this.add(this._inputGeom),
                this._curveList
            }
            ,
            dh.prototype.addPolygonRing = function(t, e, n, i, r) {
                if (0 === e && t.length < Tl.MINIMUM_VALID_SIZE)
                    return null;
                var o = i
                  , s = r;
                t.length >= Tl.MINIMUM_VALID_SIZE && ku.isCCW(t) && (o = r,
                s = i,
                n = ec.opposite(n));
                var a = this._curveBuilder.getRingCurve(t, n, e);
                this.addCurve(a, o, s)
            }
            ,
            dh.prototype.add = function(t) {
                if (t.isEmpty())
                    return null;
                t instanceof Nl ? this.addPolygon(t) : t instanceof Il ? this.addLineString(t) : t instanceof Ll ? this.addPoint(t) : t instanceof Ml ? this.addCollection(t) : t instanceof _l ? this.addCollection(t) : t instanceof Ol ? this.addCollection(t) : t instanceof ml && this.addCollection(t)
            }
            ,
            dh.prototype.isErodedCompletely = function(t, e) {
                var n = t.getCoordinates();
                if (n.length < 4)
                    return e < 0;
                if (4 === n.length)
                    return this.isTriangleErodedCompletely(n, e);
                var i = t.getEnvelopeInternal()
                  , r = Math.min(i.getHeight(), i.getWidth());
                return e < 0 && 2 * Math.abs(e) > r
            }
            ,
            dh.prototype.addCollection = function(t) {
                for (var e = 0; e < t.getNumGeometries(); e++) {
                    var n = t.getGeometryN(e);
                    this.add(n)
                }
            }
            ,
            dh.prototype.interfaces_ = function() {
                return []
            }
            ,
            dh.prototype.getClass = function() {
                return dh
            }
            ;
            var gh = function() {};
            gh.prototype.locate = function(t) {}
            ,
            gh.prototype.interfaces_ = function() {
                return []
            }
            ,
            gh.prototype.getClass = function() {
                return gh
            }
            ;
            var yh = function() {
                this._parent = null,
                this._atStart = null,
                this._max = null,
                this._index = null,
                this._subcollectionIterator = null;
                var t = arguments[0];
                this._parent = t,
                this._atStart = !0,
                this._index = 0,
                this._max = t.getNumGeometries()
            };
            yh.prototype.next = function() {
                if (this._atStart)
                    return this._atStart = !1,
                    yh.isAtomic(this._parent) && this._index++,
                    this._parent;
                if (null !== this._subcollectionIterator) {
                    if (this._subcollectionIterator.hasNext())
                        return this._subcollectionIterator.next();
                    this._subcollectionIterator = null
                }
                if (this._index >= this._max)
                    throw new vr;
                var t = this._parent.getGeometryN(this._index++);
                return t instanceof ml ? (this._subcollectionIterator = new yh(t),
                this._subcollectionIterator.next()) : t
            }
            ,
            yh.prototype.remove = function() {
                throw new Error(this.getClass().getName())
            }
            ,
            yh.prototype.hasNext = function() {
                if (this._atStart)
                    return !0;
                if (null !== this._subcollectionIterator) {
                    if (this._subcollectionIterator.hasNext())
                        return !0;
                    this._subcollectionIterator = null
                }
                return !(this._index >= this._max)
            }
            ,
            yh.prototype.interfaces_ = function() {
                return [Zu]
            }
            ,
            yh.prototype.getClass = function() {
                return yh
            }
            ,
            yh.isAtomic = function(t) {
                return !(t instanceof ml)
            }
            ;
            var vh = function() {
                this._geom = null;
                var t = arguments[0];
                this._geom = t
            };
            vh.prototype.locate = function(t) {
                return vh.locate(t, this._geom)
            }
            ,
            vh.prototype.interfaces_ = function() {
                return [gh]
            }
            ,
            vh.prototype.getClass = function() {
                return vh
            }
            ,
            vh.isPointInRing = function(t, e) {
                return !!e.getEnvelopeInternal().intersects(t) && ku.isPointInRing(t, e.getCoordinates())
            }
            ,
            vh.containsPointInPolygon = function(t, e) {
                if (e.isEmpty())
                    return !1;
                var n = e.getExteriorRing();
                if (!vh.isPointInRing(t, n))
                    return !1;
                for (var i = 0; i < e.getNumInteriorRing(); i++) {
                    var r = e.getInteriorRingN(i);
                    if (vh.isPointInRing(t, r))
                        return !1
                }
                return !0
            }
            ,
            vh.containsPoint = function(t, e) {
                if (e instanceof Nl)
                    return vh.containsPointInPolygon(t, e);
                if (e instanceof ml)
                    for (var n = new yh(e); n.hasNext(); ) {
                        var i = n.next();
                        if (i !== e && vh.containsPoint(t, i))
                            return !0
                    }
                return !1
            }
            ,
            vh.locate = function(t, e) {
                return e.isEmpty() ? iu.EXTERIOR : vh.containsPoint(t, e) ? iu.INTERIOR : iu.EXTERIOR
            }
            ;
            var mh = function() {
                this._edgeMap = new Ir,
                this._edgeList = null,
                this._ptInAreaLocation = [iu.NONE, iu.NONE]
            };
            mh.prototype.getNextCW = function(t) {
                this.getEdges();
                var e = this._edgeList.indexOf(t)
                  , n = e - 1;
                return 0 === e && (n = this._edgeList.size() - 1),
                this._edgeList.get(n)
            }
            ,
            mh.prototype.propagateSideLabels = function(t) {
                for (var e = iu.NONE, n = this.iterator(); n.hasNext(); ) {
                    var i = n.next().getLabel();
                    i.isArea(t) && i.getLocation(t, ec.LEFT) !== iu.NONE && (e = i.getLocation(t, ec.LEFT))
                }
                if (e === iu.NONE)
                    return null;
                for (var r = e, o = this.iterator(); o.hasNext(); ) {
                    var s = o.next()
                      , a = s.getLabel();
                    if (a.getLocation(t, ec.ON) === iu.NONE && a.setLocation(t, ec.ON, r),
                    a.isArea(t)) {
                        var u = a.getLocation(t, ec.LEFT)
                          , l = a.getLocation(t, ec.RIGHT);
                        if (l !== iu.NONE) {
                            if (l !== r)
                                throw new rc("side location conflict",s.getCoordinate());
                            u === iu.NONE && Mu.shouldNeverReachHere("found single null side (at " + s.getCoordinate() + ")"),
                            r = u
                        } else
                            Mu.isTrue(a.getLocation(t, ec.LEFT) === iu.NONE, "found single null side"),
                            a.setLocation(t, ec.RIGHT, r),
                            a.setLocation(t, ec.LEFT, r)
                    }
                }
            }
            ,
            mh.prototype.getCoordinate = function() {
                var t = this.iterator();
                return t.hasNext() ? t.next().getCoordinate() : null
            }
            ,
            mh.prototype.print = function(t) {
                _u.out.println("EdgeEndStar:   " + this.getCoordinate());
                for (var e = this.iterator(); e.hasNext(); )
                    e.next().print(t)
            }
            ,
            mh.prototype.isAreaLabelsConsistent = function(t) {
                return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),
                this.checkAreaLabelsConsistent(0)
            }
            ,
            mh.prototype.checkAreaLabelsConsistent = function(t) {
                var e = this.getEdges();
                if (e.size() <= 0)
                    return !0;
                var n = e.size() - 1
                  , i = e.get(n).getLabel().getLocation(t, ec.LEFT);
                Mu.isTrue(i !== iu.NONE, "Found unlabelled area edge");
                for (var r = i, o = this.iterator(); o.hasNext(); ) {
                    var s = o.next().getLabel();
                    Mu.isTrue(s.isArea(t), "Found non-area edge");
                    var a = s.getLocation(t, ec.LEFT)
                      , u = s.getLocation(t, ec.RIGHT);
                    if (a === u)
                        return !1;
                    if (u !== r)
                        return !1;
                    r = a
                }
                return !0
            }
            ,
            mh.prototype.findIndex = function(t) {
                this.iterator();
                for (var e = 0; e < this._edgeList.size(); e++)
                    if (this._edgeList.get(e) === t)
                        return e;
                return -1
            }
            ,
            mh.prototype.iterator = function() {
                return this.getEdges().iterator()
            }
            ,
            mh.prototype.getEdges = function() {
                return null === this._edgeList && (this._edgeList = new Ju(this._edgeMap.values())),
                this._edgeList
            }
            ,
            mh.prototype.getLocation = function(t, e, n) {
                return this._ptInAreaLocation[t] === iu.NONE && (this._ptInAreaLocation[t] = vh.locate(e, n[t].getGeometry())),
                this._ptInAreaLocation[t]
            }
            ,
            mh.prototype.toString = function() {
                var t = new uu;
                t.append("EdgeEndStar:   " + this.getCoordinate()),
                t.append("\n");
                for (var e = this.iterator(); e.hasNext(); ) {
                    var n = e.next();
                    t.append(n),
                    t.append("\n")
                }
                return t.toString()
            }
            ,
            mh.prototype.computeEdgeEndLabels = function(t) {
                for (var e = this.iterator(); e.hasNext(); )
                    e.next().computeLabel(t)
            }
            ,
            mh.prototype.computeLabelling = function(t) {
                this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),
                this.propagateSideLabels(0),
                this.propagateSideLabels(1);
                for (var e = [!1, !1], n = this.iterator(); n.hasNext(); )
                    for (var i = n.next().getLabel(), r = 0; r < 2; r++)
                        i.isLine(r) && i.getLocation(r) === iu.BOUNDARY && (e[r] = !0);
                for (var o = this.iterator(); o.hasNext(); )
                    for (var s = o.next(), a = s.getLabel(), u = 0; u < 2; u++)
                        if (a.isAnyNull(u)) {
                            var l = iu.NONE;
                            if (e[u])
                                l = iu.EXTERIOR;
                            else {
                                var c = s.getCoordinate();
                                l = this.getLocation(u, c, t)
                            }
                            a.setAllLocationsIfNull(u, l)
                        }
            }
            ,
            mh.prototype.getDegree = function() {
                return this._edgeMap.size()
            }
            ,
            mh.prototype.insertEdgeEnd = function(t, e) {
                this._edgeMap.put(t, e),
                this._edgeList = null
            }
            ,
            mh.prototype.interfaces_ = function() {
                return []
            }
            ,
            mh.prototype.getClass = function() {
                return mh
            }
            ;
            var _h = function(t) {
                function e() {
                    t.call(this),
                    this._resultAreaEdgeList = null,
                    this._label = null,
                    this._SCANNING_FOR_INCOMING = 1,
                    this._LINKING_TO_OUTGOING = 2
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.linkResultDirectedEdges = function() {
                    this.getResultAreaEdges();
                    for (var t = null, e = null, n = this._SCANNING_FOR_INCOMING, i = 0; i < this._resultAreaEdgeList.size(); i++) {
                        var r = this._resultAreaEdgeList.get(i)
                          , o = r.getSym();
                        if (r.getLabel().isArea())
                            switch (null === t && r.isInResult() && (t = r),
                            n) {
                            case this._SCANNING_FOR_INCOMING:
                                if (!o.isInResult())
                                    continue;
                                e = o,
                                n = this._LINKING_TO_OUTGOING;
                                break;
                            case this._LINKING_TO_OUTGOING:
                                if (!r.isInResult())
                                    continue;
                                e.setNext(r),
                                n = this._SCANNING_FOR_INCOMING
                            }
                    }
                    if (n === this._LINKING_TO_OUTGOING) {
                        if (null === t)
                            throw new rc("no outgoing dirEdge found",this.getCoordinate());
                        Mu.isTrue(t.isInResult(), "unable to link last incoming dirEdge"),
                        e.setNext(t)
                    }
                }
                ,
                e.prototype.insert = function(t) {
                    var e = t;
                    this.insertEdgeEnd(e, e)
                }
                ,
                e.prototype.getRightmostEdge = function() {
                    var t = this.getEdges()
                      , e = t.size();
                    if (e < 1)
                        return null;
                    var n = t.get(0);
                    if (1 === e)
                        return n;
                    var i = t.get(e - 1)
                      , r = n.getQuadrant()
                      , o = i.getQuadrant();
                    return gc.isNorthern(r) && gc.isNorthern(o) ? n : gc.isNorthern(r) || gc.isNorthern(o) ? 0 !== n.getDy() ? n : 0 !== i.getDy() ? i : (Mu.shouldNeverReachHere("found two horizontal edges incident on node"),
                    null) : i
                }
                ,
                e.prototype.print = function(t) {
                    _u.out.println("DirectedEdgeStar: " + this.getCoordinate());
                    for (var e = this.iterator(); e.hasNext(); ) {
                        var n = e.next();
                        t.print("out "),
                        n.print(t),
                        t.println(),
                        t.print("in "),
                        n.getSym().print(t),
                        t.println()
                    }
                }
                ,
                e.prototype.getResultAreaEdges = function() {
                    if (null !== this._resultAreaEdgeList)
                        return this._resultAreaEdgeList;
                    this._resultAreaEdgeList = new Ju;
                    for (var t = this.iterator(); t.hasNext(); ) {
                        var e = t.next();
                        (e.isInResult() || e.getSym().isInResult()) && this._resultAreaEdgeList.add(e)
                    }
                    return this._resultAreaEdgeList
                }
                ,
                e.prototype.updateLabelling = function(t) {
                    for (var e = this.iterator(); e.hasNext(); ) {
                        var n = e.next().getLabel();
                        n.setAllLocationsIfNull(0, t.getLocation(0)),
                        n.setAllLocationsIfNull(1, t.getLocation(1))
                    }
                }
                ,
                e.prototype.linkAllDirectedEdges = function() {
                    this.getEdges();
                    for (var t = null, e = null, n = this._edgeList.size() - 1; n >= 0; n--) {
                        var i = this._edgeList.get(n)
                          , r = i.getSym();
                        null === e && (e = r),
                        null !== t && r.setNext(t),
                        t = i
                    }
                    e.setNext(t)
                }
                ,
                e.prototype.computeDepths = function() {
                    if (1 === arguments.length) {
                        var t = arguments[0]
                          , e = this.findIndex(t)
                          , n = t.getDepth(ec.LEFT)
                          , i = t.getDepth(ec.RIGHT)
                          , r = this.computeDepths(e + 1, this._edgeList.size(), n);
                        if (this.computeDepths(0, e, r) !== i)
                            throw new rc("depth mismatch at " + t.getCoordinate())
                    } else if (3 === arguments.length) {
                        for (var o = arguments[0], s = arguments[1], a = arguments[2], u = o; u < s; u++) {
                            var l = this._edgeList.get(u);
                            l.setEdgeDepths(ec.RIGHT, a),
                            a = l.getDepth(ec.LEFT)
                        }
                        return a
                    }
                }
                ,
                e.prototype.mergeSymLabels = function() {
                    for (var t = this.iterator(); t.hasNext(); ) {
                        var e = t.next();
                        e.getLabel().merge(e.getSym().getLabel())
                    }
                }
                ,
                e.prototype.linkMinimalDirectedEdges = function(t) {
                    for (var e = null, n = null, i = this._SCANNING_FOR_INCOMING, r = this._resultAreaEdgeList.size() - 1; r >= 0; r--) {
                        var o = this._resultAreaEdgeList.get(r)
                          , s = o.getSym();
                        switch (null === e && o.getEdgeRing() === t && (e = o),
                        i) {
                        case this._SCANNING_FOR_INCOMING:
                            if (s.getEdgeRing() !== t)
                                continue;
                            n = s,
                            i = this._LINKING_TO_OUTGOING;
                            break;
                        case this._LINKING_TO_OUTGOING:
                            if (o.getEdgeRing() !== t)
                                continue;
                            n.setNextMin(o),
                            i = this._SCANNING_FOR_INCOMING
                        }
                    }
                    i === this._LINKING_TO_OUTGOING && (Mu.isTrue(null !== e, "found null for first outgoing dirEdge"),
                    Mu.isTrue(e.getEdgeRing() === t, "unable to link last incoming dirEdge"),
                    n.setNextMin(e))
                }
                ,
                e.prototype.getOutgoingDegree = function() {
                    if (0 === arguments.length) {
                        for (var t = 0, e = this.iterator(); e.hasNext(); )
                            e.next().isInResult() && t++;
                        return t
                    }
                    if (1 === arguments.length) {
                        for (var n = arguments[0], i = 0, r = this.iterator(); r.hasNext(); )
                            r.next().getEdgeRing() === n && i++;
                        return i
                    }
                }
                ,
                e.prototype.getLabel = function() {
                    return this._label
                }
                ,
                e.prototype.findCoveredLineEdges = function() {
                    for (var t = iu.NONE, e = this.iterator(); e.hasNext(); ) {
                        var n = e.next()
                          , i = n.getSym();
                        if (!n.isLineEdge()) {
                            if (n.isInResult()) {
                                t = iu.INTERIOR;
                                break
                            }
                            if (i.isInResult()) {
                                t = iu.EXTERIOR;
                                break
                            }
                        }
                    }
                    if (t === iu.NONE)
                        return null;
                    for (var r = t, o = this.iterator(); o.hasNext(); ) {
                        var s = o.next()
                          , a = s.getSym();
                        s.isLineEdge() ? s.getEdge().setCovered(r === iu.INTERIOR) : (s.isInResult() && (r = iu.EXTERIOR),
                        a.isInResult() && (r = iu.INTERIOR))
                    }
                }
                ,
                e.prototype.computeLabelling = function(e) {
                    t.prototype.computeLabelling.call(this, e),
                    this._label = new uc(iu.NONE);
                    for (var n = this.iterator(); n.hasNext(); )
                        for (var i = n.next().getEdge().getLabel(), r = 0; r < 2; r++) {
                            var o = i.getLocation(r);
                            o !== iu.INTERIOR && o !== iu.BOUNDARY || this._label.setLocation(r, iu.INTERIOR)
                        }
                }
                ,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                e
            }(mh)
              , Eh = function(t) {
                function e() {
                    t.apply(this, arguments)
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.createNode = function(t) {
                    return new fc(t,new _h)
                }
                ,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                e
            }(_c)
              , Ch = function t() {
                this._pts = null,
                this._orientation = null;
                var e = arguments[0];
                this._pts = e,
                this._orientation = t.orientation(e)
            };
            Ch.prototype.compareTo = function(t) {
                var e = t;
                return Ch.compareOriented(this._pts, this._orientation, e._pts, e._orientation)
            }
            ,
            Ch.prototype.interfaces_ = function() {
                return [Ka]
            }
            ,
            Ch.prototype.getClass = function() {
                return Ch
            }
            ,
            Ch.orientation = function(t) {
                return 1 === nl.increasingDirection(t)
            }
            ,
            Ch.compareOriented = function(t, e, n, i) {
                for (var r = e ? 1 : -1, o = i ? 1 : -1, s = e ? t.length : -1, a = i ? n.length : -1, u = e ? 0 : t.length - 1, l = i ? 0 : n.length - 1; ; ) {
                    var c = t[u].compareTo(n[l]);
                    if (0 !== c)
                        return c;
                    var h = (u += r) === s
                      , p = (l += o) === a;
                    if (h && !p)
                        return -1;
                    if (!h && p)
                        return 1;
                    if (h && p)
                        return 0
                }
            }
            ;
            var wh = function() {
                this._edges = new Ju,
                this._ocaMap = new Ir
            };
            wh.prototype.print = function(t) {
                t.print("MULTILINESTRING ( ");
                for (var e = 0; e < this._edges.size(); e++) {
                    var n = this._edges.get(e);
                    e > 0 && t.print(","),
                    t.print("(");
                    for (var i = n.getCoordinates(), r = 0; r < i.length; r++)
                        r > 0 && t.print(","),
                        t.print(i[r].x + " " + i[r].y);
                    t.println(")")
                }
                t.print(")  ")
            }
            ,
            wh.prototype.addAll = function(t) {
                for (var e = t.iterator(); e.hasNext(); )
                    this.add(e.next())
            }
            ,
            wh.prototype.findEdgeIndex = function(t) {
                for (var e = 0; e < this._edges.size(); e++)
                    if (this._edges.get(e).equals(t))
                        return e;
                return -1
            }
            ,
            wh.prototype.iterator = function() {
                return this._edges.iterator()
            }
            ,
            wh.prototype.getEdges = function() {
                return this._edges
            }
            ,
            wh.prototype.get = function(t) {
                return this._edges.get(t)
            }
            ,
            wh.prototype.findEqualEdge = function(t) {
                var e = new Ch(t.getCoordinates());
                return this._ocaMap.get(e)
            }
            ,
            wh.prototype.add = function(t) {
                this._edges.add(t);
                var e = new Ch(t.getCoordinates());
                this._ocaMap.put(e, t)
            }
            ,
            wh.prototype.interfaces_ = function() {
                return []
            }
            ,
            wh.prototype.getClass = function() {
                return wh
            }
            ;
            var bh = function() {};
            bh.prototype.processIntersections = function(t, e, n, i) {}
            ,
            bh.prototype.isDone = function() {}
            ,
            bh.prototype.interfaces_ = function() {
                return []
            }
            ,
            bh.prototype.getClass = function() {
                return bh
            }
            ;
            var xh = function() {
                this._hasIntersection = !1,
                this._hasProper = !1,
                this._hasProperInterior = !1,
                this._hasInterior = !1,
                this._properIntersectionPoint = null,
                this._li = null,
                this._isSelfIntersection = null,
                this.numIntersections = 0,
                this.numInteriorIntersections = 0,
                this.numProperIntersections = 0,
                this.numTests = 0;
                var t = arguments[0];
                this._li = t
            };
            xh.prototype.isTrivialIntersection = function(t, e, n, i) {
                if (t === n && 1 === this._li.getIntersectionNum()) {
                    if (xh.isAdjacentSegments(e, i))
                        return !0;
                    if (t.isClosed()) {
                        var r = t.size() - 1;
                        if (0 === e && i === r || 0 === i && e === r)
                            return !0
                    }
                }
                return !1
            }
            ,
            xh.prototype.getProperIntersectionPoint = function() {
                return this._properIntersectionPoint
            }
            ,
            xh.prototype.hasProperInteriorIntersection = function() {
                return this._hasProperInterior
            }
            ,
            xh.prototype.getLineIntersector = function() {
                return this._li
            }
            ,
            xh.prototype.hasProperIntersection = function() {
                return this._hasProper
            }
            ,
            xh.prototype.processIntersections = function(t, e, n, i) {
                if (t === n && e === i)
                    return null;
                this.numTests++;
                var r = t.getCoordinates()[e]
                  , o = t.getCoordinates()[e + 1]
                  , s = n.getCoordinates()[i]
                  , a = n.getCoordinates()[i + 1];
                this._li.computeIntersection(r, o, s, a),
                this._li.hasIntersection() && (this.numIntersections++,
                this._li.isInteriorIntersection() && (this.numInteriorIntersections++,
                this._hasInterior = !0),
                this.isTrivialIntersection(t, e, n, i) || (this._hasIntersection = !0,
                t.addIntersections(this._li, e, 0),
                n.addIntersections(this._li, i, 1),
                this._li.isProper() && (this.numProperIntersections++,
                this._hasProper = !0,
                this._hasProperInterior = !0)))
            }
            ,
            xh.prototype.hasIntersection = function() {
                return this._hasIntersection
            }
            ,
            xh.prototype.isDone = function() {
                return !1
            }
            ,
            xh.prototype.hasInteriorIntersection = function() {
                return this._hasInterior
            }
            ,
            xh.prototype.interfaces_ = function() {
                return [bh]
            }
            ,
            xh.prototype.getClass = function() {
                return xh
            }
            ,
            xh.isAdjacentSegments = function(t, e) {
                return 1 === Math.abs(t - e)
            }
            ;
            var Ih = function() {
                this.coord = null,
                this.segmentIndex = null,
                this.dist = null;
                var t = arguments[0]
                  , e = arguments[1]
                  , n = arguments[2];
                this.coord = new Ja(t),
                this.segmentIndex = e,
                this.dist = n
            };
            Ih.prototype.getSegmentIndex = function() {
                return this.segmentIndex
            }
            ,
            Ih.prototype.getCoordinate = function() {
                return this.coord
            }
            ,
            Ih.prototype.print = function(t) {
                t.print(this.coord),
                t.print(" seg # = " + this.segmentIndex),
                t.println(" dist = " + this.dist)
            }
            ,
            Ih.prototype.compareTo = function(t) {
                var e = t;
                return this.compare(e.segmentIndex, e.dist)
            }
            ,
            Ih.prototype.isEndPoint = function(t) {
                return 0 === this.segmentIndex && 0 === this.dist || this.segmentIndex === t
            }
            ,
            Ih.prototype.toString = function() {
                return this.coord + " seg # = " + this.segmentIndex + " dist = " + this.dist
            }
            ,
            Ih.prototype.getDistance = function() {
                return this.dist
            }
            ,
            Ih.prototype.compare = function(t, e) {
                return this.segmentIndex < t ? -1 : this.segmentIndex > t ? 1 : this.dist < e ? -1 : this.dist > e ? 1 : 0
            }
            ,
            Ih.prototype.interfaces_ = function() {
                return [Ka]
            }
            ,
            Ih.prototype.getClass = function() {
                return Ih
            }
            ;
            var Ph = function() {
                this._nodeMap = new Ir,
                this.edge = null;
                var t = arguments[0];
                this.edge = t
            };
            Ph.prototype.print = function(t) {
                t.println("Intersections:");
                for (var e = this.iterator(); e.hasNext(); )
                    e.next().print(t)
            }
            ,
            Ph.prototype.iterator = function() {
                return this._nodeMap.values().iterator()
            }
            ,
            Ph.prototype.addSplitEdges = function(t) {
                this.addEndpoints();
                for (var e = this.iterator(), n = e.next(); e.hasNext(); ) {
                    var i = e.next()
                      , r = this.createSplitEdge(n, i);
                    t.add(r),
                    n = i
                }
            }
            ,
            Ph.prototype.addEndpoints = function() {
                var t = this.edge.pts.length - 1;
                this.add(this.edge.pts[0], 0, 0),
                this.add(this.edge.pts[t], t, 0)
            }
            ,
            Ph.prototype.createSplitEdge = function(t, e) {
                var n = e.segmentIndex - t.segmentIndex + 2
                  , i = this.edge.pts[e.segmentIndex]
                  , r = e.dist > 0 || !e.coord.equals2D(i);
                r || n--;
                var o = new Array(n).fill(null)
                  , s = 0;
                o[s++] = new Ja(t.coord);
                for (var a = t.segmentIndex + 1; a <= e.segmentIndex; a++)
                    o[s++] = this.edge.pts[a];
                return r && (o[s] = e.coord),
                new Th(o,new uc(this.edge._label))
            }
            ,
            Ph.prototype.add = function(t, e, n) {
                var i = new Ih(t,e,n)
                  , r = this._nodeMap.get(i);
                return null !== r ? r : (this._nodeMap.put(i, i),
                i)
            }
            ,
            Ph.prototype.isIntersection = function(t) {
                for (var e = this.iterator(); e.hasNext(); )
                    if (e.next().coord.equals(t))
                        return !0;
                return !1
            }
            ,
            Ph.prototype.interfaces_ = function() {
                return []
            }
            ,
            Ph.prototype.getClass = function() {
                return Ph
            }
            ;
            var Lh = function() {};
            Lh.prototype.getChainStartIndices = function(t) {
                var e = 0
                  , n = new Ju;
                n.add(new lu(e));
                do {
                    var i = this.findChainEnd(t, e);
                    n.add(new lu(i)),
                    e = i
                } while (e < t.length - 1);
                return Lh.toIntArray(n)
            }
            ,
            Lh.prototype.findChainEnd = function(t, e) {
                for (var n = gc.quadrant(t[e], t[e + 1]), i = e + 1; i < t.length && gc.quadrant(t[i - 1], t[i]) === n; )
                    i++;
                return i - 1
            }
            ,
            Lh.prototype.interfaces_ = function() {
                return []
            }
            ,
            Lh.prototype.getClass = function() {
                return Lh
            }
            ,
            Lh.toIntArray = function(t) {
                for (var e = new Array(t.size()).fill(null), n = 0; n < e.length; n++)
                    e[n] = t.get(n).intValue();
                return e
            }
            ;
            var Sh = function() {
                this.e = null,
                this.pts = null,
                this.startIndex = null,
                this.env1 = new Cu,
                this.env2 = new Cu;
                var t = arguments[0];
                this.e = t,
                this.pts = t.getCoordinates();
                var e = new Lh;
                this.startIndex = e.getChainStartIndices(this.pts)
            };
            Sh.prototype.getCoordinates = function() {
                return this.pts
            }
            ,
            Sh.prototype.getMaxX = function(t) {
                var e = this.pts[this.startIndex[t]].x
                  , n = this.pts[this.startIndex[t + 1]].x;
                return e > n ? e : n
            }
            ,
            Sh.prototype.getMinX = function(t) {
                var e = this.pts[this.startIndex[t]].x
                  , n = this.pts[this.startIndex[t + 1]].x;
                return e < n ? e : n
            }
            ,
            Sh.prototype.computeIntersectsForChain = function() {
                if (4 === arguments.length) {
                    var t = arguments[0]
                      , e = arguments[1]
                      , n = arguments[2]
                      , i = arguments[3];
                    this.computeIntersectsForChain(this.startIndex[t], this.startIndex[t + 1], e, e.startIndex[n], e.startIndex[n + 1], i)
                } else if (6 === arguments.length) {
                    var r = arguments[0]
                      , o = arguments[1]
                      , s = arguments[2]
                      , a = arguments[3]
                      , u = arguments[4]
                      , l = arguments[5]
                      , c = this.pts[r]
                      , h = this.pts[o]
                      , p = s.pts[a]
                      , f = s.pts[u];
                    if (o - r == 1 && u - a == 1)
                        return l.addIntersections(this.e, r, s.e, a),
                        null;
                    if (this.env1.init(c, h),
                    this.env2.init(p, f),
                    !this.env1.intersects(this.env2))
                        return null;
                    var d = Math.trunc((r + o) / 2)
                      , g = Math.trunc((a + u) / 2);
                    r < d && (a < g && this.computeIntersectsForChain(r, d, s, a, g, l),
                    g < u && this.computeIntersectsForChain(r, d, s, g, u, l)),
                    d < o && (a < g && this.computeIntersectsForChain(d, o, s, a, g, l),
                    g < u && this.computeIntersectsForChain(d, o, s, g, u, l))
                }
            }
            ,
            Sh.prototype.getStartIndexes = function() {
                return this.startIndex
            }
            ,
            Sh.prototype.computeIntersects = function(t, e) {
                for (var n = 0; n < this.startIndex.length - 1; n++)
                    for (var i = 0; i < t.startIndex.length - 1; i++)
                        this.computeIntersectsForChain(n, t, i, e)
            }
            ,
            Sh.prototype.interfaces_ = function() {
                return []
            }
            ,
            Sh.prototype.getClass = function() {
                return Sh
            }
            ;
            var Nh = function t() {
                this._depth = Array(2).fill().map(function() {
                    return Array(3)
                });
                for (var e = 0; e < 2; e++)
                    for (var n = 0; n < 3; n++)
                        this._depth[e][n] = t.NULL_VALUE
            }
              , Mh = {
                NULL_VALUE: {
                    configurable: !0
                }
            };
            Nh.prototype.getDepth = function(t, e) {
                return this._depth[t][e]
            }
            ,
            Nh.prototype.setDepth = function(t, e, n) {
                this._depth[t][e] = n
            }
            ,
            Nh.prototype.isNull = function() {
                if (0 === arguments.length) {
                    for (var t = 0; t < 2; t++)
                        for (var e = 0; e < 3; e++)
                            if (this._depth[t][e] !== Nh.NULL_VALUE)
                                return !1;
                    return !0
                }
                if (1 === arguments.length) {
                    var n = arguments[0];
                    return this._depth[n][1] === Nh.NULL_VALUE
                }
                if (2 === arguments.length) {
                    var i = arguments[0]
                      , r = arguments[1];
                    return this._depth[i][r] === Nh.NULL_VALUE
                }
            }
            ,
            Nh.prototype.normalize = function() {
                for (var t = 0; t < 2; t++)
                    if (!this.isNull(t)) {
                        var e = this._depth[t][1];
                        this._depth[t][2] < e && (e = this._depth[t][2]),
                        e < 0 && (e = 0);
                        for (var n = 1; n < 3; n++) {
                            var i = 0;
                            this._depth[t][n] > e && (i = 1),
                            this._depth[t][n] = i
                        }
                    }
            }
            ,
            Nh.prototype.getDelta = function(t) {
                return this._depth[t][ec.RIGHT] - this._depth[t][ec.LEFT]
            }
            ,
            Nh.prototype.getLocation = function(t, e) {
                return this._depth[t][e] <= 0 ? iu.EXTERIOR : iu.INTERIOR
            }
            ,
            Nh.prototype.toString = function() {
                return "A: " + this._depth[0][1] + "," + this._depth[0][2] + " B: " + this._depth[1][1] + "," + this._depth[1][2]
            }
            ,
            Nh.prototype.add = function() {
                if (1 === arguments.length)
                    for (var t = arguments[0], e = 0; e < 2; e++)
                        for (var n = 1; n < 3; n++) {
                            var i = t.getLocation(e, n);
                            i !== iu.EXTERIOR && i !== iu.INTERIOR || (this.isNull(e, n) ? this._depth[e][n] = Nh.depthAtLocation(i) : this._depth[e][n] += Nh.depthAtLocation(i))
                        }
                else if (3 === arguments.length) {
                    var r = arguments[0]
                      , o = arguments[1];
                    arguments[2] === iu.INTERIOR && this._depth[r][o]++
                }
            }
            ,
            Nh.prototype.interfaces_ = function() {
                return []
            }
            ,
            Nh.prototype.getClass = function() {
                return Nh
            }
            ,
            Nh.depthAtLocation = function(t) {
                return t === iu.EXTERIOR ? 0 : t === iu.INTERIOR ? 1 : Nh.NULL_VALUE
            }
            ,
            Mh.NULL_VALUE.get = function() {
                return -1
            }
            ,
            Object.defineProperties(Nh, Mh);
            var Th = function(t) {
                function e() {
                    if (t.call(this),
                    this.pts = null,
                    this._env = null,
                    this.eiList = new Ph(this),
                    this._name = null,
                    this._mce = null,
                    this._isIsolated = !0,
                    this._depth = new Nh,
                    this._depthDelta = 0,
                    1 === arguments.length) {
                        var n = arguments[0];
                        e.call(this, n, null)
                    } else if (2 === arguments.length) {
                        var i = arguments[0]
                          , r = arguments[1];
                        this.pts = i,
                        this._label = r
                    }
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.getDepth = function() {
                    return this._depth
                }
                ,
                e.prototype.getCollapsedEdge = function() {
                    var t = new Array(2).fill(null);
                    return t[0] = this.pts[0],
                    t[1] = this.pts[1],
                    new e(t,uc.toLineLabel(this._label))
                }
                ,
                e.prototype.isIsolated = function() {
                    return this._isIsolated
                }
                ,
                e.prototype.getCoordinates = function() {
                    return this.pts
                }
                ,
                e.prototype.setIsolated = function(t) {
                    this._isIsolated = t
                }
                ,
                e.prototype.setName = function(t) {
                    this._name = t
                }
                ,
                e.prototype.equals = function(t) {
                    if (!(t instanceof e))
                        return !1;
                    var n = t;
                    if (this.pts.length !== n.pts.length)
                        return !1;
                    for (var i = !0, r = !0, o = this.pts.length, s = 0; s < this.pts.length; s++)
                        if (this.pts[s].equals2D(n.pts[s]) || (i = !1),
                        this.pts[s].equals2D(n.pts[--o]) || (r = !1),
                        !i && !r)
                            return !1;
                    return !0
                }
                ,
                e.prototype.getCoordinate = function() {
                    if (0 === arguments.length)
                        return this.pts.length > 0 ? this.pts[0] : null;
                    if (1 === arguments.length) {
                        var t = arguments[0];
                        return this.pts[t]
                    }
                }
                ,
                e.prototype.print = function(t) {
                    t.print("edge " + this._name + ": "),
                    t.print("LINESTRING (");
                    for (var e = 0; e < this.pts.length; e++)
                        e > 0 && t.print(","),
                        t.print(this.pts[e].x + " " + this.pts[e].y);
                    t.print(")  " + this._label + " " + this._depthDelta)
                }
                ,
                e.prototype.computeIM = function(t) {
                    e.updateIM(this._label, t)
                }
                ,
                e.prototype.isCollapsed = function() {
                    return !!this._label.isArea() && 3 === this.pts.length && !!this.pts[0].equals(this.pts[2])
                }
                ,
                e.prototype.isClosed = function() {
                    return this.pts[0].equals(this.pts[this.pts.length - 1])
                }
                ,
                e.prototype.getMaximumSegmentIndex = function() {
                    return this.pts.length - 1
                }
                ,
                e.prototype.getDepthDelta = function() {
                    return this._depthDelta
                }
                ,
                e.prototype.getNumPoints = function() {
                    return this.pts.length
                }
                ,
                e.prototype.printReverse = function(t) {
                    t.print("edge " + this._name + ": ");
                    for (var e = this.pts.length - 1; e >= 0; e--)
                        t.print(this.pts[e] + " ");
                    t.println("")
                }
                ,
                e.prototype.getMonotoneChainEdge = function() {
                    return null === this._mce && (this._mce = new Sh(this)),
                    this._mce
                }
                ,
                e.prototype.getEnvelope = function() {
                    if (null === this._env) {
                        this._env = new Cu;
                        for (var t = 0; t < this.pts.length; t++)
                            this._env.expandToInclude(this.pts[t])
                    }
                    return this._env
                }
                ,
                e.prototype.addIntersection = function(t, e, n, i) {
                    var r = new Ja(t.getIntersection(i))
                      , o = e
                      , s = t.getEdgeDistance(n, i)
                      , a = o + 1;
                    if (a < this.pts.length) {
                        var u = this.pts[a];
                        r.equals2D(u) && (o = a,
                        s = 0)
                    }
                    this.eiList.add(r, o, s)
                }
                ,
                e.prototype.toString = function() {
                    var t = new uu;
                    t.append("edge " + this._name + ": "),
                    t.append("LINESTRING (");
                    for (var e = 0; e < this.pts.length; e++)
                        e > 0 && t.append(","),
                        t.append(this.pts[e].x + " " + this.pts[e].y);
                    return t.append(")  " + this._label + " " + this._depthDelta),
                    t.toString()
                }
                ,
                e.prototype.isPointwiseEqual = function(t) {
                    if (this.pts.length !== t.pts.length)
                        return !1;
                    for (var e = 0; e < this.pts.length; e++)
                        if (!this.pts[e].equals2D(t.pts[e]))
                            return !1;
                    return !0
                }
                ,
                e.prototype.setDepthDelta = function(t) {
                    this._depthDelta = t
                }
                ,
                e.prototype.getEdgeIntersectionList = function() {
                    return this.eiList
                }
                ,
                e.prototype.addIntersections = function(t, e, n) {
                    for (var i = 0; i < t.getIntersectionNum(); i++)
                        this.addIntersection(t, e, n, i)
                }
                ,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                e.updateIM = function() {
                    if (2 !== arguments.length)
                        return t.prototype.updateIM.apply(this, arguments);
                    var e = arguments[0]
                      , n = arguments[1];
                    n.setAtLeastIfValid(e.getLocation(0, ec.ON), e.getLocation(1, ec.ON), 1),
                    e.isArea() && (n.setAtLeastIfValid(e.getLocation(0, ec.LEFT), e.getLocation(1, ec.LEFT), 2),
                    n.setAtLeastIfValid(e.getLocation(0, ec.RIGHT), e.getLocation(1, ec.RIGHT), 2))
                }
                ,
                e
            }(pc)
              , Oh = function(t) {
                this._workingPrecisionModel = null,
                this._workingNoder = null,
                this._geomFact = null,
                this._graph = null,
                this._edgeList = new wh,
                this._bufParams = t || null
            };
            Oh.prototype.setWorkingPrecisionModel = function(t) {
                this._workingPrecisionModel = t
            }
            ,
            Oh.prototype.insertUniqueEdge = function(t) {
                var e = this._edgeList.findEqualEdge(t);
                if (null !== e) {
                    var n = e.getLabel()
                      , i = t.getLabel();
                    e.isPointwiseEqual(t) || (i = new uc(t.getLabel())).flip(),
                    n.merge(i);
                    var r = Oh.depthDelta(i)
                      , o = e.getDepthDelta() + r;
                    e.setDepthDelta(o)
                } else
                    this._edgeList.add(t),
                    t.setDepthDelta(Oh.depthDelta(t.getLabel()))
            }
            ,
            Oh.prototype.buildSubgraphs = function(t, e) {
                for (var n = new Ju, i = t.iterator(); i.hasNext(); ) {
                    var r = i.next()
                      , o = r.getRightmostCoordinate()
                      , s = new ch(n).getDepth(o);
                    r.computeDepth(s),
                    r.findResultEdges(),
                    n.add(r),
                    e.add(r.getDirectedEdges(), r.getNodes())
                }
            }
            ,
            Oh.prototype.createSubgraphs = function(t) {
                for (var e = new Ju, n = t.getNodes().iterator(); n.hasNext(); ) {
                    var i = n.next();
                    if (!i.isVisited()) {
                        var r = new sc;
                        r.create(i),
                        e.add(r)
                    }
                }
                return Nc.sort(e, Nc.reverseOrder()),
                e
            }
            ,
            Oh.prototype.createEmptyResultGeometry = function() {
                return this._geomFact.createPolygon()
            }
            ,
            Oh.prototype.getNoder = function(t) {
                if (null !== this._workingNoder)
                    return this._workingNoder;
                var e = new Zc
                  , n = new Au;
                return n.setPrecisionModel(t),
                e.setSegmentIntersector(new xh(n)),
                e
            }
            ,
            Oh.prototype.buffer = function(t, e) {
                var n = this._workingPrecisionModel;
                null === n && (n = t.getPrecisionModel()),
                this._geomFact = t.getFactory();
                var i = new lh(n,this._bufParams)
                  , r = new dh(t,e,i).getCurves();
                if (r.size() <= 0)
                    return this.createEmptyResultGeometry();
                this.computeNodedEdges(r, n),
                this._graph = new Ec(new Eh),
                this._graph.addEdges(this._edgeList.getEdges());
                var o = this.createSubgraphs(this._graph)
                  , s = new Cc(this._geomFact);
                this.buildSubgraphs(o, s);
                var a = s.getPolygons();
                return a.size() <= 0 ? this.createEmptyResultGeometry() : this._geomFact.buildGeometry(a)
            }
            ,
            Oh.prototype.computeNodedEdges = function(t, e) {
                var n = this.getNoder(e);
                n.computeNodes(t);
                for (var i = n.getNodedSubstrings().iterator(); i.hasNext(); ) {
                    var r = i.next()
                      , o = r.getCoordinates();
                    if (2 !== o.length || !o[0].equals2D(o[1])) {
                        var s = r.getData()
                          , a = new Th(r.getCoordinates(),new uc(s));
                        this.insertUniqueEdge(a)
                    }
                }
            }
            ,
            Oh.prototype.setNoder = function(t) {
                this._workingNoder = t
            }
            ,
            Oh.prototype.interfaces_ = function() {
                return []
            }
            ,
            Oh.prototype.getClass = function() {
                return Oh
            }
            ,
            Oh.depthDelta = function(t) {
                var e = t.getLocation(0, ec.LEFT)
                  , n = t.getLocation(0, ec.RIGHT);
                return e === iu.INTERIOR && n === iu.EXTERIOR ? 1 : e === iu.EXTERIOR && n === iu.INTERIOR ? -1 : 0
            }
            ,
            Oh.convertSegStrings = function(t) {
                for (var e = new Xl, n = new Ju; t.hasNext(); ) {
                    var i = t.next()
                      , r = e.createLineString(i.getCoordinates());
                    n.add(r)
                }
                return e.buildGeometry(n)
            }
            ;
            var Ah = function() {
                if (this._noder = null,
                this._scaleFactor = null,
                this._offsetX = null,
                this._offsetY = null,
                this._isScaled = !1,
                2 === arguments.length) {
                    var t = arguments[0]
                      , e = arguments[1];
                    this._noder = t,
                    this._scaleFactor = e,
                    this._offsetX = 0,
                    this._offsetY = 0,
                    this._isScaled = !this.isIntegerPrecision()
                } else if (4 === arguments.length) {
                    var n = arguments[0]
                      , i = arguments[1]
                      , r = arguments[2]
                      , o = arguments[3];
                    this._noder = n,
                    this._scaleFactor = i,
                    this._offsetX = r,
                    this._offsetY = o,
                    this._isScaled = !this.isIntegerPrecision()
                }
            };
            Ah.prototype.rescale = function() {
                if (ou(arguments[0], $u))
                    for (var t = arguments[0].iterator(); t.hasNext(); ) {
                        var e = t.next();
                        this.rescale(e.getCoordinates())
                    }
                else if (arguments[0]instanceof Array) {
                    for (var n = arguments[0], i = 0; i < n.length; i++)
                        n[i].x = n[i].x / this._scaleFactor + this._offsetX,
                        n[i].y = n[i].y / this._scaleFactor + this._offsetY;
                    2 === n.length && n[0].equals2D(n[1]) && _u.out.println(n)
                }
            }
            ,
            Ah.prototype.scale = function() {
                if (ou(arguments[0], $u)) {
                    for (var t = arguments[0], e = new Ju, n = t.iterator(); n.hasNext(); ) {
                        var i = n.next();
                        e.add(new jc(this.scale(i.getCoordinates()),i.getData()))
                    }
                    return e
                }
                if (arguments[0]instanceof Array) {
                    for (var r = arguments[0], o = new Array(r.length).fill(null), s = 0; s < r.length; s++)
                        o[s] = new Ja(Math.round((r[s].x - this._offsetX) * this._scaleFactor),Math.round((r[s].y - this._offsetY) * this._scaleFactor),r[s].z);
                    return nl.removeRepeatedPoints(o)
                }
            }
            ,
            Ah.prototype.isIntegerPrecision = function() {
                return 1 === this._scaleFactor
            }
            ,
            Ah.prototype.getNodedSubstrings = function() {
                var t = this._noder.getNodedSubstrings();
                return this._isScaled && this.rescale(t),
                t
            }
            ,
            Ah.prototype.computeNodes = function(t) {
                var e = t;
                this._isScaled && (e = this.scale(t)),
                this._noder.computeNodes(e)
            }
            ,
            Ah.prototype.interfaces_ = function() {
                return [$c]
            }
            ,
            Ah.prototype.getClass = function() {
                return Ah
            }
            ;
            var Dh = function() {
                this._li = new Au,
                this._segStrings = null;
                var t = arguments[0];
                this._segStrings = t
            }
              , Rh = {
                fact: {
                    configurable: !0
                }
            };
            Dh.prototype.checkEndPtVertexIntersections = function() {
                if (0 === arguments.length)
                    for (var t = this._segStrings.iterator(); t.hasNext(); ) {
                        var e = t.next().getCoordinates();
                        this.checkEndPtVertexIntersections(e[0], this._segStrings),
                        this.checkEndPtVertexIntersections(e[e.length - 1], this._segStrings)
                    }
                else if (2 === arguments.length)
                    for (var n = arguments[0], i = arguments[1].iterator(); i.hasNext(); )
                        for (var r = i.next().getCoordinates(), o = 1; o < r.length - 1; o++)
                            if (r[o].equals(n))
                                throw new Su("found endpt/interior pt intersection at index " + o + " :pt " + n)
            }
            ,
            Dh.prototype.checkInteriorIntersections = function() {
                if (0 === arguments.length)
                    for (var t = this._segStrings.iterator(); t.hasNext(); )
                        for (var e = t.next(), n = this._segStrings.iterator(); n.hasNext(); ) {
                            var i = n.next();
                            this.checkInteriorIntersections(e, i)
                        }
                else if (2 === arguments.length)
                    for (var r = arguments[0], o = arguments[1], s = r.getCoordinates(), a = o.getCoordinates(), u = 0; u < s.length - 1; u++)
                        for (var l = 0; l < a.length - 1; l++)
                            this.checkInteriorIntersections(r, u, o, l);
                else if (4 === arguments.length) {
                    var c = arguments[0]
                      , h = arguments[1]
                      , p = arguments[2]
                      , f = arguments[3];
                    if (c === p && h === f)
                        return null;
                    var d = c.getCoordinates()[h]
                      , g = c.getCoordinates()[h + 1]
                      , y = p.getCoordinates()[f]
                      , v = p.getCoordinates()[f + 1];
                    if (this._li.computeIntersection(d, g, y, v),
                    this._li.hasIntersection() && (this._li.isProper() || this.hasInteriorIntersection(this._li, d, g) || this.hasInteriorIntersection(this._li, y, v)))
                        throw new Su("found non-noded intersection at " + d + "-" + g + " and " + y + "-" + v)
                }
            }
            ,
            Dh.prototype.checkValid = function() {
                this.checkEndPtVertexIntersections(),
                this.checkInteriorIntersections(),
                this.checkCollapses()
            }
            ,
            Dh.prototype.checkCollapses = function() {
                if (0 === arguments.length)
                    for (var t = this._segStrings.iterator(); t.hasNext(); ) {
                        var e = t.next();
                        this.checkCollapses(e)
                    }
                else if (1 === arguments.length)
                    for (var n = arguments[0].getCoordinates(), i = 0; i < n.length - 2; i++)
                        this.checkCollapse(n[i], n[i + 1], n[i + 2])
            }
            ,
            Dh.prototype.hasInteriorIntersection = function(t, e, n) {
                for (var i = 0; i < t.getIntersectionNum(); i++) {
                    var r = t.getIntersection(i);
                    if (!r.equals(e) && !r.equals(n))
                        return !0
                }
                return !1
            }
            ,
            Dh.prototype.checkCollapse = function(t, e, n) {
                if (t.equals(n))
                    throw new Su("found non-noded collapse at " + Dh.fact.createLineString([t, e, n]))
            }
            ,
            Dh.prototype.interfaces_ = function() {
                return []
            }
            ,
            Dh.prototype.getClass = function() {
                return Dh
            }
            ,
            Rh.fact.get = function() {
                return new Xl
            }
            ,
            Object.defineProperties(Dh, Rh);
            var kh = function() {
                this._li = null,
                this._pt = null,
                this._originalPt = null,
                this._ptScaled = null,
                this._p0Scaled = null,
                this._p1Scaled = null,
                this._scaleFactor = null,
                this._minx = null,
                this._maxx = null,
                this._miny = null,
                this._maxy = null,
                this._corner = new Array(4).fill(null),
                this._safeEnv = null;
                var t = arguments[0]
                  , e = arguments[1]
                  , n = arguments[2];
                if (this._originalPt = t,
                this._pt = t,
                this._scaleFactor = e,
                this._li = n,
                e <= 0)
                    throw new Xa("Scale factor must be non-zero");
                1 !== e && (this._pt = new Ja(this.scale(t.x),this.scale(t.y)),
                this._p0Scaled = new Ja,
                this._p1Scaled = new Ja),
                this.initCorners(this._pt)
            }
              , Fh = {
                SAFE_ENV_EXPANSION_FACTOR: {
                    configurable: !0
                }
            };
            kh.prototype.intersectsScaled = function(t, e) {
                var n = Math.min(t.x, e.x)
                  , i = Math.max(t.x, e.x)
                  , r = Math.min(t.y, e.y)
                  , o = Math.max(t.y, e.y)
                  , s = this._maxx < n || this._minx > i || this._maxy < r || this._miny > o;
                if (s)
                    return !1;
                var a = this.intersectsToleranceSquare(t, e);
                return Mu.isTrue(!(s && a), "Found bad envelope test"),
                a
            }
            ,
            kh.prototype.initCorners = function(t) {
                this._minx = t.x - .5,
                this._maxx = t.x + .5,
                this._miny = t.y - .5,
                this._maxy = t.y + .5,
                this._corner[0] = new Ja(this._maxx,this._maxy),
                this._corner[1] = new Ja(this._minx,this._maxy),
                this._corner[2] = new Ja(this._minx,this._miny),
                this._corner[3] = new Ja(this._maxx,this._miny)
            }
            ,
            kh.prototype.intersects = function(t, e) {
                return 1 === this._scaleFactor ? this.intersectsScaled(t, e) : (this.copyScaled(t, this._p0Scaled),
                this.copyScaled(e, this._p1Scaled),
                this.intersectsScaled(this._p0Scaled, this._p1Scaled))
            }
            ,
            kh.prototype.scale = function(t) {
                return Math.round(t * this._scaleFactor)
            }
            ,
            kh.prototype.getCoordinate = function() {
                return this._originalPt
            }
            ,
            kh.prototype.copyScaled = function(t, e) {
                e.x = this.scale(t.x),
                e.y = this.scale(t.y)
            }
            ,
            kh.prototype.getSafeEnvelope = function() {
                if (null === this._safeEnv) {
                    var t = kh.SAFE_ENV_EXPANSION_FACTOR / this._scaleFactor;
                    this._safeEnv = new Cu(this._originalPt.x - t,this._originalPt.x + t,this._originalPt.y - t,this._originalPt.y + t)
                }
                return this._safeEnv
            }
            ,
            kh.prototype.intersectsPixelClosure = function(t, e) {
                return this._li.computeIntersection(t, e, this._corner[0], this._corner[1]),
                !!(this._li.hasIntersection() || (this._li.computeIntersection(t, e, this._corner[1], this._corner[2]),
                this._li.hasIntersection() || (this._li.computeIntersection(t, e, this._corner[2], this._corner[3]),
                this._li.hasIntersection() || (this._li.computeIntersection(t, e, this._corner[3], this._corner[0]),
                this._li.hasIntersection()))))
            }
            ,
            kh.prototype.intersectsToleranceSquare = function(t, e) {
                var n = !1
                  , i = !1;
                return this._li.computeIntersection(t, e, this._corner[0], this._corner[1]),
                !!(this._li.isProper() || (this._li.computeIntersection(t, e, this._corner[1], this._corner[2]),
                this._li.isProper() || (this._li.hasIntersection() && (n = !0),
                this._li.computeIntersection(t, e, this._corner[2], this._corner[3]),
                this._li.isProper() || (this._li.hasIntersection() && (i = !0),
                this._li.computeIntersection(t, e, this._corner[3], this._corner[0]),
                this._li.isProper() || n && i || t.equals(this._pt) || e.equals(this._pt)))))
            }
            ,
            kh.prototype.addSnappedNode = function(t, e) {
                var n = t.getCoordinate(e)
                  , i = t.getCoordinate(e + 1);
                return !!this.intersects(n, i) && (t.addIntersection(this.getCoordinate(), e),
                !0)
            }
            ,
            kh.prototype.interfaces_ = function() {
                return []
            }
            ,
            kh.prototype.getClass = function() {
                return kh
            }
            ,
            Fh.SAFE_ENV_EXPANSION_FACTOR.get = function() {
                return .75
            }
            ,
            Object.defineProperties(kh, Fh);
            var Gh = function() {
                this.tempEnv1 = new Cu,
                this.selectedSegment = new zc
            };
            Gh.prototype.select = function() {
                if (1 === arguments.length)
                    ;
                else if (2 === arguments.length) {
                    var t = arguments[0]
                      , e = arguments[1];
                    t.getLineSegment(e, this.selectedSegment),
                    this.select(this.selectedSegment)
                }
            }
            ,
            Gh.prototype.interfaces_ = function() {
                return []
            }
            ,
            Gh.prototype.getClass = function() {
                return Gh
            }
            ;
            var Bh = function() {
                this._index = null;
                var t = arguments[0];
                this._index = t
            }
              , qh = {
                HotPixelSnapAction: {
                    configurable: !0
                }
            };
            Bh.prototype.snap = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    return this.snap(t, null, -1)
                }
                if (3 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1]
                      , i = arguments[2]
                      , r = e.getSafeEnvelope()
                      , o = new Vh(e,n,i);
                    return this._index.query(r, {
                        interfaces_: function() {
                            return [Ic]
                        },
                        visitItem: function(t) {
                            t.select(r, o)
                        }
                    }),
                    o.isNodeAdded()
                }
            }
            ,
            Bh.prototype.interfaces_ = function() {
                return []
            }
            ,
            Bh.prototype.getClass = function() {
                return Bh
            }
            ,
            qh.HotPixelSnapAction.get = function() {
                return Vh
            }
            ,
            Object.defineProperties(Bh, qh);
            var Vh = function(t) {
                function e() {
                    t.call(this),
                    this._hotPixel = null,
                    this._parentEdge = null,
                    this._hotPixelVertexIndex = null,
                    this._isNodeAdded = !1;
                    var e = arguments[0]
                      , n = arguments[1]
                      , i = arguments[2];
                    this._hotPixel = e,
                    this._parentEdge = n,
                    this._hotPixelVertexIndex = i
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.isNodeAdded = function() {
                    return this._isNodeAdded
                }
                ,
                e.prototype.select = function() {
                    if (2 !== arguments.length)
                        return t.prototype.select.apply(this, arguments);
                    var e = arguments[0]
                      , n = arguments[1]
                      , i = e.getContext();
                    if (null !== this._parentEdge && i === this._parentEdge && n === this._hotPixelVertexIndex)
                        return null;
                    this._isNodeAdded = this._hotPixel.addSnappedNode(i, n)
                }
                ,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                e
            }(Gh)
              , Uh = function() {
                this._li = null,
                this._interiorIntersections = null;
                var t = arguments[0];
                this._li = t,
                this._interiorIntersections = new Ju
            };
            Uh.prototype.processIntersections = function(t, e, n, i) {
                if (t === n && e === i)
                    return null;
                var r = t.getCoordinates()[e]
                  , o = t.getCoordinates()[e + 1]
                  , s = n.getCoordinates()[i]
                  , a = n.getCoordinates()[i + 1];
                if (this._li.computeIntersection(r, o, s, a),
                this._li.hasIntersection() && this._li.isInteriorIntersection()) {
                    for (var u = 0; u < this._li.getIntersectionNum(); u++)
                        this._interiorIntersections.add(this._li.getIntersection(u));
                    t.addIntersections(this._li, e, 0),
                    n.addIntersections(this._li, i, 1)
                }
            }
            ,
            Uh.prototype.isDone = function() {
                return !1
            }
            ,
            Uh.prototype.getInteriorIntersections = function() {
                return this._interiorIntersections
            }
            ,
            Uh.prototype.interfaces_ = function() {
                return [bh]
            }
            ,
            Uh.prototype.getClass = function() {
                return Uh
            }
            ;
            var jh = function() {
                this._pm = null,
                this._li = null,
                this._scaleFactor = null,
                this._noder = null,
                this._pointSnapper = null,
                this._nodedSegStrings = null;
                var t = arguments[0];
                this._pm = t,
                this._li = new Au,
                this._li.setPrecisionModel(t),
                this._scaleFactor = t.getScale()
            };
            jh.prototype.checkCorrectness = function(t) {
                var e = jc.getNodedSubstrings(t)
                  , n = new Dh(e);
                try {
                    n.checkValid()
                } catch (t) {
                    if (!(t instanceof vu))
                        throw t;
                    t.printStackTrace()
                }
            }
            ,
            jh.prototype.getNodedSubstrings = function() {
                return jc.getNodedSubstrings(this._nodedSegStrings)
            }
            ,
            jh.prototype.snapRound = function(t, e) {
                var n = this.findInteriorIntersections(t, e);
                this.computeIntersectionSnaps(n),
                this.computeVertexSnaps(t)
            }
            ,
            jh.prototype.findInteriorIntersections = function(t, e) {
                var n = new Uh(e);
                return this._noder.setSegmentIntersector(n),
                this._noder.computeNodes(t),
                n.getInteriorIntersections()
            }
            ,
            jh.prototype.computeVertexSnaps = function() {
                if (ou(arguments[0], $u))
                    for (var t = arguments[0].iterator(); t.hasNext(); ) {
                        var e = t.next();
                        this.computeVertexSnaps(e)
                    }
                else if (arguments[0]instanceof jc)
                    for (var n = arguments[0], i = n.getCoordinates(), r = 0; r < i.length; r++) {
                        var o = new kh(i[r],this._scaleFactor,this._li);
                        this._pointSnapper.snap(o, n, r) && n.addIntersection(i[r], r)
                    }
            }
            ,
            jh.prototype.computeNodes = function(t) {
                this._nodedSegStrings = t,
                this._noder = new Zc,
                this._pointSnapper = new Bh(this._noder.getIndex()),
                this.snapRound(t, this._li)
            }
            ,
            jh.prototype.computeIntersectionSnaps = function(t) {
                for (var e = t.iterator(); e.hasNext(); ) {
                    var n = e.next()
                      , i = new kh(n,this._scaleFactor,this._li);
                    this._pointSnapper.snap(i)
                }
            }
            ,
            jh.prototype.interfaces_ = function() {
                return [$c]
            }
            ,
            jh.prototype.getClass = function() {
                return jh
            }
            ;
            var zh = function() {
                if (this._argGeom = null,
                this._distance = null,
                this._bufParams = new Jc,
                this._resultGeometry = null,
                this._saveException = null,
                1 === arguments.length) {
                    var t = arguments[0];
                    this._argGeom = t
                } else if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1];
                    this._argGeom = e,
                    this._bufParams = n
                }
            }
              , Yh = {
                CAP_ROUND: {
                    configurable: !0
                },
                CAP_BUTT: {
                    configurable: !0
                },
                CAP_FLAT: {
                    configurable: !0
                },
                CAP_SQUARE: {
                    configurable: !0
                },
                MAX_PRECISION_DIGITS: {
                    configurable: !0
                }
            };
            zh.prototype.bufferFixedPrecision = function(t) {
                var e = new Ah(new jh(new jl(1)),t.getScale())
                  , n = new Oh(this._bufParams);
                n.setWorkingPrecisionModel(t),
                n.setNoder(e),
                this._resultGeometry = n.buffer(this._argGeom, this._distance)
            }
            ,
            zh.prototype.bufferReducedPrecision = function() {
                var t = this;
                if (0 === arguments.length) {
                    for (var e = zh.MAX_PRECISION_DIGITS; e >= 0; e--) {
                        try {
                            t.bufferReducedPrecision(e)
                        } catch (e) {
                            if (!(e instanceof rc))
                                throw e;
                            t._saveException = e
                        }
                        if (null !== t._resultGeometry)
                            return null
                    }
                    throw this._saveException
                }
                if (1 === arguments.length) {
                    var n = arguments[0]
                      , i = zh.precisionScaleFactor(this._argGeom, this._distance, n)
                      , r = new jl(i);
                    this.bufferFixedPrecision(r)
                }
            }
            ,
            zh.prototype.computeGeometry = function() {
                if (this.bufferOriginalPrecision(),
                null !== this._resultGeometry)
                    return null;
                var t = this._argGeom.getFactory().getPrecisionModel();
                t.getType() === jl.FIXED ? this.bufferFixedPrecision(t) : this.bufferReducedPrecision()
            }
            ,
            zh.prototype.setQuadrantSegments = function(t) {
                this._bufParams.setQuadrantSegments(t)
            }
            ,
            zh.prototype.bufferOriginalPrecision = function() {
                try {
                    var t = new Oh(this._bufParams);
                    this._resultGeometry = t.buffer(this._argGeom, this._distance)
                } catch (t) {
                    if (!(t instanceof Su))
                        throw t;
                    this._saveException = t
                }
            }
            ,
            zh.prototype.getResultGeometry = function(t) {
                return this._distance = t,
                this.computeGeometry(),
                this._resultGeometry
            }
            ,
            zh.prototype.setEndCapStyle = function(t) {
                this._bufParams.setEndCapStyle(t)
            }
            ,
            zh.prototype.interfaces_ = function() {
                return []
            }
            ,
            zh.prototype.getClass = function() {
                return zh
            }
            ,
            zh.bufferOp = function() {
                if (2 === arguments.length) {
                    var t = arguments[0]
                      , e = arguments[1];
                    return new zh(t).getResultGeometry(e)
                }
                if (3 === arguments.length) {
                    if (Number.isInteger(arguments[2]) && arguments[0]instanceof Bu && "number" == typeof arguments[1]) {
                        var n = arguments[0]
                          , i = arguments[1]
                          , r = arguments[2]
                          , o = new zh(n);
                        return o.setQuadrantSegments(r),
                        o.getResultGeometry(i)
                    }
                    if (arguments[2]instanceof Jc && arguments[0]instanceof Bu && "number" == typeof arguments[1]) {
                        var s = arguments[0]
                          , a = arguments[1]
                          , u = arguments[2];
                        return new zh(s,u).getResultGeometry(a)
                    }
                } else if (4 === arguments.length) {
                    var l = arguments[0]
                      , c = arguments[1]
                      , h = arguments[2]
                      , p = arguments[3]
                      , f = new zh(l);
                    return f.setQuadrantSegments(h),
                    f.setEndCapStyle(p),
                    f.getResultGeometry(c)
                }
            }
            ,
            zh.precisionScaleFactor = function(t, e, n) {
                var i = t.getEnvelopeInternal()
                  , r = su.max(Math.abs(i.getMaxX()), Math.abs(i.getMaxY()), Math.abs(i.getMinX()), Math.abs(i.getMinY())) + 2 * (e > 0 ? e : 0)
                  , o = n - Math.trunc(Math.log(r) / Math.log(10) + 1);
                return Math.pow(10, o)
            }
            ,
            Yh.CAP_ROUND.get = function() {
                return Jc.CAP_ROUND
            }
            ,
            Yh.CAP_BUTT.get = function() {
                return Jc.CAP_FLAT
            }
            ,
            Yh.CAP_FLAT.get = function() {
                return Jc.CAP_FLAT
            }
            ,
            Yh.CAP_SQUARE.get = function() {
                return Jc.CAP_SQUARE
            }
            ,
            Yh.MAX_PRECISION_DIGITS.get = function() {
                return 12
            }
            ,
            Object.defineProperties(zh, Yh);
            var Hh = function() {
                this._pt = [new Ja, new Ja],
                this._distance = Wa.NaN,
                this._isNull = !0
            };
            Hh.prototype.getCoordinates = function() {
                return this._pt
            }
            ,
            Hh.prototype.getCoordinate = function(t) {
                return this._pt[t]
            }
            ,
            Hh.prototype.setMinimum = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    this.setMinimum(t._pt[0], t._pt[1])
                } else if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1];
                    if (this._isNull)
                        return this.initialize(e, n),
                        null;
                    var i = e.distance(n);
                    i < this._distance && this.initialize(e, n, i)
                }
            }
            ,
            Hh.prototype.initialize = function() {
                if (0 === arguments.length)
                    this._isNull = !0;
                else if (2 === arguments.length) {
                    var t = arguments[0]
                      , e = arguments[1];
                    this._pt[0].setCoordinate(t),
                    this._pt[1].setCoordinate(e),
                    this._distance = t.distance(e),
                    this._isNull = !1
                } else if (3 === arguments.length) {
                    var n = arguments[0]
                      , i = arguments[1]
                      , r = arguments[2];
                    this._pt[0].setCoordinate(n),
                    this._pt[1].setCoordinate(i),
                    this._distance = r,
                    this._isNull = !1
                }
            }
            ,
            Hh.prototype.getDistance = function() {
                return this._distance
            }
            ,
            Hh.prototype.setMaximum = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    this.setMaximum(t._pt[0], t._pt[1])
                } else if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1];
                    if (this._isNull)
                        return this.initialize(e, n),
                        null;
                    var i = e.distance(n);
                    i > this._distance && this.initialize(e, n, i)
                }
            }
            ,
            Hh.prototype.interfaces_ = function() {
                return []
            }
            ,
            Hh.prototype.getClass = function() {
                return Hh
            }
            ;
            var Xh = function() {};
            Xh.prototype.interfaces_ = function() {
                return []
            }
            ,
            Xh.prototype.getClass = function() {
                return Xh
            }
            ,
            Xh.computeDistance = function() {
                if (arguments[2]instanceof Hh && arguments[0]instanceof Il && arguments[1]instanceof Ja)
                    for (var t = arguments[0], e = arguments[1], n = arguments[2], i = t.getCoordinates(), r = new zc, o = 0; o < i.length - 1; o++) {
                        r.setCoordinates(i[o], i[o + 1]);
                        var s = r.closestPoint(e);
                        n.setMinimum(s, e)
                    }
                else if (arguments[2]instanceof Hh && arguments[0]instanceof Nl && arguments[1]instanceof Ja) {
                    var a = arguments[0]
                      , u = arguments[1]
                      , l = arguments[2];
                    Xh.computeDistance(a.getExteriorRing(), u, l);
                    for (var c = 0; c < a.getNumInteriorRing(); c++)
                        Xh.computeDistance(a.getInteriorRingN(c), u, l)
                } else if (arguments[2]instanceof Hh && arguments[0]instanceof Bu && arguments[1]instanceof Ja) {
                    var h = arguments[0]
                      , p = arguments[1]
                      , f = arguments[2];
                    if (h instanceof Il)
                        Xh.computeDistance(h, p, f);
                    else if (h instanceof Nl)
                        Xh.computeDistance(h, p, f);
                    else if (h instanceof ml)
                        for (var d = h, g = 0; g < d.getNumGeometries(); g++) {
                            var y = d.getGeometryN(g);
                            Xh.computeDistance(y, p, f)
                        }
                    else
                        f.setMinimum(h.getCoordinate(), p)
                } else if (arguments[2]instanceof Hh && arguments[0]instanceof zc && arguments[1]instanceof Ja) {
                    var v = arguments[0]
                      , m = arguments[1]
                      , _ = arguments[2]
                      , E = v.closestPoint(m);
                    _.setMinimum(E, m)
                }
            }
            ;
            var Wh = function(t) {
                this._maxPtDist = new Hh,
                this._inputGeom = t || null
            }
              , $h = {
                MaxPointDistanceFilter: {
                    configurable: !0
                },
                MaxMidpointDistanceFilter: {
                    configurable: !0
                }
            };
            Wh.prototype.computeMaxMidpointDistance = function(t) {
                var e = new Zh(this._inputGeom);
                t.apply(e),
                this._maxPtDist.setMaximum(e.getMaxPointDistance())
            }
            ,
            Wh.prototype.computeMaxVertexDistance = function(t) {
                var e = new Kh(this._inputGeom);
                t.apply(e),
                this._maxPtDist.setMaximum(e.getMaxPointDistance())
            }
            ,
            Wh.prototype.findDistance = function(t) {
                return this.computeMaxVertexDistance(t),
                this.computeMaxMidpointDistance(t),
                this._maxPtDist.getDistance()
            }
            ,
            Wh.prototype.getDistancePoints = function() {
                return this._maxPtDist
            }
            ,
            Wh.prototype.interfaces_ = function() {
                return []
            }
            ,
            Wh.prototype.getClass = function() {
                return Wh
            }
            ,
            $h.MaxPointDistanceFilter.get = function() {
                return Kh
            }
            ,
            $h.MaxMidpointDistanceFilter.get = function() {
                return Zh
            }
            ,
            Object.defineProperties(Wh, $h);
            var Kh = function(t) {
                this._maxPtDist = new Hh,
                this._minPtDist = new Hh,
                this._geom = t || null
            };
            Kh.prototype.filter = function(t) {
                this._minPtDist.initialize(),
                Xh.computeDistance(this._geom, t, this._minPtDist),
                this._maxPtDist.setMaximum(this._minPtDist)
            }
            ,
            Kh.prototype.getMaxPointDistance = function() {
                return this._maxPtDist
            }
            ,
            Kh.prototype.interfaces_ = function() {
                return [Uu]
            }
            ,
            Kh.prototype.getClass = function() {
                return Kh
            }
            ;
            var Zh = function(t) {
                this._maxPtDist = new Hh,
                this._minPtDist = new Hh,
                this._geom = t || null
            };
            Zh.prototype.filter = function(t, e) {
                if (0 === e)
                    return null;
                var n = t.getCoordinate(e - 1)
                  , i = t.getCoordinate(e)
                  , r = new Ja((n.x + i.x) / 2,(n.y + i.y) / 2);
                this._minPtDist.initialize(),
                Xh.computeDistance(this._geom, r, this._minPtDist),
                this._maxPtDist.setMaximum(this._minPtDist)
            }
            ,
            Zh.prototype.isDone = function() {
                return !1
            }
            ,
            Zh.prototype.isGeometryChanged = function() {
                return !1
            }
            ,
            Zh.prototype.getMaxPointDistance = function() {
                return this._maxPtDist
            }
            ,
            Zh.prototype.interfaces_ = function() {
                return [vl]
            }
            ,
            Zh.prototype.getClass = function() {
                return Zh
            }
            ;
            var Qh = function(t) {
                this._comps = t || null
            };
            Qh.prototype.filter = function(t) {
                t instanceof Nl && this._comps.add(t)
            }
            ,
            Qh.prototype.interfaces_ = function() {
                return [yl]
            }
            ,
            Qh.prototype.getClass = function() {
                return Qh
            }
            ,
            Qh.getPolygons = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    return Qh.getPolygons(t, new Ju)
                }
                if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1];
                    return e instanceof Nl ? n.add(e) : e instanceof ml && e.apply(new Qh(n)),
                    n
                }
            }
            ;
            var Jh = function() {
                if (this._lines = null,
                this._isForcedToLineString = !1,
                1 === arguments.length) {
                    var t = arguments[0];
                    this._lines = t
                } else if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1];
                    this._lines = e,
                    this._isForcedToLineString = n
                }
            };
            Jh.prototype.filter = function(t) {
                if (this._isForcedToLineString && t instanceof Tl) {
                    var e = t.getFactory().createLineString(t.getCoordinateSequence());
                    return this._lines.add(e),
                    null
                }
                t instanceof Il && this._lines.add(t)
            }
            ,
            Jh.prototype.setForceToLineString = function(t) {
                this._isForcedToLineString = t
            }
            ,
            Jh.prototype.interfaces_ = function() {
                return [Gu]
            }
            ,
            Jh.prototype.getClass = function() {
                return Jh
            }
            ,
            Jh.getGeometry = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    return t.getFactory().buildGeometry(Jh.getLines(t))
                }
                if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1];
                    return e.getFactory().buildGeometry(Jh.getLines(e, n))
                }
            }
            ,
            Jh.getLines = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    return Jh.getLines(t, !1)
                }
                if (2 === arguments.length) {
                    if (ou(arguments[0], $u) && ou(arguments[1], $u)) {
                        for (var e = arguments[0], n = arguments[1], i = e.iterator(); i.hasNext(); ) {
                            var r = i.next();
                            Jh.getLines(r, n)
                        }
                        return n
                    }
                    if (arguments[0]instanceof Bu && "boolean" == typeof arguments[1]) {
                        var o = arguments[0]
                          , s = arguments[1]
                          , a = new Ju;
                        return o.apply(new Jh(a,s)),
                        a
                    }
                    if (arguments[0]instanceof Bu && ou(arguments[1], $u)) {
                        var u = arguments[0]
                          , l = arguments[1];
                        return u instanceof Il ? l.add(u) : u.apply(new Jh(l)),
                        l
                    }
                } else if (3 === arguments.length) {
                    if ("boolean" == typeof arguments[2] && ou(arguments[0], $u) && ou(arguments[1], $u)) {
                        for (var c = arguments[0], h = arguments[1], p = arguments[2], f = c.iterator(); f.hasNext(); ) {
                            var d = f.next();
                            Jh.getLines(d, h, p)
                        }
                        return h
                    }
                    if ("boolean" == typeof arguments[2] && arguments[0]instanceof Bu && ou(arguments[1], $u)) {
                        var g = arguments[0]
                          , y = arguments[1]
                          , v = arguments[2];
                        return g.apply(new Jh(y,v)),
                        y
                    }
                }
            }
            ;
            var tp = function() {
                if (this._boundaryRule = ju.OGC_SFS_BOUNDARY_RULE,
                this._isIn = null,
                this._numBoundaries = null,
                0 === arguments.length)
                    ;
                else if (1 === arguments.length) {
                    var t = arguments[0];
                    if (null === t)
                        throw new Xa("Rule must be non-null");
                    this._boundaryRule = t
                }
            };
            tp.prototype.locateInternal = function() {
                if (arguments[0]instanceof Ja && arguments[1]instanceof Nl) {
                    var t = arguments[0]
                      , e = arguments[1];
                    if (e.isEmpty())
                        return iu.EXTERIOR;
                    var n = e.getExteriorRing()
                      , i = this.locateInPolygonRing(t, n);
                    if (i === iu.EXTERIOR)
                        return iu.EXTERIOR;
                    if (i === iu.BOUNDARY)
                        return iu.BOUNDARY;
                    for (var r = 0; r < e.getNumInteriorRing(); r++) {
                        var o = e.getInteriorRingN(r)
                          , s = this.locateInPolygonRing(t, o);
                        if (s === iu.INTERIOR)
                            return iu.EXTERIOR;
                        if (s === iu.BOUNDARY)
                            return iu.BOUNDARY
                    }
                    return iu.INTERIOR
                }
                if (arguments[0]instanceof Ja && arguments[1]instanceof Il) {
                    var a = arguments[0]
                      , u = arguments[1];
                    if (!u.getEnvelopeInternal().intersects(a))
                        return iu.EXTERIOR;
                    var l = u.getCoordinates();
                    return u.isClosed() || !a.equals(l[0]) && !a.equals(l[l.length - 1]) ? ku.isOnLine(a, l) ? iu.INTERIOR : iu.EXTERIOR : iu.BOUNDARY
                }
                if (arguments[0]instanceof Ja && arguments[1]instanceof Ll) {
                    var c = arguments[0];
                    return arguments[1].getCoordinate().equals2D(c) ? iu.INTERIOR : iu.EXTERIOR
                }
            }
            ,
            tp.prototype.locateInPolygonRing = function(t, e) {
                return e.getEnvelopeInternal().intersects(t) ? ku.locatePointInRing(t, e.getCoordinates()) : iu.EXTERIOR
            }
            ,
            tp.prototype.intersects = function(t, e) {
                return this.locate(t, e) !== iu.EXTERIOR
            }
            ,
            tp.prototype.updateLocationInfo = function(t) {
                t === iu.INTERIOR && (this._isIn = !0),
                t === iu.BOUNDARY && this._numBoundaries++
            }
            ,
            tp.prototype.computeLocation = function(t, e) {
                if (e instanceof Ll && this.updateLocationInfo(this.locateInternal(t, e)),
                e instanceof Il)
                    this.updateLocationInfo(this.locateInternal(t, e));
                else if (e instanceof Nl)
                    this.updateLocationInfo(this.locateInternal(t, e));
                else if (e instanceof _l)
                    for (var n = e, i = 0; i < n.getNumGeometries(); i++) {
                        var r = n.getGeometryN(i);
                        this.updateLocationInfo(this.locateInternal(t, r))
                    }
                else if (e instanceof Ol)
                    for (var o = e, s = 0; s < o.getNumGeometries(); s++) {
                        var a = o.getGeometryN(s);
                        this.updateLocationInfo(this.locateInternal(t, a))
                    }
                else if (e instanceof ml)
                    for (var u = new yh(e); u.hasNext(); ) {
                        var l = u.next();
                        l !== e && this.computeLocation(t, l)
                    }
            }
            ,
            tp.prototype.locate = function(t, e) {
                return e.isEmpty() ? iu.EXTERIOR : e instanceof Il ? this.locateInternal(t, e) : e instanceof Nl ? this.locateInternal(t, e) : (this._isIn = !1,
                this._numBoundaries = 0,
                this.computeLocation(t, e),
                this._boundaryRule.isInBoundary(this._numBoundaries) ? iu.BOUNDARY : this._numBoundaries > 0 || this._isIn ? iu.INTERIOR : iu.EXTERIOR)
            }
            ,
            tp.prototype.interfaces_ = function() {
                return []
            }
            ,
            tp.prototype.getClass = function() {
                return tp
            }
            ;
            var ep = function t() {
                if (this._component = null,
                this._segIndex = null,
                this._pt = null,
                2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1];
                    t.call(this, e, t.INSIDE_AREA, n)
                } else if (3 === arguments.length) {
                    var i = arguments[0]
                      , r = arguments[1]
                      , o = arguments[2];
                    this._component = i,
                    this._segIndex = r,
                    this._pt = o
                }
            }
              , np = {
                INSIDE_AREA: {
                    configurable: !0
                }
            };
            ep.prototype.isInsideArea = function() {
                return this._segIndex === ep.INSIDE_AREA
            }
            ,
            ep.prototype.getCoordinate = function() {
                return this._pt
            }
            ,
            ep.prototype.getGeometryComponent = function() {
                return this._component
            }
            ,
            ep.prototype.getSegmentIndex = function() {
                return this._segIndex
            }
            ,
            ep.prototype.interfaces_ = function() {
                return []
            }
            ,
            ep.prototype.getClass = function() {
                return ep
            }
            ,
            np.INSIDE_AREA.get = function() {
                return -1
            }
            ,
            Object.defineProperties(ep, np);
            var ip = function(t) {
                this._pts = t || null
            };
            ip.prototype.filter = function(t) {
                t instanceof Ll && this._pts.add(t)
            }
            ,
            ip.prototype.interfaces_ = function() {
                return [yl]
            }
            ,
            ip.prototype.getClass = function() {
                return ip
            }
            ,
            ip.getPoints = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    return t instanceof Ll ? Nc.singletonList(t) : ip.getPoints(t, new Ju)
                }
                if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1];
                    return e instanceof Ll ? n.add(e) : e instanceof ml && e.apply(new ip(n)),
                    n
                }
            }
            ;
            var rp = function() {
                this._locations = null;
                var t = arguments[0];
                this._locations = t
            };
            rp.prototype.filter = function(t) {
                (t instanceof Ll || t instanceof Il || t instanceof Nl) && this._locations.add(new ep(t,0,t.getCoordinate()))
            }
            ,
            rp.prototype.interfaces_ = function() {
                return [yl]
            }
            ,
            rp.prototype.getClass = function() {
                return rp
            }
            ,
            rp.getLocations = function(t) {
                var e = new Ju;
                return t.apply(new rp(e)),
                e
            }
            ;
            var op = function() {
                if (this._geom = null,
                this._terminateDistance = 0,
                this._ptLocator = new tp,
                this._minDistanceLocation = null,
                this._minDistance = Wa.MAX_VALUE,
                2 === arguments.length) {
                    var t = arguments[0]
                      , e = arguments[1];
                    this._geom = [t, e],
                    this._terminateDistance = 0
                } else if (3 === arguments.length) {
                    var n = arguments[0]
                      , i = arguments[1]
                      , r = arguments[2];
                    this._geom = new Array(2).fill(null),
                    this._geom[0] = n,
                    this._geom[1] = i,
                    this._terminateDistance = r
                }
            };
            op.prototype.computeContainmentDistance = function() {
                if (0 === arguments.length) {
                    var t = new Array(2).fill(null);
                    if (this.computeContainmentDistance(0, t),
                    this._minDistance <= this._terminateDistance)
                        return null;
                    this.computeContainmentDistance(1, t)
                } else if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1]
                      , i = 1 - e
                      , r = Qh.getPolygons(this._geom[e]);
                    if (r.size() > 0) {
                        var o = rp.getLocations(this._geom[i]);
                        if (this.computeContainmentDistance(o, r, n),
                        this._minDistance <= this._terminateDistance)
                            return this._minDistanceLocation[i] = n[0],
                            this._minDistanceLocation[e] = n[1],
                            null
                    }
                } else if (3 === arguments.length)
                    if (arguments[2]instanceof Array && ou(arguments[0], Qu) && ou(arguments[1], Qu)) {
                        for (var s = arguments[0], a = arguments[1], u = arguments[2], l = 0; l < s.size(); l++)
                            for (var c = s.get(l), h = 0; h < a.size(); h++)
                                if (this.computeContainmentDistance(c, a.get(h), u),
                                this._minDistance <= this._terminateDistance)
                                    return null
                    } else if (arguments[2]instanceof Array && arguments[0]instanceof ep && arguments[1]instanceof Nl) {
                        var p = arguments[0]
                          , f = arguments[1]
                          , d = arguments[2]
                          , g = p.getCoordinate();
                        if (iu.EXTERIOR !== this._ptLocator.locate(g, f))
                            return this._minDistance = 0,
                            d[0] = p,
                            d[1] = new ep(f,g),
                            null
                    }
            }
            ,
            op.prototype.computeMinDistanceLinesPoints = function(t, e, n) {
                for (var i = 0; i < t.size(); i++)
                    for (var r = t.get(i), o = 0; o < e.size(); o++) {
                        var s = e.get(o);
                        if (this.computeMinDistance(r, s, n),
                        this._minDistance <= this._terminateDistance)
                            return null
                    }
            }
            ,
            op.prototype.computeFacetDistance = function() {
                var t = new Array(2).fill(null)
                  , e = Jh.getLines(this._geom[0])
                  , n = Jh.getLines(this._geom[1])
                  , i = ip.getPoints(this._geom[0])
                  , r = ip.getPoints(this._geom[1]);
                return this.computeMinDistanceLines(e, n, t),
                this.updateMinDistance(t, !1),
                this._minDistance <= this._terminateDistance ? null : (t[0] = null,
                t[1] = null,
                this.computeMinDistanceLinesPoints(e, r, t),
                this.updateMinDistance(t, !1),
                this._minDistance <= this._terminateDistance ? null : (t[0] = null,
                t[1] = null,
                this.computeMinDistanceLinesPoints(n, i, t),
                this.updateMinDistance(t, !0),
                this._minDistance <= this._terminateDistance ? null : (t[0] = null,
                t[1] = null,
                this.computeMinDistancePoints(i, r, t),
                void this.updateMinDistance(t, !1))))
            }
            ,
            op.prototype.nearestLocations = function() {
                return this.computeMinDistance(),
                this._minDistanceLocation
            }
            ,
            op.prototype.updateMinDistance = function(t, e) {
                if (null === t[0])
                    return null;
                e ? (this._minDistanceLocation[0] = t[1],
                this._minDistanceLocation[1] = t[0]) : (this._minDistanceLocation[0] = t[0],
                this._minDistanceLocation[1] = t[1])
            }
            ,
            op.prototype.nearestPoints = function() {
                return this.computeMinDistance(),
                [this._minDistanceLocation[0].getCoordinate(), this._minDistanceLocation[1].getCoordinate()]
            }
            ,
            op.prototype.computeMinDistance = function() {
                if (0 === arguments.length) {
                    if (null !== this._minDistanceLocation)
                        return null;
                    if (this._minDistanceLocation = new Array(2).fill(null),
                    this.computeContainmentDistance(),
                    this._minDistance <= this._terminateDistance)
                        return null;
                    this.computeFacetDistance()
                } else if (3 === arguments.length)
                    if (arguments[2]instanceof Array && arguments[0]instanceof Il && arguments[1]instanceof Ll) {
                        var t = arguments[0]
                          , e = arguments[1]
                          , n = arguments[2];
                        if (t.getEnvelopeInternal().distance(e.getEnvelopeInternal()) > this._minDistance)
                            return null;
                        for (var i = t.getCoordinates(), r = e.getCoordinate(), o = 0; o < i.length - 1; o++) {
                            var s = ku.distancePointLine(r, i[o], i[o + 1]);
                            if (s < this._minDistance) {
                                this._minDistance = s;
                                var a = new zc(i[o],i[o + 1]).closestPoint(r);
                                n[0] = new ep(t,o,a),
                                n[1] = new ep(e,0,r)
                            }
                            if (this._minDistance <= this._terminateDistance)
                                return null
                        }
                    } else if (arguments[2]instanceof Array && arguments[0]instanceof Il && arguments[1]instanceof Il) {
                        var u = arguments[0]
                          , l = arguments[1]
                          , c = arguments[2];
                        if (u.getEnvelopeInternal().distance(l.getEnvelopeInternal()) > this._minDistance)
                            return null;
                        for (var h = u.getCoordinates(), p = l.getCoordinates(), f = 0; f < h.length - 1; f++)
                            for (var d = 0; d < p.length - 1; d++) {
                                var g = ku.distanceLineLine(h[f], h[f + 1], p[d], p[d + 1]);
                                if (g < this._minDistance) {
                                    this._minDistance = g;
                                    var y = new zc(h[f],h[f + 1])
                                      , v = new zc(p[d],p[d + 1])
                                      , m = y.closestPoints(v);
                                    c[0] = new ep(u,f,m[0]),
                                    c[1] = new ep(l,d,m[1])
                                }
                                if (this._minDistance <= this._terminateDistance)
                                    return null
                            }
                    }
            }
            ,
            op.prototype.computeMinDistancePoints = function(t, e, n) {
                for (var i = 0; i < t.size(); i++)
                    for (var r = t.get(i), o = 0; o < e.size(); o++) {
                        var s = e.get(o)
                          , a = r.getCoordinate().distance(s.getCoordinate());
                        if (a < this._minDistance && (this._minDistance = a,
                        n[0] = new ep(r,0,r.getCoordinate()),
                        n[1] = new ep(s,0,s.getCoordinate())),
                        this._minDistance <= this._terminateDistance)
                            return null
                    }
            }
            ,
            op.prototype.distance = function() {
                if (null === this._geom[0] || null === this._geom[1])
                    throw new Xa("null geometries are not supported");
                return this._geom[0].isEmpty() || this._geom[1].isEmpty() ? 0 : (this.computeMinDistance(),
                this._minDistance)
            }
            ,
            op.prototype.computeMinDistanceLines = function(t, e, n) {
                for (var i = 0; i < t.size(); i++)
                    for (var r = t.get(i), o = 0; o < e.size(); o++) {
                        var s = e.get(o);
                        if (this.computeMinDistance(r, s, n),
                        this._minDistance <= this._terminateDistance)
                            return null
                    }
            }
            ,
            op.prototype.interfaces_ = function() {
                return []
            }
            ,
            op.prototype.getClass = function() {
                return op
            }
            ,
            op.distance = function(t, e) {
                return new op(t,e).distance()
            }
            ,
            op.isWithinDistance = function(t, e, n) {
                return new op(t,e,n).distance() <= n
            }
            ,
            op.nearestPoints = function(t, e) {
                return new op(t,e).nearestPoints()
            }
            ;
            var sp = function() {
                this._pt = [new Ja, new Ja],
                this._distance = Wa.NaN,
                this._isNull = !0
            };
            sp.prototype.getCoordinates = function() {
                return this._pt
            }
            ,
            sp.prototype.getCoordinate = function(t) {
                return this._pt[t]
            }
            ,
            sp.prototype.setMinimum = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    this.setMinimum(t._pt[0], t._pt[1])
                } else if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1];
                    if (this._isNull)
                        return this.initialize(e, n),
                        null;
                    var i = e.distance(n);
                    i < this._distance && this.initialize(e, n, i)
                }
            }
            ,
            sp.prototype.initialize = function() {
                if (0 === arguments.length)
                    this._isNull = !0;
                else if (2 === arguments.length) {
                    var t = arguments[0]
                      , e = arguments[1];
                    this._pt[0].setCoordinate(t),
                    this._pt[1].setCoordinate(e),
                    this._distance = t.distance(e),
                    this._isNull = !1
                } else if (3 === arguments.length) {
                    var n = arguments[0]
                      , i = arguments[1]
                      , r = arguments[2];
                    this._pt[0].setCoordinate(n),
                    this._pt[1].setCoordinate(i),
                    this._distance = r,
                    this._isNull = !1
                }
            }
            ,
            sp.prototype.toString = function() {
                return Lu.toLineString(this._pt[0], this._pt[1])
            }
            ,
            sp.prototype.getDistance = function() {
                return this._distance
            }
            ,
            sp.prototype.setMaximum = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    this.setMaximum(t._pt[0], t._pt[1])
                } else if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1];
                    if (this._isNull)
                        return this.initialize(e, n),
                        null;
                    var i = e.distance(n);
                    i > this._distance && this.initialize(e, n, i)
                }
            }
            ,
            sp.prototype.interfaces_ = function() {
                return []
            }
            ,
            sp.prototype.getClass = function() {
                return sp
            }
            ;
            var ap = function() {};
            ap.prototype.interfaces_ = function() {
                return []
            }
            ,
            ap.prototype.getClass = function() {
                return ap
            }
            ,
            ap.computeDistance = function() {
                if (arguments[2]instanceof sp && arguments[0]instanceof Il && arguments[1]instanceof Ja)
                    for (var t = arguments[0], e = arguments[1], n = arguments[2], i = new zc, r = t.getCoordinates(), o = 0; o < r.length - 1; o++) {
                        i.setCoordinates(r[o], r[o + 1]);
                        var s = i.closestPoint(e);
                        n.setMinimum(s, e)
                    }
                else if (arguments[2]instanceof sp && arguments[0]instanceof Nl && arguments[1]instanceof Ja) {
                    var a = arguments[0]
                      , u = arguments[1]
                      , l = arguments[2];
                    ap.computeDistance(a.getExteriorRing(), u, l);
                    for (var c = 0; c < a.getNumInteriorRing(); c++)
                        ap.computeDistance(a.getInteriorRingN(c), u, l)
                } else if (arguments[2]instanceof sp && arguments[0]instanceof Bu && arguments[1]instanceof Ja) {
                    var h = arguments[0]
                      , p = arguments[1]
                      , f = arguments[2];
                    if (h instanceof Il)
                        ap.computeDistance(h, p, f);
                    else if (h instanceof Nl)
                        ap.computeDistance(h, p, f);
                    else if (h instanceof ml)
                        for (var d = h, g = 0; g < d.getNumGeometries(); g++) {
                            var y = d.getGeometryN(g);
                            ap.computeDistance(y, p, f)
                        }
                    else
                        f.setMinimum(h.getCoordinate(), p)
                } else if (arguments[2]instanceof sp && arguments[0]instanceof zc && arguments[1]instanceof Ja) {
                    var v = arguments[0]
                      , m = arguments[1]
                      , _ = arguments[2]
                      , E = v.closestPoint(m);
                    _.setMinimum(E, m)
                }
            }
            ;
            var up = function() {
                this._g0 = null,
                this._g1 = null,
                this._ptDist = new sp,
                this._densifyFrac = 0;
                var t = arguments[0]
                  , e = arguments[1];
                this._g0 = t,
                this._g1 = e
            }
              , lp = {
                MaxPointDistanceFilter: {
                    configurable: !0
                },
                MaxDensifiedByFractionDistanceFilter: {
                    configurable: !0
                }
            };
            up.prototype.getCoordinates = function() {
                return this._ptDist.getCoordinates()
            }
            ,
            up.prototype.setDensifyFraction = function(t) {
                if (t > 1 || t <= 0)
                    throw new Xa("Fraction is not in range (0.0 - 1.0]");
                this._densifyFrac = t
            }
            ,
            up.prototype.compute = function(t, e) {
                this.computeOrientedDistance(t, e, this._ptDist),
                this.computeOrientedDistance(e, t, this._ptDist)
            }
            ,
            up.prototype.distance = function() {
                return this.compute(this._g0, this._g1),
                this._ptDist.getDistance()
            }
            ,
            up.prototype.computeOrientedDistance = function(t, e, n) {
                var i = new cp(e);
                if (t.apply(i),
                n.setMaximum(i.getMaxPointDistance()),
                this._densifyFrac > 0) {
                    var r = new hp(e,this._densifyFrac);
                    t.apply(r),
                    n.setMaximum(r.getMaxPointDistance())
                }
            }
            ,
            up.prototype.orientedDistance = function() {
                return this.computeOrientedDistance(this._g0, this._g1, this._ptDist),
                this._ptDist.getDistance()
            }
            ,
            up.prototype.interfaces_ = function() {
                return []
            }
            ,
            up.prototype.getClass = function() {
                return up
            }
            ,
            up.distance = function() {
                if (2 === arguments.length) {
                    var t = arguments[0]
                      , e = arguments[1];
                    return new up(t,e).distance()
                }
                if (3 === arguments.length) {
                    var n = arguments[0]
                      , i = arguments[1]
                      , r = arguments[2]
                      , o = new up(n,i);
                    return o.setDensifyFraction(r),
                    o.distance()
                }
            }
            ,
            lp.MaxPointDistanceFilter.get = function() {
                return cp
            }
            ,
            lp.MaxDensifiedByFractionDistanceFilter.get = function() {
                return hp
            }
            ,
            Object.defineProperties(up, lp);
            var cp = function() {
                this._maxPtDist = new sp,
                this._minPtDist = new sp,
                this._euclideanDist = new ap,
                this._geom = null;
                var t = arguments[0];
                this._geom = t
            };
            cp.prototype.filter = function(t) {
                this._minPtDist.initialize(),
                ap.computeDistance(this._geom, t, this._minPtDist),
                this._maxPtDist.setMaximum(this._minPtDist)
            }
            ,
            cp.prototype.getMaxPointDistance = function() {
                return this._maxPtDist
            }
            ,
            cp.prototype.interfaces_ = function() {
                return [Uu]
            }
            ,
            cp.prototype.getClass = function() {
                return cp
            }
            ;
            var hp = function() {
                this._maxPtDist = new sp,
                this._minPtDist = new sp,
                this._geom = null,
                this._numSubSegs = 0;
                var t = arguments[0]
                  , e = arguments[1];
                this._geom = t,
                this._numSubSegs = Math.trunc(Math.round(1 / e))
            };
            hp.prototype.filter = function(t, e) {
                if (0 === e)
                    return null;
                for (var n = t.getCoordinate(e - 1), i = t.getCoordinate(e), r = (i.x - n.x) / this._numSubSegs, o = (i.y - n.y) / this._numSubSegs, s = 0; s < this._numSubSegs; s++) {
                    var a = n.x + s * r
                      , u = n.y + s * o
                      , l = new Ja(a,u);
                    this._minPtDist.initialize(),
                    ap.computeDistance(this._geom, l, this._minPtDist),
                    this._maxPtDist.setMaximum(this._minPtDist)
                }
            }
            ,
            hp.prototype.isDone = function() {
                return !1
            }
            ,
            hp.prototype.isGeometryChanged = function() {
                return !1
            }
            ,
            hp.prototype.getMaxPointDistance = function() {
                return this._maxPtDist
            }
            ,
            hp.prototype.interfaces_ = function() {
                return [vl]
            }
            ,
            hp.prototype.getClass = function() {
                return hp
            }
            ;
            var pp = function(t, e, n) {
                this._minValidDistance = null,
                this._maxValidDistance = null,
                this._minDistanceFound = null,
                this._maxDistanceFound = null,
                this._isValid = !0,
                this._errMsg = null,
                this._errorLocation = null,
                this._errorIndicator = null,
                this._input = t || null,
                this._bufDistance = e || null,
                this._result = n || null
            }
              , fp = {
                VERBOSE: {
                    configurable: !0
                },
                MAX_DISTANCE_DIFF_FRAC: {
                    configurable: !0
                }
            };
            pp.prototype.checkMaximumDistance = function(t, e, n) {
                var i = new up(e,t);
                if (i.setDensifyFraction(.25),
                this._maxDistanceFound = i.orientedDistance(),
                this._maxDistanceFound > n) {
                    this._isValid = !1;
                    var r = i.getCoordinates();
                    this._errorLocation = r[1],
                    this._errorIndicator = t.getFactory().createLineString(r),
                    this._errMsg = "Distance between buffer curve and input is too large (" + this._maxDistanceFound + " at " + Lu.toLineString(r[0], r[1]) + ")"
                }
            }
            ,
            pp.prototype.isValid = function() {
                var t = Math.abs(this._bufDistance)
                  , e = pp.MAX_DISTANCE_DIFF_FRAC * t;
                return this._minValidDistance = t - e,
                this._maxValidDistance = t + e,
                !(!this._input.isEmpty() && !this._result.isEmpty()) || (this._bufDistance > 0 ? this.checkPositiveValid() : this.checkNegativeValid(),
                pp.VERBOSE && _u.out.println("Min Dist= " + this._minDistanceFound + "  err= " + (1 - this._minDistanceFound / this._bufDistance) + "  Max Dist= " + this._maxDistanceFound + "  err= " + (this._maxDistanceFound / this._bufDistance - 1)),
                this._isValid)
            }
            ,
            pp.prototype.checkNegativeValid = function() {
                if (!(this._input instanceof Nl || this._input instanceof Ol || this._input instanceof ml))
                    return null;
                var t = this.getPolygonLines(this._input);
                if (this.checkMinimumDistance(t, this._result, this._minValidDistance),
                !this._isValid)
                    return null;
                this.checkMaximumDistance(t, this._result, this._maxValidDistance)
            }
            ,
            pp.prototype.getErrorIndicator = function() {
                return this._errorIndicator
            }
            ,
            pp.prototype.checkMinimumDistance = function(t, e, n) {
                var i = new op(t,e,n);
                if (this._minDistanceFound = i.distance(),
                this._minDistanceFound < n) {
                    this._isValid = !1;
                    var r = i.nearestPoints();
                    this._errorLocation = i.nearestPoints()[1],
                    this._errorIndicator = t.getFactory().createLineString(r),
                    this._errMsg = "Distance between buffer curve and input is too small (" + this._minDistanceFound + " at " + Lu.toLineString(r[0], r[1]) + " )"
                }
            }
            ,
            pp.prototype.checkPositiveValid = function() {
                var t = this._result.getBoundary();
                if (this.checkMinimumDistance(this._input, t, this._minValidDistance),
                !this._isValid)
                    return null;
                this.checkMaximumDistance(this._input, t, this._maxValidDistance)
            }
            ,
            pp.prototype.getErrorLocation = function() {
                return this._errorLocation
            }
            ,
            pp.prototype.getPolygonLines = function(t) {
                for (var e = new Ju, n = new Jh(e), i = Qh.getPolygons(t).iterator(); i.hasNext(); )
                    i.next().apply(n);
                return t.getFactory().buildGeometry(e)
            }
            ,
            pp.prototype.getErrorMessage = function() {
                return this._errMsg
            }
            ,
            pp.prototype.interfaces_ = function() {
                return []
            }
            ,
            pp.prototype.getClass = function() {
                return pp
            }
            ,
            fp.VERBOSE.get = function() {
                return !1
            }
            ,
            fp.MAX_DISTANCE_DIFF_FRAC.get = function() {
                return .012
            }
            ,
            Object.defineProperties(pp, fp);
            var dp = function(t, e, n) {
                this._isValid = !0,
                this._errorMsg = null,
                this._errorLocation = null,
                this._errorIndicator = null,
                this._input = t || null,
                this._distance = e || null,
                this._result = n || null
            }
              , gp = {
                VERBOSE: {
                    configurable: !0
                },
                MAX_ENV_DIFF_FRAC: {
                    configurable: !0
                }
            };
            dp.prototype.isValid = function() {
                return this.checkPolygonal(),
                this._isValid ? (this.checkExpectedEmpty(),
                this._isValid ? (this.checkEnvelope(),
                this._isValid ? (this.checkArea(),
                this._isValid ? (this.checkDistance(),
                this._isValid) : this._isValid) : this._isValid) : this._isValid) : this._isValid
            }
            ,
            dp.prototype.checkEnvelope = function() {
                if (this._distance < 0)
                    return null;
                var t = this._distance * dp.MAX_ENV_DIFF_FRAC;
                0 === t && (t = .001);
                var e = new Cu(this._input.getEnvelopeInternal());
                e.expandBy(this._distance);
                var n = new Cu(this._result.getEnvelopeInternal());
                n.expandBy(t),
                n.contains(e) || (this._isValid = !1,
                this._errorMsg = "Buffer envelope is incorrect",
                this._errorIndicator = this._input.getFactory().toGeometry(n)),
                this.report("Envelope")
            }
            ,
            dp.prototype.checkDistance = function() {
                var t = new pp(this._input,this._distance,this._result);
                t.isValid() || (this._isValid = !1,
                this._errorMsg = t.getErrorMessage(),
                this._errorLocation = t.getErrorLocation(),
                this._errorIndicator = t.getErrorIndicator()),
                this.report("Distance")
            }
            ,
            dp.prototype.checkArea = function() {
                var t = this._input.getArea()
                  , e = this._result.getArea();
                this._distance > 0 && t > e && (this._isValid = !1,
                this._errorMsg = "Area of positive buffer is smaller than input",
                this._errorIndicator = this._result),
                this._distance < 0 && t < e && (this._isValid = !1,
                this._errorMsg = "Area of negative buffer is larger than input",
                this._errorIndicator = this._result),
                this.report("Area")
            }
            ,
            dp.prototype.checkPolygonal = function() {
                this._result instanceof Nl || this._result instanceof Ol || (this._isValid = !1),
                this._errorMsg = "Result is not polygonal",
                this._errorIndicator = this._result,
                this.report("Polygonal")
            }
            ,
            dp.prototype.getErrorIndicator = function() {
                return this._errorIndicator
            }
            ,
            dp.prototype.getErrorLocation = function() {
                return this._errorLocation
            }
            ,
            dp.prototype.checkExpectedEmpty = function() {
                return this._input.getDimension() >= 2 ? null : this._distance > 0 ? null : (this._result.isEmpty() || (this._isValid = !1,
                this._errorMsg = "Result is non-empty",
                this._errorIndicator = this._result),
                void this.report("ExpectedEmpty"))
            }
            ,
            dp.prototype.report = function(t) {
                if (!dp.VERBOSE)
                    return null;
                _u.out.println("Check " + t + ": " + (this._isValid ? "passed" : "FAILED"))
            }
            ,
            dp.prototype.getErrorMessage = function() {
                return this._errorMsg
            }
            ,
            dp.prototype.interfaces_ = function() {
                return []
            }
            ,
            dp.prototype.getClass = function() {
                return dp
            }
            ,
            dp.isValidMsg = function(t, e, n) {
                var i = new dp(t,e,n);
                return i.isValid() ? null : i.getErrorMessage()
            }
            ,
            dp.isValid = function(t, e, n) {
                return !!new dp(t,e,n).isValid()
            }
            ,
            gp.VERBOSE.get = function() {
                return !1
            }
            ,
            gp.MAX_ENV_DIFF_FRAC.get = function() {
                return .012
            }
            ,
            Object.defineProperties(dp, gp);
            var yp = function() {
                this._pts = null,
                this._data = null;
                var t = arguments[0]
                  , e = arguments[1];
                this._pts = t,
                this._data = e
            };
            yp.prototype.getCoordinates = function() {
                return this._pts
            }
            ,
            yp.prototype.size = function() {
                return this._pts.length
            }
            ,
            yp.prototype.getCoordinate = function(t) {
                return this._pts[t]
            }
            ,
            yp.prototype.isClosed = function() {
                return this._pts[0].equals(this._pts[this._pts.length - 1])
            }
            ,
            yp.prototype.getSegmentOctant = function(t) {
                return t === this._pts.length - 1 ? -1 : qc.octant(this.getCoordinate(t), this.getCoordinate(t + 1))
            }
            ,
            yp.prototype.setData = function(t) {
                this._data = t
            }
            ,
            yp.prototype.getData = function() {
                return this._data
            }
            ,
            yp.prototype.toString = function() {
                return Lu.toLineString(new Gl(this._pts))
            }
            ,
            yp.prototype.interfaces_ = function() {
                return [Vc]
            }
            ,
            yp.prototype.getClass = function() {
                return yp
            }
            ;
            var vp = function() {
                this._findAllIntersections = !1,
                this._isCheckEndSegmentsOnly = !1,
                this._li = null,
                this._interiorIntersection = null,
                this._intSegments = null,
                this._intersections = new Ju,
                this._intersectionCount = 0,
                this._keepIntersections = !0;
                var t = arguments[0];
                this._li = t,
                this._interiorIntersection = null
            };
            vp.prototype.getInteriorIntersection = function() {
                return this._interiorIntersection
            }
            ,
            vp.prototype.setCheckEndSegmentsOnly = function(t) {
                this._isCheckEndSegmentsOnly = t
            }
            ,
            vp.prototype.getIntersectionSegments = function() {
                return this._intSegments
            }
            ,
            vp.prototype.count = function() {
                return this._intersectionCount
            }
            ,
            vp.prototype.getIntersections = function() {
                return this._intersections
            }
            ,
            vp.prototype.setFindAllIntersections = function(t) {
                this._findAllIntersections = t
            }
            ,
            vp.prototype.setKeepIntersections = function(t) {
                this._keepIntersections = t
            }
            ,
            vp.prototype.processIntersections = function(t, e, n, i) {
                if (!this._findAllIntersections && this.hasIntersection())
                    return null;
                if (t === n && e === i)
                    return null;
                if (this._isCheckEndSegmentsOnly && !this.isEndSegment(t, e) && !this.isEndSegment(n, i))
                    return null;
                var r = t.getCoordinates()[e]
                  , o = t.getCoordinates()[e + 1]
                  , s = n.getCoordinates()[i]
                  , a = n.getCoordinates()[i + 1];
                this._li.computeIntersection(r, o, s, a),
                this._li.hasIntersection() && this._li.isInteriorIntersection() && (this._intSegments = new Array(4).fill(null),
                this._intSegments[0] = r,
                this._intSegments[1] = o,
                this._intSegments[2] = s,
                this._intSegments[3] = a,
                this._interiorIntersection = this._li.getIntersection(0),
                this._keepIntersections && this._intersections.add(this._interiorIntersection),
                this._intersectionCount++)
            }
            ,
            vp.prototype.isEndSegment = function(t, e) {
                return 0 === e || e >= t.size() - 2
            }
            ,
            vp.prototype.hasIntersection = function() {
                return null !== this._interiorIntersection
            }
            ,
            vp.prototype.isDone = function() {
                return !this._findAllIntersections && null !== this._interiorIntersection
            }
            ,
            vp.prototype.interfaces_ = function() {
                return [bh]
            }
            ,
            vp.prototype.getClass = function() {
                return vp
            }
            ,
            vp.createAllIntersectionsFinder = function(t) {
                var e = new vp(t);
                return e.setFindAllIntersections(!0),
                e
            }
            ,
            vp.createAnyIntersectionFinder = function(t) {
                return new vp(t)
            }
            ,
            vp.createIntersectionCounter = function(t) {
                var e = new vp(t);
                return e.setFindAllIntersections(!0),
                e.setKeepIntersections(!1),
                e
            }
            ;
            var mp = function() {
                this._li = new Au,
                this._segStrings = null,
                this._findAllIntersections = !1,
                this._segInt = null,
                this._isValid = !0;
                var t = arguments[0];
                this._segStrings = t
            };
            mp.prototype.execute = function() {
                if (null !== this._segInt)
                    return null;
                this.checkInteriorIntersections()
            }
            ,
            mp.prototype.getIntersections = function() {
                return this._segInt.getIntersections()
            }
            ,
            mp.prototype.isValid = function() {
                return this.execute(),
                this._isValid
            }
            ,
            mp.prototype.setFindAllIntersections = function(t) {
                this._findAllIntersections = t
            }
            ,
            mp.prototype.checkInteriorIntersections = function() {
                this._isValid = !0,
                this._segInt = new vp(this._li),
                this._segInt.setFindAllIntersections(this._findAllIntersections);
                var t = new Zc;
                if (t.setSegmentIntersector(this._segInt),
                t.computeNodes(this._segStrings),
                this._segInt.hasIntersection())
                    return this._isValid = !1,
                    null
            }
            ,
            mp.prototype.checkValid = function() {
                if (this.execute(),
                !this._isValid)
                    throw new rc(this.getErrorMessage(),this._segInt.getInteriorIntersection())
            }
            ,
            mp.prototype.getErrorMessage = function() {
                if (this._isValid)
                    return "no intersections found";
                var t = this._segInt.getIntersectionSegments();
                return "found non-noded intersection between " + Lu.toLineString(t[0], t[1]) + " and " + Lu.toLineString(t[2], t[3])
            }
            ,
            mp.prototype.interfaces_ = function() {
                return []
            }
            ,
            mp.prototype.getClass = function() {
                return mp
            }
            ,
            mp.computeIntersections = function(t) {
                var e = new mp(t);
                return e.setFindAllIntersections(!0),
                e.isValid(),
                e.getIntersections()
            }
            ;
            var _p = function t() {
                this._nv = null;
                var e = arguments[0];
                this._nv = new mp(t.toSegmentStrings(e))
            };
            _p.prototype.checkValid = function() {
                this._nv.checkValid()
            }
            ,
            _p.prototype.interfaces_ = function() {
                return []
            }
            ,
            _p.prototype.getClass = function() {
                return _p
            }
            ,
            _p.toSegmentStrings = function(t) {
                for (var e = new Ju, n = t.iterator(); n.hasNext(); ) {
                    var i = n.next();
                    e.add(new yp(i.getCoordinates(),i))
                }
                return e
            }
            ,
            _p.checkValid = function(t) {
                new _p(t).checkValid()
            }
            ;
            var Ep = function(t) {
                this._mapOp = t
            };
            Ep.prototype.map = function(t) {
                for (var e = new Ju, n = 0; n < t.getNumGeometries(); n++) {
                    var i = this._mapOp.map(t.getGeometryN(n));
                    i.isEmpty() || e.add(i)
                }
                return t.getFactory().createGeometryCollection(Xl.toGeometryArray(e))
            }
            ,
            Ep.prototype.interfaces_ = function() {
                return []
            }
            ,
            Ep.prototype.getClass = function() {
                return Ep
            }
            ,
            Ep.map = function(t, e) {
                return new Ep(e).map(t)
            }
            ;
            var Cp = function() {
                this._op = null,
                this._geometryFactory = null,
                this._ptLocator = null,
                this._lineEdgesList = new Ju,
                this._resultLineList = new Ju;
                var t = arguments[0]
                  , e = arguments[1]
                  , n = arguments[2];
                this._op = t,
                this._geometryFactory = e,
                this._ptLocator = n
            };
            Cp.prototype.collectLines = function(t) {
                for (var e = this._op.getGraph().getEdgeEnds().iterator(); e.hasNext(); ) {
                    var n = e.next();
                    this.collectLineEdge(n, t, this._lineEdgesList),
                    this.collectBoundaryTouchEdge(n, t, this._lineEdgesList)
                }
            }
            ,
            Cp.prototype.labelIsolatedLine = function(t, e) {
                var n = this._ptLocator.locate(t.getCoordinate(), this._op.getArgGeometry(e));
                t.getLabel().setLocation(e, n)
            }
            ,
            Cp.prototype.build = function(t) {
                return this.findCoveredLineEdges(),
                this.collectLines(t),
                this.buildLines(t),
                this._resultLineList
            }
            ,
            Cp.prototype.collectLineEdge = function(t, e, n) {
                var i = t.getLabel()
                  , r = t.getEdge();
                t.isLineEdge() && (t.isVisited() || !ef.isResultOfOp(i, e) || r.isCovered() || (n.add(r),
                t.setVisitedEdge(!0)))
            }
            ,
            Cp.prototype.findCoveredLineEdges = function() {
                for (var t = this._op.getGraph().getNodes().iterator(); t.hasNext(); )
                    t.next().getEdges().findCoveredLineEdges();
                for (var e = this._op.getGraph().getEdgeEnds().iterator(); e.hasNext(); ) {
                    var n = e.next()
                      , i = n.getEdge();
                    if (n.isLineEdge() && !i.isCoveredSet()) {
                        var r = this._op.isCoveredByA(n.getCoordinate());
                        i.setCovered(r)
                    }
                }
            }
            ,
            Cp.prototype.labelIsolatedLines = function(t) {
                for (var e = t.iterator(); e.hasNext(); ) {
                    var n = e.next()
                      , i = n.getLabel();
                    n.isIsolated() && (i.isNull(0) ? this.labelIsolatedLine(n, 0) : this.labelIsolatedLine(n, 1))
                }
            }
            ,
            Cp.prototype.buildLines = function(t) {
                for (var e = this._lineEdgesList.iterator(); e.hasNext(); ) {
                    var n = e.next()
                      , i = this._geometryFactory.createLineString(n.getCoordinates());
                    this._resultLineList.add(i),
                    n.setInResult(!0)
                }
            }
            ,
            Cp.prototype.collectBoundaryTouchEdge = function(t, e, n) {
                var i = t.getLabel();
                return t.isLineEdge() ? null : t.isVisited() ? null : t.isInteriorAreaEdge() ? null : t.getEdge().isInResult() ? null : (Mu.isTrue(!(t.isInResult() || t.getSym().isInResult()) || !t.getEdge().isInResult()),
                void (ef.isResultOfOp(i, e) && e === ef.INTERSECTION && (n.add(t.getEdge()),
                t.setVisitedEdge(!0))))
            }
            ,
            Cp.prototype.interfaces_ = function() {
                return []
            }
            ,
            Cp.prototype.getClass = function() {
                return Cp
            }
            ;
            var wp = function() {
                this._op = null,
                this._geometryFactory = null,
                this._resultPointList = new Ju;
                var t = arguments[0]
                  , e = arguments[1];
                this._op = t,
                this._geometryFactory = e
            };
            wp.prototype.filterCoveredNodeToPoint = function(t) {
                var e = t.getCoordinate();
                if (!this._op.isCoveredByLA(e)) {
                    var n = this._geometryFactory.createPoint(e);
                    this._resultPointList.add(n)
                }
            }
            ,
            wp.prototype.extractNonCoveredResultNodes = function(t) {
                for (var e = this._op.getGraph().getNodes().iterator(); e.hasNext(); ) {
                    var n = e.next();
                    if (!(n.isInResult() || n.isIncidentEdgeInResult() || 0 !== n.getEdges().getDegree() && t !== ef.INTERSECTION)) {
                        var i = n.getLabel();
                        ef.isResultOfOp(i, t) && this.filterCoveredNodeToPoint(n)
                    }
                }
            }
            ,
            wp.prototype.build = function(t) {
                return this.extractNonCoveredResultNodes(t),
                this._resultPointList
            }
            ,
            wp.prototype.interfaces_ = function() {
                return []
            }
            ,
            wp.prototype.getClass = function() {
                return wp
            }
            ;
            var bp = function() {
                this._inputGeom = null,
                this._factory = null,
                this._pruneEmptyGeometry = !0,
                this._preserveGeometryCollectionType = !0,
                this._preserveCollections = !1,
                this._preserveType = !1
            };
            bp.prototype.transformPoint = function(t, e) {
                return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(), t))
            }
            ,
            bp.prototype.transformPolygon = function(t, e) {
                var n = !0
                  , i = this.transformLinearRing(t.getExteriorRing(), t);
                null !== i && i instanceof Tl && !i.isEmpty() || (n = !1);
                for (var r = new Ju, o = 0; o < t.getNumInteriorRing(); o++) {
                    var s = this.transformLinearRing(t.getInteriorRingN(o), t);
                    null === s || s.isEmpty() || (s instanceof Tl || (n = !1),
                    r.add(s))
                }
                if (n)
                    return this._factory.createPolygon(i, r.toArray([]));
                var a = new Ju;
                return null !== i && a.add(i),
                a.addAll(r),
                this._factory.buildGeometry(a)
            }
            ,
            bp.prototype.createCoordinateSequence = function(t) {
                return this._factory.getCoordinateSequenceFactory().create(t)
            }
            ,
            bp.prototype.getInputGeometry = function() {
                return this._inputGeom
            }
            ,
            bp.prototype.transformMultiLineString = function(t, e) {
                for (var n = new Ju, i = 0; i < t.getNumGeometries(); i++) {
                    var r = this.transformLineString(t.getGeometryN(i), t);
                    null !== r && (r.isEmpty() || n.add(r))
                }
                return this._factory.buildGeometry(n)
            }
            ,
            bp.prototype.transformCoordinates = function(t, e) {
                return this.copy(t)
            }
            ,
            bp.prototype.transformLineString = function(t, e) {
                return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(), t))
            }
            ,
            bp.prototype.transformMultiPoint = function(t, e) {
                for (var n = new Ju, i = 0; i < t.getNumGeometries(); i++) {
                    var r = this.transformPoint(t.getGeometryN(i), t);
                    null !== r && (r.isEmpty() || n.add(r))
                }
                return this._factory.buildGeometry(n)
            }
            ,
            bp.prototype.transformMultiPolygon = function(t, e) {
                for (var n = new Ju, i = 0; i < t.getNumGeometries(); i++) {
                    var r = this.transformPolygon(t.getGeometryN(i), t);
                    null !== r && (r.isEmpty() || n.add(r))
                }
                return this._factory.buildGeometry(n)
            }
            ,
            bp.prototype.copy = function(t) {
                return t.copy()
            }
            ,
            bp.prototype.transformGeometryCollection = function(t, e) {
                for (var n = new Ju, i = 0; i < t.getNumGeometries(); i++) {
                    var r = this.transform(t.getGeometryN(i));
                    null !== r && (this._pruneEmptyGeometry && r.isEmpty() || n.add(r))
                }
                return this._preserveGeometryCollectionType ? this._factory.createGeometryCollection(Xl.toGeometryArray(n)) : this._factory.buildGeometry(n)
            }
            ,
            bp.prototype.transform = function(t) {
                if (this._inputGeom = t,
                this._factory = t.getFactory(),
                t instanceof Ll)
                    return this.transformPoint(t, null);
                if (t instanceof Ml)
                    return this.transformMultiPoint(t, null);
                if (t instanceof Tl)
                    return this.transformLinearRing(t, null);
                if (t instanceof Il)
                    return this.transformLineString(t, null);
                if (t instanceof _l)
                    return this.transformMultiLineString(t, null);
                if (t instanceof Nl)
                    return this.transformPolygon(t, null);
                if (t instanceof Ol)
                    return this.transformMultiPolygon(t, null);
                if (t instanceof ml)
                    return this.transformGeometryCollection(t, null);
                throw new Xa("Unknown Geometry subtype: " + t.getClass().getName())
            }
            ,
            bp.prototype.transformLinearRing = function(t, e) {
                var n = this.transformCoordinates(t.getCoordinateSequence(), t);
                if (null === n)
                    return this._factory.createLinearRing(null);
                var i = n.size();
                return i > 0 && i < 4 && !this._preserveType ? this._factory.createLineString(n) : this._factory.createLinearRing(n)
            }
            ,
            bp.prototype.interfaces_ = function() {
                return []
            }
            ,
            bp.prototype.getClass = function() {
                return bp
            }
            ;
            var xp = function t() {
                if (this._snapTolerance = 0,
                this._srcPts = null,
                this._seg = new zc,
                this._allowSnappingToSourceVertices = !1,
                this._isClosed = !1,
                arguments[0]instanceof Il && "number" == typeof arguments[1]) {
                    var e = arguments[0]
                      , n = arguments[1];
                    t.call(this, e.getCoordinates(), n)
                } else if (arguments[0]instanceof Array && "number" == typeof arguments[1]) {
                    var i = arguments[0]
                      , r = arguments[1];
                    this._srcPts = i,
                    this._isClosed = t.isClosed(i),
                    this._snapTolerance = r
                }
            };
            xp.prototype.snapVertices = function(t, e) {
                for (var n = this._isClosed ? t.size() - 1 : t.size(), i = 0; i < n; i++) {
                    var r = t.get(i)
                      , o = this.findSnapForVertex(r, e);
                    null !== o && (t.set(i, new Ja(o)),
                    0 === i && this._isClosed && t.set(t.size() - 1, new Ja(o)))
                }
            }
            ,
            xp.prototype.findSnapForVertex = function(t, e) {
                for (var n = 0; n < e.length; n++) {
                    if (t.equals2D(e[n]))
                        return null;
                    if (t.distance(e[n]) < this._snapTolerance)
                        return e[n]
                }
                return null
            }
            ,
            xp.prototype.snapTo = function(t) {
                var e = new el(this._srcPts);
                return this.snapVertices(e, t),
                this.snapSegments(e, t),
                e.toCoordinateArray()
            }
            ,
            xp.prototype.snapSegments = function(t, e) {
                if (0 === e.length)
                    return null;
                var n = e.length;
                e[0].equals2D(e[e.length - 1]) && (n = e.length - 1);
                for (var i = 0; i < n; i++) {
                    var r = e[i]
                      , o = this.findSegmentIndexToSnap(r, t);
                    o >= 0 && t.add(o + 1, new Ja(r), !1)
                }
            }
            ,
            xp.prototype.findSegmentIndexToSnap = function(t, e) {
                for (var n = Wa.MAX_VALUE, i = -1, r = 0; r < e.size() - 1; r++) {
                    if (this._seg.p0 = e.get(r),
                    this._seg.p1 = e.get(r + 1),
                    this._seg.p0.equals2D(t) || this._seg.p1.equals2D(t)) {
                        if (this._allowSnappingToSourceVertices)
                            continue;
                        return -1
                    }
                    var o = this._seg.distance(t);
                    o < this._snapTolerance && o < n && (n = o,
                    i = r)
                }
                return i
            }
            ,
            xp.prototype.setAllowSnappingToSourceVertices = function(t) {
                this._allowSnappingToSourceVertices = t
            }
            ,
            xp.prototype.interfaces_ = function() {
                return []
            }
            ,
            xp.prototype.getClass = function() {
                return xp
            }
            ,
            xp.isClosed = function(t) {
                return !(t.length <= 1) && t[0].equals2D(t[t.length - 1])
            }
            ;
            var Ip = function(t) {
                this._srcGeom = t || null
            }
              , Pp = {
                SNAP_PRECISION_FACTOR: {
                    configurable: !0
                }
            };
            Ip.prototype.snapTo = function(t, e) {
                var n = this.extractTargetCoordinates(t);
                return new Lp(e,n).transform(this._srcGeom)
            }
            ,
            Ip.prototype.snapToSelf = function(t, e) {
                var n = this.extractTargetCoordinates(this._srcGeom)
                  , i = new Lp(t,n,!0).transform(this._srcGeom)
                  , r = i;
                return e && ou(r, Sl) && (r = i.buffer(0)),
                r
            }
            ,
            Ip.prototype.computeSnapTolerance = function(t) {
                return this.computeMinimumSegmentLength(t) / 10
            }
            ,
            Ip.prototype.extractTargetCoordinates = function(t) {
                for (var e = new Lr, n = t.getCoordinates(), i = 0; i < n.length; i++)
                    e.add(n[i]);
                return e.toArray(new Array(0).fill(null))
            }
            ,
            Ip.prototype.computeMinimumSegmentLength = function(t) {
                for (var e = Wa.MAX_VALUE, n = 0; n < t.length - 1; n++) {
                    var i = t[n].distance(t[n + 1]);
                    i < e && (e = i)
                }
                return e
            }
            ,
            Ip.prototype.interfaces_ = function() {
                return []
            }
            ,
            Ip.prototype.getClass = function() {
                return Ip
            }
            ,
            Ip.snap = function(t, e, n) {
                var i = new Array(2).fill(null)
                  , r = new Ip(t);
                i[0] = r.snapTo(e, n);
                var o = new Ip(e);
                return i[1] = o.snapTo(i[0], n),
                i
            }
            ,
            Ip.computeOverlaySnapTolerance = function() {
                if (1 === arguments.length) {
                    var t = arguments[0]
                      , e = Ip.computeSizeBasedSnapTolerance(t)
                      , n = t.getPrecisionModel();
                    if (n.getType() === jl.FIXED) {
                        var i = 1 / n.getScale() * 2 / 1.415;
                        i > e && (e = i)
                    }
                    return e
                }
                if (2 === arguments.length) {
                    var r = arguments[0]
                      , o = arguments[1];
                    return Math.min(Ip.computeOverlaySnapTolerance(r), Ip.computeOverlaySnapTolerance(o))
                }
            }
            ,
            Ip.computeSizeBasedSnapTolerance = function(t) {
                var e = t.getEnvelopeInternal();
                return Math.min(e.getHeight(), e.getWidth()) * Ip.SNAP_PRECISION_FACTOR
            }
            ,
            Ip.snapToSelf = function(t, e, n) {
                return new Ip(t).snapToSelf(e, n)
            }
            ,
            Pp.SNAP_PRECISION_FACTOR.get = function() {
                return 1e-9
            }
            ,
            Object.defineProperties(Ip, Pp);
            var Lp = function(t) {
                function e(e, n, i) {
                    t.call(this),
                    this._snapTolerance = e || null,
                    this._snapPts = n || null,
                    this._isSelfSnap = void 0 !== i && i
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.snapLine = function(t, e) {
                    var n = new xp(t,this._snapTolerance);
                    return n.setAllowSnappingToSourceVertices(this._isSelfSnap),
                    n.snapTo(e)
                }
                ,
                e.prototype.transformCoordinates = function(t, e) {
                    var n = t.toCoordinateArray()
                      , i = this.snapLine(n, this._snapPts);
                    return this._factory.getCoordinateSequenceFactory().create(i)
                }
                ,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                e
            }(bp)
              , Sp = function() {
                this._isFirst = !0,
                this._commonMantissaBitsCount = 53,
                this._commonBits = 0,
                this._commonSignExp = null
            };
            Sp.prototype.getCommon = function() {
                return Wa.longBitsToDouble(this._commonBits)
            }
            ,
            Sp.prototype.add = function(t) {
                var e = Wa.doubleToLongBits(t);
                return this._isFirst ? (this._commonBits = e,
                this._commonSignExp = Sp.signExpBits(this._commonBits),
                this._isFirst = !1,
                null) : Sp.signExpBits(e) !== this._commonSignExp ? (this._commonBits = 0,
                null) : (this._commonMantissaBitsCount = Sp.numCommonMostSigMantissaBits(this._commonBits, e),
                void (this._commonBits = Sp.zeroLowerBits(this._commonBits, 64 - (12 + this._commonMantissaBitsCount))))
            }
            ,
            Sp.prototype.toString = function() {
                if (1 === arguments.length) {
                    var t = arguments[0]
                      , e = Wa.longBitsToDouble(t)
                      , n = "0000000000000000000000000000000000000000000000000000000000000000" + Wa.toBinaryString(t)
                      , i = n.substring(n.length - 64);
                    return i.substring(0, 1) + "  " + i.substring(1, 12) + "(exp) " + i.substring(12) + " [ " + e + " ]"
                }
            }
            ,
            Sp.prototype.interfaces_ = function() {
                return []
            }
            ,
            Sp.prototype.getClass = function() {
                return Sp
            }
            ,
            Sp.getBit = function(t, e) {
                return 0 != (t & 1 << e) ? 1 : 0
            }
            ,
            Sp.signExpBits = function(t) {
                return t >> 52
            }
            ,
            Sp.zeroLowerBits = function(t, e) {
                return t & ~((1 << e) - 1)
            }
            ,
            Sp.numCommonMostSigMantissaBits = function(t, e) {
                for (var n = 0, i = 52; i >= 0; i--) {
                    if (Sp.getBit(t, i) !== Sp.getBit(e, i))
                        return n;
                    n++
                }
                return 52
            }
            ;
            var Np = function() {
                this._commonCoord = null,
                this._ccFilter = new Tp
            }
              , Mp = {
                CommonCoordinateFilter: {
                    configurable: !0
                },
                Translater: {
                    configurable: !0
                }
            };
            Np.prototype.addCommonBits = function(t) {
                var e = new Op(this._commonCoord);
                t.apply(e),
                t.geometryChanged()
            }
            ,
            Np.prototype.removeCommonBits = function(t) {
                if (0 === this._commonCoord.x && 0 === this._commonCoord.y)
                    return t;
                var e = new Ja(this._commonCoord);
                e.x = -e.x,
                e.y = -e.y;
                var n = new Op(e);
                return t.apply(n),
                t.geometryChanged(),
                t
            }
            ,
            Np.prototype.getCommonCoordinate = function() {
                return this._commonCoord
            }
            ,
            Np.prototype.add = function(t) {
                t.apply(this._ccFilter),
                this._commonCoord = this._ccFilter.getCommonCoordinate()
            }
            ,
            Np.prototype.interfaces_ = function() {
                return []
            }
            ,
            Np.prototype.getClass = function() {
                return Np
            }
            ,
            Mp.CommonCoordinateFilter.get = function() {
                return Tp
            }
            ,
            Mp.Translater.get = function() {
                return Op
            }
            ,
            Object.defineProperties(Np, Mp);
            var Tp = function() {
                this._commonBitsX = new Sp,
                this._commonBitsY = new Sp
            };
            Tp.prototype.filter = function(t) {
                this._commonBitsX.add(t.x),
                this._commonBitsY.add(t.y)
            }
            ,
            Tp.prototype.getCommonCoordinate = function() {
                return new Ja(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())
            }
            ,
            Tp.prototype.interfaces_ = function() {
                return [Uu]
            }
            ,
            Tp.prototype.getClass = function() {
                return Tp
            }
            ;
            var Op = function() {
                this.trans = null;
                var t = arguments[0];
                this.trans = t
            };
            Op.prototype.filter = function(t, e) {
                var n = t.getOrdinate(e, 0) + this.trans.x
                  , i = t.getOrdinate(e, 1) + this.trans.y;
                t.setOrdinate(e, 0, n),
                t.setOrdinate(e, 1, i)
            }
            ,
            Op.prototype.isDone = function() {
                return !1
            }
            ,
            Op.prototype.isGeometryChanged = function() {
                return !0
            }
            ,
            Op.prototype.interfaces_ = function() {
                return [vl]
            }
            ,
            Op.prototype.getClass = function() {
                return Op
            }
            ;
            var Ap = function(t, e) {
                this._geom = new Array(2).fill(null),
                this._snapTolerance = null,
                this._cbr = null,
                this._geom[0] = t,
                this._geom[1] = e,
                this.computeSnapTolerance()
            };
            Ap.prototype.selfSnap = function(t) {
                return new Ip(t).snapTo(t, this._snapTolerance)
            }
            ,
            Ap.prototype.removeCommonBits = function(t) {
                this._cbr = new Np,
                this._cbr.add(t[0]),
                this._cbr.add(t[1]);
                var e = new Array(2).fill(null);
                return e[0] = this._cbr.removeCommonBits(t[0].copy()),
                e[1] = this._cbr.removeCommonBits(t[1].copy()),
                e
            }
            ,
            Ap.prototype.prepareResult = function(t) {
                return this._cbr.addCommonBits(t),
                t
            }
            ,
            Ap.prototype.getResultGeometry = function(t) {
                var e = this.snap(this._geom)
                  , n = ef.overlayOp(e[0], e[1], t);
                return this.prepareResult(n)
            }
            ,
            Ap.prototype.checkValid = function(t) {
                t.isValid() || _u.out.println("Snapped geometry is invalid")
            }
            ,
            Ap.prototype.computeSnapTolerance = function() {
                this._snapTolerance = Ip.computeOverlaySnapTolerance(this._geom[0], this._geom[1])
            }
            ,
            Ap.prototype.snap = function(t) {
                var e = this.removeCommonBits(t);
                return Ip.snap(e[0], e[1], this._snapTolerance)
            }
            ,
            Ap.prototype.interfaces_ = function() {
                return []
            }
            ,
            Ap.prototype.getClass = function() {
                return Ap
            }
            ,
            Ap.overlayOp = function(t, e, n) {
                return new Ap(t,e).getResultGeometry(n)
            }
            ,
            Ap.union = function(t, e) {
                return Ap.overlayOp(t, e, ef.UNION)
            }
            ,
            Ap.intersection = function(t, e) {
                return Ap.overlayOp(t, e, ef.INTERSECTION)
            }
            ,
            Ap.symDifference = function(t, e) {
                return Ap.overlayOp(t, e, ef.SYMDIFFERENCE)
            }
            ,
            Ap.difference = function(t, e) {
                return Ap.overlayOp(t, e, ef.DIFFERENCE)
            }
            ;
            var Dp = function(t, e) {
                this._geom = new Array(2).fill(null),
                this._geom[0] = t,
                this._geom[1] = e
            };
            Dp.prototype.getResultGeometry = function(t) {
                var e = null
                  , n = !1
                  , i = null;
                try {
                    e = ef.overlayOp(this._geom[0], this._geom[1], t),
                    n = !0
                } catch (t) {
                    if (!(t instanceof Su))
                        throw t;
                    i = t
                }
                if (!n)
                    try {
                        e = Ap.overlayOp(this._geom[0], this._geom[1], t)
                    } catch (t) {
                        throw t instanceof Su ? i : t
                    }
                return e
            }
            ,
            Dp.prototype.interfaces_ = function() {
                return []
            }
            ,
            Dp.prototype.getClass = function() {
                return Dp
            }
            ,
            Dp.overlayOp = function(t, e, n) {
                return new Dp(t,e).getResultGeometry(n)
            }
            ,
            Dp.union = function(t, e) {
                return Dp.overlayOp(t, e, ef.UNION)
            }
            ,
            Dp.intersection = function(t, e) {
                return Dp.overlayOp(t, e, ef.INTERSECTION)
            }
            ,
            Dp.symDifference = function(t, e) {
                return Dp.overlayOp(t, e, ef.SYMDIFFERENCE)
            }
            ,
            Dp.difference = function(t, e) {
                return Dp.overlayOp(t, e, ef.DIFFERENCE)
            }
            ;
            var Rp = function() {
                this.mce = null,
                this.chainIndex = null;
                var t = arguments[0]
                  , e = arguments[1];
                this.mce = t,
                this.chainIndex = e
            };
            Rp.prototype.computeIntersections = function(t, e) {
                this.mce.computeIntersectsForChain(this.chainIndex, t.mce, t.chainIndex, e)
            }
            ,
            Rp.prototype.interfaces_ = function() {
                return []
            }
            ,
            Rp.prototype.getClass = function() {
                return Rp
            }
            ;
            var kp = function t() {
                if (this._label = null,
                this._xValue = null,
                this._eventType = null,
                this._insertEvent = null,
                this._deleteEventIndex = null,
                this._obj = null,
                2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1];
                    this._eventType = t.DELETE,
                    this._xValue = e,
                    this._insertEvent = n
                } else if (3 === arguments.length) {
                    var i = arguments[0]
                      , r = arguments[1]
                      , o = arguments[2];
                    this._eventType = t.INSERT,
                    this._label = i,
                    this._xValue = r,
                    this._obj = o
                }
            }
              , Fp = {
                INSERT: {
                    configurable: !0
                },
                DELETE: {
                    configurable: !0
                }
            };
            kp.prototype.isDelete = function() {
                return this._eventType === kp.DELETE
            }
            ,
            kp.prototype.setDeleteEventIndex = function(t) {
                this._deleteEventIndex = t
            }
            ,
            kp.prototype.getObject = function() {
                return this._obj
            }
            ,
            kp.prototype.compareTo = function(t) {
                var e = t;
                return this._xValue < e._xValue ? -1 : this._xValue > e._xValue ? 1 : this._eventType < e._eventType ? -1 : this._eventType > e._eventType ? 1 : 0
            }
            ,
            kp.prototype.getInsertEvent = function() {
                return this._insertEvent
            }
            ,
            kp.prototype.isInsert = function() {
                return this._eventType === kp.INSERT
            }
            ,
            kp.prototype.isSameLabel = function(t) {
                return null !== this._label && this._label === t._label
            }
            ,
            kp.prototype.getDeleteEventIndex = function() {
                return this._deleteEventIndex
            }
            ,
            kp.prototype.interfaces_ = function() {
                return [Ka]
            }
            ,
            kp.prototype.getClass = function() {
                return kp
            }
            ,
            Fp.INSERT.get = function() {
                return 1
            }
            ,
            Fp.DELETE.get = function() {
                return 2
            }
            ,
            Object.defineProperties(kp, Fp);
            var Gp = function() {};
            Gp.prototype.interfaces_ = function() {
                return []
            }
            ,
            Gp.prototype.getClass = function() {
                return Gp
            }
            ;
            var Bp = function() {
                this._hasIntersection = !1,
                this._hasProper = !1,
                this._hasProperInterior = !1,
                this._properIntersectionPoint = null,
                this._li = null,
                this._includeProper = null,
                this._recordIsolated = null,
                this._isSelfIntersection = null,
                this._numIntersections = 0,
                this.numTests = 0,
                this._bdyNodes = null,
                this._isDone = !1,
                this._isDoneWhenProperInt = !1;
                var t = arguments[0]
                  , e = arguments[1]
                  , n = arguments[2];
                this._li = t,
                this._includeProper = e,
                this._recordIsolated = n
            };
            Bp.prototype.isTrivialIntersection = function(t, e, n, i) {
                if (t === n && 1 === this._li.getIntersectionNum()) {
                    if (Bp.isAdjacentSegments(e, i))
                        return !0;
                    if (t.isClosed()) {
                        var r = t.getNumPoints() - 1;
                        if (0 === e && i === r || 0 === i && e === r)
                            return !0
                    }
                }
                return !1
            }
            ,
            Bp.prototype.getProperIntersectionPoint = function() {
                return this._properIntersectionPoint
            }
            ,
            Bp.prototype.setIsDoneIfProperInt = function(t) {
                this._isDoneWhenProperInt = t
            }
            ,
            Bp.prototype.hasProperInteriorIntersection = function() {
                return this._hasProperInterior
            }
            ,
            Bp.prototype.isBoundaryPointInternal = function(t, e) {
                for (var n = e.iterator(); n.hasNext(); ) {
                    var i = n.next().getCoordinate();
                    if (t.isIntersection(i))
                        return !0
                }
                return !1
            }
            ,
            Bp.prototype.hasProperIntersection = function() {
                return this._hasProper
            }
            ,
            Bp.prototype.hasIntersection = function() {
                return this._hasIntersection
            }
            ,
            Bp.prototype.isDone = function() {
                return this._isDone
            }
            ,
            Bp.prototype.isBoundaryPoint = function(t, e) {
                return !(null === e || !this.isBoundaryPointInternal(t, e[0]) && !this.isBoundaryPointInternal(t, e[1]))
            }
            ,
            Bp.prototype.setBoundaryNodes = function(t, e) {
                this._bdyNodes = new Array(2).fill(null),
                this._bdyNodes[0] = t,
                this._bdyNodes[1] = e
            }
            ,
            Bp.prototype.addIntersections = function(t, e, n, i) {
                if (t === n && e === i)
                    return null;
                this.numTests++;
                var r = t.getCoordinates()[e]
                  , o = t.getCoordinates()[e + 1]
                  , s = n.getCoordinates()[i]
                  , a = n.getCoordinates()[i + 1];
                this._li.computeIntersection(r, o, s, a),
                this._li.hasIntersection() && (this._recordIsolated && (t.setIsolated(!1),
                n.setIsolated(!1)),
                this._numIntersections++,
                this.isTrivialIntersection(t, e, n, i) || (this._hasIntersection = !0,
                !this._includeProper && this._li.isProper() || (t.addIntersections(this._li, e, 0),
                n.addIntersections(this._li, i, 1)),
                this._li.isProper() && (this._properIntersectionPoint = this._li.getIntersection(0).copy(),
                this._hasProper = !0,
                this._isDoneWhenProperInt && (this._isDone = !0),
                this.isBoundaryPoint(this._li, this._bdyNodes) || (this._hasProperInterior = !0))))
            }
            ,
            Bp.prototype.interfaces_ = function() {
                return []
            }
            ,
            Bp.prototype.getClass = function() {
                return Bp
            }
            ,
            Bp.isAdjacentSegments = function(t, e) {
                return 1 === Math.abs(t - e)
            }
            ;
            var qp = function(t) {
                function e() {
                    t.call(this),
                    this.events = new Ju,
                    this.nOverlaps = null
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.prepareEvents = function() {
                    Nc.sort(this.events);
                    for (var t = 0; t < this.events.size(); t++) {
                        var e = this.events.get(t);
                        e.isDelete() && e.getInsertEvent().setDeleteEventIndex(t)
                    }
                }
                ,
                e.prototype.computeIntersections = function() {
                    if (1 === arguments.length) {
                        var t = arguments[0];
                        this.nOverlaps = 0,
                        this.prepareEvents();
                        for (var e = 0; e < this.events.size(); e++) {
                            var n = this.events.get(e);
                            if (n.isInsert() && this.processOverlaps(e, n.getDeleteEventIndex(), n, t),
                            t.isDone())
                                break
                        }
                    } else if (3 === arguments.length)
                        if (arguments[2]instanceof Bp && ou(arguments[0], Qu) && ou(arguments[1], Qu)) {
                            var i = arguments[0]
                              , r = arguments[1]
                              , o = arguments[2];
                            this.addEdges(i, i),
                            this.addEdges(r, r),
                            this.computeIntersections(o)
                        } else if ("boolean" == typeof arguments[2] && ou(arguments[0], Qu) && arguments[1]instanceof Bp) {
                            var s = arguments[0]
                              , a = arguments[1];
                            arguments[2] ? this.addEdges(s, null) : this.addEdges(s),
                            this.computeIntersections(a)
                        }
                }
                ,
                e.prototype.addEdge = function(t, e) {
                    for (var n = t.getMonotoneChainEdge(), i = n.getStartIndexes(), r = 0; r < i.length - 1; r++) {
                        var o = new Rp(n,r)
                          , s = new kp(e,n.getMinX(r),o);
                        this.events.add(s),
                        this.events.add(new kp(n.getMaxX(r),s))
                    }
                }
                ,
                e.prototype.processOverlaps = function(t, e, n, i) {
                    for (var r = n.getObject(), o = t; o < e; o++) {
                        var s = this.events.get(o);
                        if (s.isInsert()) {
                            var a = s.getObject();
                            n.isSameLabel(s) || (r.computeIntersections(a, i),
                            this.nOverlaps++)
                        }
                    }
                }
                ,
                e.prototype.addEdges = function() {
                    if (1 === arguments.length)
                        for (var t = arguments[0].iterator(); t.hasNext(); ) {
                            var e = t.next();
                            this.addEdge(e, e)
                        }
                    else if (2 === arguments.length)
                        for (var n = arguments[0], i = arguments[1], r = n.iterator(); r.hasNext(); ) {
                            var o = r.next();
                            this.addEdge(o, i)
                        }
                }
                ,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                e
            }(Gp)
              , Vp = function() {
                this._min = Wa.POSITIVE_INFINITY,
                this._max = Wa.NEGATIVE_INFINITY
            }
              , Up = {
                NodeComparator: {
                    configurable: !0
                }
            };
            Vp.prototype.getMin = function() {
                return this._min
            }
            ,
            Vp.prototype.intersects = function(t, e) {
                return !(this._min > e || this._max < t)
            }
            ,
            Vp.prototype.getMax = function() {
                return this._max
            }
            ,
            Vp.prototype.toString = function() {
                return Lu.toLineString(new Ja(this._min,0), new Ja(this._max,0))
            }
            ,
            Vp.prototype.interfaces_ = function() {
                return []
            }
            ,
            Vp.prototype.getClass = function() {
                return Vp
            }
            ,
            Up.NodeComparator.get = function() {
                return jp
            }
            ,
            Object.defineProperties(Vp, Up);
            var jp = function() {};
            jp.prototype.compare = function(t, e) {
                var n = t
                  , i = e
                  , r = (n._min + n._max) / 2
                  , o = (i._min + i._max) / 2;
                return r < o ? -1 : r > o ? 1 : 0
            }
            ,
            jp.prototype.interfaces_ = function() {
                return [Qa]
            }
            ,
            jp.prototype.getClass = function() {
                return jp
            }
            ;
            var zp = function(t) {
                function e() {
                    t.call(this),
                    this._item = null;
                    var e = arguments[0]
                      , n = arguments[1]
                      , i = arguments[2];
                    this._min = e,
                    this._max = n,
                    this._item = i
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.query = function(t, e, n) {
                    if (!this.intersects(t, e))
                        return null;
                    n.visitItem(this._item)
                }
                ,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                e
            }(Vp)
              , Yp = function(t) {
                function e() {
                    t.call(this),
                    this._node1 = null,
                    this._node2 = null;
                    var e = arguments[0]
                      , n = arguments[1];
                    this._node1 = e,
                    this._node2 = n,
                    this.buildExtent(this._node1, this._node2)
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.buildExtent = function(t, e) {
                    this._min = Math.min(t._min, e._min),
                    this._max = Math.max(t._max, e._max)
                }
                ,
                e.prototype.query = function(t, e, n) {
                    if (!this.intersects(t, e))
                        return null;
                    null !== this._node1 && this._node1.query(t, e, n),
                    null !== this._node2 && this._node2.query(t, e, n)
                }
                ,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                e
            }(Vp)
              , Hp = function() {
                this._leaves = new Ju,
                this._root = null,
                this._level = 0
            };
            Hp.prototype.buildTree = function() {
                Nc.sort(this._leaves, new Vp.NodeComparator);
                for (var t = this._leaves, e = null, n = new Ju; ; ) {
                    if (this.buildLevel(t, n),
                    1 === n.size())
                        return n.get(0);
                    e = t,
                    t = n,
                    n = e
                }
            }
            ,
            Hp.prototype.insert = function(t, e, n) {
                if (null !== this._root)
                    throw new Error("Index cannot be added to once it has been queried");
                this._leaves.add(new zp(t,e,n))
            }
            ,
            Hp.prototype.query = function(t, e, n) {
                this.init(),
                this._root.query(t, e, n)
            }
            ,
            Hp.prototype.buildRoot = function() {
                if (null !== this._root)
                    return null;
                this._root = this.buildTree()
            }
            ,
            Hp.prototype.printNode = function(t) {
                _u.out.println(Lu.toLineString(new Ja(t._min,this._level), new Ja(t._max,this._level)))
            }
            ,
            Hp.prototype.init = function() {
                if (null !== this._root)
                    return null;
                this.buildRoot()
            }
            ,
            Hp.prototype.buildLevel = function(t, e) {
                this._level++,
                e.clear();
                for (var n = 0; n < t.size(); n += 2) {
                    var i = t.get(n);
                    if (null === (n + 1 < t.size() ? t.get(n) : null))
                        e.add(i);
                    else {
                        var r = new Yp(t.get(n),t.get(n + 1));
                        e.add(r)
                    }
                }
            }
            ,
            Hp.prototype.interfaces_ = function() {
                return []
            }
            ,
            Hp.prototype.getClass = function() {
                return Hp
            }
            ;
            var Xp = function() {
                this._items = new Ju
            };
            Xp.prototype.visitItem = function(t) {
                this._items.add(t)
            }
            ,
            Xp.prototype.getItems = function() {
                return this._items
            }
            ,
            Xp.prototype.interfaces_ = function() {
                return [Ic]
            }
            ,
            Xp.prototype.getClass = function() {
                return Xp
            }
            ;
            var Wp = function() {
                this._index = null;
                var t = arguments[0];
                if (!ou(t, Sl))
                    throw new Xa("Argument must be Polygonal");
                this._index = new Zp(t)
            }
              , $p = {
                SegmentVisitor: {
                    configurable: !0
                },
                IntervalIndexedGeometry: {
                    configurable: !0
                }
            };
            Wp.prototype.locate = function(t) {
                var e = new Ru(t)
                  , n = new Kp(e);
                return this._index.query(t.y, t.y, n),
                e.getLocation()
            }
            ,
            Wp.prototype.interfaces_ = function() {
                return [gh]
            }
            ,
            Wp.prototype.getClass = function() {
                return Wp
            }
            ,
            $p.SegmentVisitor.get = function() {
                return Kp
            }
            ,
            $p.IntervalIndexedGeometry.get = function() {
                return Zp
            }
            ,
            Object.defineProperties(Wp, $p);
            var Kp = function() {
                this._counter = null;
                var t = arguments[0];
                this._counter = t
            };
            Kp.prototype.visitItem = function(t) {
                var e = t;
                this._counter.countSegment(e.getCoordinate(0), e.getCoordinate(1))
            }
            ,
            Kp.prototype.interfaces_ = function() {
                return [Ic]
            }
            ,
            Kp.prototype.getClass = function() {
                return Kp
            }
            ;
            var Zp = function() {
                this._index = new Hp;
                var t = arguments[0];
                this.init(t)
            };
            Zp.prototype.init = function(t) {
                for (var e = Jh.getLines(t).iterator(); e.hasNext(); ) {
                    var n = e.next().getCoordinates();
                    this.addLine(n)
                }
            }
            ,
            Zp.prototype.addLine = function(t) {
                for (var e = 1; e < t.length; e++) {
                    var n = new zc(t[e - 1],t[e])
                      , i = Math.min(n.p0.y, n.p1.y)
                      , r = Math.max(n.p0.y, n.p1.y);
                    this._index.insert(i, r, n)
                }
            }
            ,
            Zp.prototype.query = function() {
                if (2 === arguments.length) {
                    var t = arguments[0]
                      , e = arguments[1]
                      , n = new Xp;
                    return this._index.query(t, e, n),
                    n.getItems()
                }
                if (3 === arguments.length) {
                    var i = arguments[0]
                      , r = arguments[1]
                      , o = arguments[2];
                    this._index.query(i, r, o)
                }
            }
            ,
            Zp.prototype.interfaces_ = function() {
                return []
            }
            ,
            Zp.prototype.getClass = function() {
                return Zp
            }
            ;
            var Qp = function(t) {
                function e() {
                    if (t.call(this),
                    this._parentGeom = null,
                    this._lineEdgeMap = new Ul,
                    this._boundaryNodeRule = null,
                    this._useBoundaryDeterminationRule = !0,
                    this._argIndex = null,
                    this._boundaryNodes = null,
                    this._hasTooFewPoints = !1,
                    this._invalidPoint = null,
                    this._areaPtLocator = null,
                    this._ptLocator = new tp,
                    2 === arguments.length) {
                        var e = arguments[0]
                          , n = arguments[1]
                          , i = ju.OGC_SFS_BOUNDARY_RULE;
                        this._argIndex = e,
                        this._parentGeom = n,
                        this._boundaryNodeRule = i,
                        null !== n && this.add(n)
                    } else if (3 === arguments.length) {
                        var r = arguments[0]
                          , o = arguments[1]
                          , s = arguments[2];
                        this._argIndex = r,
                        this._parentGeom = o,
                        this._boundaryNodeRule = s,
                        null !== o && this.add(o)
                    }
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.insertBoundaryPoint = function(t, n) {
                    var i = this._nodes.addNode(n).getLabel()
                      , r = 1;
                    iu.NONE,
                    i.getLocation(t, ec.ON) === iu.BOUNDARY && r++;
                    var o = e.determineBoundary(this._boundaryNodeRule, r);
                    i.setLocation(t, o)
                }
                ,
                e.prototype.computeSelfNodes = function() {
                    if (2 === arguments.length) {
                        var t = arguments[0]
                          , e = arguments[1];
                        return this.computeSelfNodes(t, e, !1)
                    }
                    if (3 === arguments.length) {
                        var n = arguments[0]
                          , i = arguments[1]
                          , r = arguments[2]
                          , o = new Bp(n,!0,!1);
                        o.setIsDoneIfProperInt(r);
                        var s = this.createEdgeSetIntersector()
                          , a = this._parentGeom instanceof Tl || this._parentGeom instanceof Nl || this._parentGeom instanceof Ol
                          , u = i || !a;
                        return s.computeIntersections(this._edges, o, u),
                        this.addSelfIntersectionNodes(this._argIndex),
                        o
                    }
                }
                ,
                e.prototype.computeSplitEdges = function(t) {
                    for (var e = this._edges.iterator(); e.hasNext(); )
                        e.next().eiList.addSplitEdges(t)
                }
                ,
                e.prototype.computeEdgeIntersections = function(t, e, n) {
                    var i = new Bp(e,n,!0);
                    return i.setBoundaryNodes(this.getBoundaryNodes(), t.getBoundaryNodes()),
                    this.createEdgeSetIntersector().computeIntersections(this._edges, t._edges, i),
                    i
                }
                ,
                e.prototype.getGeometry = function() {
                    return this._parentGeom
                }
                ,
                e.prototype.getBoundaryNodeRule = function() {
                    return this._boundaryNodeRule
                }
                ,
                e.prototype.hasTooFewPoints = function() {
                    return this._hasTooFewPoints
                }
                ,
                e.prototype.addPoint = function() {
                    if (arguments[0]instanceof Ll) {
                        var t = arguments[0].getCoordinate();
                        this.insertPoint(this._argIndex, t, iu.INTERIOR)
                    } else if (arguments[0]instanceof Ja) {
                        var e = arguments[0];
                        this.insertPoint(this._argIndex, e, iu.INTERIOR)
                    }
                }
                ,
                e.prototype.addPolygon = function(t) {
                    this.addPolygonRing(t.getExteriorRing(), iu.EXTERIOR, iu.INTERIOR);
                    for (var e = 0; e < t.getNumInteriorRing(); e++) {
                        var n = t.getInteriorRingN(e);
                        this.addPolygonRing(n, iu.INTERIOR, iu.EXTERIOR)
                    }
                }
                ,
                e.prototype.addEdge = function(t) {
                    this.insertEdge(t);
                    var e = t.getCoordinates();
                    this.insertPoint(this._argIndex, e[0], iu.BOUNDARY),
                    this.insertPoint(this._argIndex, e[e.length - 1], iu.BOUNDARY)
                }
                ,
                e.prototype.addLineString = function(t) {
                    var e = nl.removeRepeatedPoints(t.getCoordinates());
                    if (e.length < 2)
                        return this._hasTooFewPoints = !0,
                        this._invalidPoint = e[0],
                        null;
                    var n = new Th(e,new uc(this._argIndex,iu.INTERIOR));
                    this._lineEdgeMap.put(t, n),
                    this.insertEdge(n),
                    Mu.isTrue(e.length >= 2, "found LineString with single point"),
                    this.insertBoundaryPoint(this._argIndex, e[0]),
                    this.insertBoundaryPoint(this._argIndex, e[e.length - 1])
                }
                ,
                e.prototype.getInvalidPoint = function() {
                    return this._invalidPoint
                }
                ,
                e.prototype.getBoundaryPoints = function() {
                    for (var t = this.getBoundaryNodes(), e = new Array(t.size()).fill(null), n = 0, i = t.iterator(); i.hasNext(); ) {
                        var r = i.next();
                        e[n++] = r.getCoordinate().copy()
                    }
                    return e
                }
                ,
                e.prototype.getBoundaryNodes = function() {
                    return null === this._boundaryNodes && (this._boundaryNodes = this._nodes.getBoundaryNodes(this._argIndex)),
                    this._boundaryNodes
                }
                ,
                e.prototype.addSelfIntersectionNode = function(t, e, n) {
                    if (this.isBoundaryNode(t, e))
                        return null;
                    n === iu.BOUNDARY && this._useBoundaryDeterminationRule ? this.insertBoundaryPoint(t, e) : this.insertPoint(t, e, n)
                }
                ,
                e.prototype.addPolygonRing = function(t, e, n) {
                    if (t.isEmpty())
                        return null;
                    var i = nl.removeRepeatedPoints(t.getCoordinates());
                    if (i.length < 4)
                        return this._hasTooFewPoints = !0,
                        this._invalidPoint = i[0],
                        null;
                    var r = e
                      , o = n;
                    ku.isCCW(i) && (r = n,
                    o = e);
                    var s = new Th(i,new uc(this._argIndex,iu.BOUNDARY,r,o));
                    this._lineEdgeMap.put(t, s),
                    this.insertEdge(s),
                    this.insertPoint(this._argIndex, i[0], iu.BOUNDARY)
                }
                ,
                e.prototype.insertPoint = function(t, e, n) {
                    var i = this._nodes.addNode(e)
                      , r = i.getLabel();
                    null === r ? i._label = new uc(t,n) : r.setLocation(t, n)
                }
                ,
                e.prototype.createEdgeSetIntersector = function() {
                    return new qp
                }
                ,
                e.prototype.addSelfIntersectionNodes = function(t) {
                    for (var e = this._edges.iterator(); e.hasNext(); )
                        for (var n = e.next(), i = n.getLabel().getLocation(t), r = n.eiList.iterator(); r.hasNext(); ) {
                            var o = r.next();
                            this.addSelfIntersectionNode(t, o.coord, i)
                        }
                }
                ,
                e.prototype.add = function() {
                    if (1 !== arguments.length)
                        return t.prototype.add.apply(this, arguments);
                    var e = arguments[0];
                    if (e.isEmpty())
                        return null;
                    if (e instanceof Ol && (this._useBoundaryDeterminationRule = !1),
                    e instanceof Nl)
                        this.addPolygon(e);
                    else if (e instanceof Il)
                        this.addLineString(e);
                    else if (e instanceof Ll)
                        this.addPoint(e);
                    else if (e instanceof Ml)
                        this.addCollection(e);
                    else if (e instanceof _l)
                        this.addCollection(e);
                    else if (e instanceof Ol)
                        this.addCollection(e);
                    else {
                        if (!(e instanceof ml))
                            throw new Error(e.getClass().getName());
                        this.addCollection(e)
                    }
                }
                ,
                e.prototype.addCollection = function(t) {
                    for (var e = 0; e < t.getNumGeometries(); e++) {
                        var n = t.getGeometryN(e);
                        this.add(n)
                    }
                }
                ,
                e.prototype.locate = function(t) {
                    return ou(this._parentGeom, Sl) && this._parentGeom.getNumGeometries() > 50 ? (null === this._areaPtLocator && (this._areaPtLocator = new Wp(this._parentGeom)),
                    this._areaPtLocator.locate(t)) : this._ptLocator.locate(t, this._parentGeom)
                }
                ,
                e.prototype.findEdge = function() {
                    if (1 === arguments.length) {
                        var e = arguments[0];
                        return this._lineEdgeMap.get(e)
                    }
                    return t.prototype.findEdge.apply(this, arguments)
                }
                ,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                e.determineBoundary = function(t, e) {
                    return t.isInBoundary(e) ? iu.BOUNDARY : iu.INTERIOR
                }
                ,
                e
            }(Ec)
              , Jp = function() {
                if (this._li = new Au,
                this._resultPrecisionModel = null,
                this._arg = null,
                1 === arguments.length) {
                    var t = arguments[0];
                    this.setComputationPrecision(t.getPrecisionModel()),
                    this._arg = new Array(1).fill(null),
                    this._arg[0] = new Qp(0,t)
                } else if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1]
                      , i = ju.OGC_SFS_BOUNDARY_RULE;
                    e.getPrecisionModel().compareTo(n.getPrecisionModel()) >= 0 ? this.setComputationPrecision(e.getPrecisionModel()) : this.setComputationPrecision(n.getPrecisionModel()),
                    this._arg = new Array(2).fill(null),
                    this._arg[0] = new Qp(0,e,i),
                    this._arg[1] = new Qp(1,n,i)
                } else if (3 === arguments.length) {
                    var r = arguments[0]
                      , o = arguments[1]
                      , s = arguments[2];
                    r.getPrecisionModel().compareTo(o.getPrecisionModel()) >= 0 ? this.setComputationPrecision(r.getPrecisionModel()) : this.setComputationPrecision(o.getPrecisionModel()),
                    this._arg = new Array(2).fill(null),
                    this._arg[0] = new Qp(0,r,s),
                    this._arg[1] = new Qp(1,o,s)
                }
            };
            Jp.prototype.getArgGeometry = function(t) {
                return this._arg[t].getGeometry()
            }
            ,
            Jp.prototype.setComputationPrecision = function(t) {
                this._resultPrecisionModel = t,
                this._li.setPrecisionModel(this._resultPrecisionModel)
            }
            ,
            Jp.prototype.interfaces_ = function() {
                return []
            }
            ,
            Jp.prototype.getClass = function() {
                return Jp
            }
            ;
            var tf = function() {};
            tf.prototype.interfaces_ = function() {
                return []
            }
            ,
            tf.prototype.getClass = function() {
                return tf
            }
            ,
            tf.map = function() {
                if (arguments[0]instanceof Bu && ou(arguments[1], tf.MapOp)) {
                    for (var t = arguments[0], e = arguments[1], n = new Ju, i = 0; i < t.getNumGeometries(); i++) {
                        var r = e.map(t.getGeometryN(i));
                        null !== r && n.add(r)
                    }
                    return t.getFactory().buildGeometry(n)
                }
                if (ou(arguments[0], $u) && ou(arguments[1], tf.MapOp)) {
                    for (var o = arguments[0], s = arguments[1], a = new Ju, u = o.iterator(); u.hasNext(); ) {
                        var l = u.next()
                          , c = s.map(l);
                        null !== c && a.add(c)
                    }
                    return a
                }
            }
            ,
            tf.MapOp = function() {}
            ;
            var ef = function(t) {
                function e() {
                    var e = arguments[0]
                      , n = arguments[1];
                    t.call(this, e, n),
                    this._ptLocator = new tp,
                    this._geomFact = null,
                    this._resultGeom = null,
                    this._graph = null,
                    this._edgeList = new wh,
                    this._resultPolyList = new Ju,
                    this._resultLineList = new Ju,
                    this._resultPointList = new Ju,
                    this._graph = new Ec(new Eh),
                    this._geomFact = e.getFactory()
                }
                return t && (e.__proto__ = t),
                e.prototype = Object.create(t && t.prototype),
                e.prototype.constructor = e,
                e.prototype.insertUniqueEdge = function(t) {
                    var e = this._edgeList.findEqualEdge(t);
                    if (null !== e) {
                        var n = e.getLabel()
                          , i = t.getLabel();
                        e.isPointwiseEqual(t) || (i = new uc(t.getLabel())).flip();
                        var r = e.getDepth();
                        r.isNull() && r.add(n),
                        r.add(i),
                        n.merge(i)
                    } else
                        this._edgeList.add(t)
                }
                ,
                e.prototype.getGraph = function() {
                    return this._graph
                }
                ,
                e.prototype.cancelDuplicateResultEdges = function() {
                    for (var t = this._graph.getEdgeEnds().iterator(); t.hasNext(); ) {
                        var e = t.next()
                          , n = e.getSym();
                        e.isInResult() && n.isInResult() && (e.setInResult(!1),
                        n.setInResult(!1))
                    }
                }
                ,
                e.prototype.isCoveredByLA = function(t) {
                    return !!this.isCovered(t, this._resultLineList) || !!this.isCovered(t, this._resultPolyList)
                }
                ,
                e.prototype.computeGeometry = function(t, n, i, r) {
                    var o = new Ju;
                    return o.addAll(t),
                    o.addAll(n),
                    o.addAll(i),
                    o.isEmpty() ? e.createEmptyResult(r, this._arg[0].getGeometry(), this._arg[1].getGeometry(), this._geomFact) : this._geomFact.buildGeometry(o)
                }
                ,
                e.prototype.mergeSymLabels = function() {
                    for (var t = this._graph.getNodes().iterator(); t.hasNext(); )
                        t.next().getEdges().mergeSymLabels()
                }
                ,
                e.prototype.isCovered = function(t, e) {
                    for (var n = e.iterator(); n.hasNext(); ) {
                        var i = n.next();
                        if (this._ptLocator.locate(t, i) !== iu.EXTERIOR)
                            return !0
                    }
                    return !1
                }
                ,
                e.prototype.replaceCollapsedEdges = function() {
                    for (var t = new Ju, e = this._edgeList.iterator(); e.hasNext(); ) {
                        var n = e.next();
                        n.isCollapsed() && (e.remove(),
                        t.add(n.getCollapsedEdge()))
                    }
                    this._edgeList.addAll(t)
                }
                ,
                e.prototype.updateNodeLabelling = function() {
                    for (var t = this._graph.getNodes().iterator(); t.hasNext(); ) {
                        var e = t.next()
                          , n = e.getEdges().getLabel();
                        e.getLabel().merge(n)
                    }
                }
                ,
                e.prototype.getResultGeometry = function(t) {
                    return this.computeOverlay(t),
                    this._resultGeom
                }
                ,
                e.prototype.insertUniqueEdges = function(t) {
                    for (var e = t.iterator(); e.hasNext(); ) {
                        var n = e.next();
                        this.insertUniqueEdge(n)
                    }
                }
                ,
                e.prototype.computeOverlay = function(t) {
                    this.copyPoints(0),
                    this.copyPoints(1),
                    this._arg[0].computeSelfNodes(this._li, !1),
                    this._arg[1].computeSelfNodes(this._li, !1),
                    this._arg[0].computeEdgeIntersections(this._arg[1], this._li, !0);
                    var e = new Ju;
                    this._arg[0].computeSplitEdges(e),
                    this._arg[1].computeSplitEdges(e),
                    this.insertUniqueEdges(e),
                    this.computeLabelsFromDepths(),
                    this.replaceCollapsedEdges(),
                    _p.checkValid(this._edgeList.getEdges()),
                    this._graph.addEdges(this._edgeList.getEdges()),
                    this.computeLabelling(),
                    this.labelIncompleteNodes(),
                    this.findResultAreaEdges(t),
                    this.cancelDuplicateResultEdges();
                    var n = new Cc(this._geomFact);
                    n.add(this._graph),
                    this._resultPolyList = n.getPolygons();
                    var i = new Cp(this,this._geomFact,this._ptLocator);
                    this._resultLineList = i.build(t);
                    var r = new wp(this,this._geomFact,this._ptLocator);
                    this._resultPointList = r.build(t),
                    this._resultGeom = this.computeGeometry(this._resultPointList, this._resultLineList, this._resultPolyList, t)
                }
                ,
                e.prototype.labelIncompleteNode = function(t, e) {
                    var n = this._ptLocator.locate(t.getCoordinate(), this._arg[e].getGeometry());
                    t.getLabel().setLocation(e, n)
                }
                ,
                e.prototype.copyPoints = function(t) {
                    for (var e = this._arg[t].getNodeIterator(); e.hasNext(); ) {
                        var n = e.next();
                        this._graph.addNode(n.getCoordinate()).setLabel(t, n.getLabel().getLocation(t))
                    }
                }
                ,
                e.prototype.findResultAreaEdges = function(t) {
                    for (var n = this._graph.getEdgeEnds().iterator(); n.hasNext(); ) {
                        var i = n.next()
                          , r = i.getLabel();
                        r.isArea() && !i.isInteriorAreaEdge() && e.isResultOfOp(r.getLocation(0, ec.RIGHT), r.getLocation(1, ec.RIGHT), t) && i.setInResult(!0)
                    }
                }
                ,
                e.prototype.computeLabelsFromDepths = function() {
                    for (var t = this._edgeList.iterator(); t.hasNext(); ) {
                        var e = t.next()
                          , n = e.getLabel()
                          , i = e.getDepth();
                        if (!i.isNull()) {
                            i.normalize();
                            for (var r = 0; r < 2; r++)
                                n.isNull(r) || !n.isArea() || i.isNull(r) || (0 === i.getDelta(r) ? n.toLine(r) : (Mu.isTrue(!i.isNull(r, ec.LEFT), "depth of LEFT side has not been initialized"),
                                n.setLocation(r, ec.LEFT, i.getLocation(r, ec.LEFT)),
                                Mu.isTrue(!i.isNull(r, ec.RIGHT), "depth of RIGHT side has not been initialized"),
                                n.setLocation(r, ec.RIGHT, i.getLocation(r, ec.RIGHT))))
                        }
                    }
                }
                ,
                e.prototype.computeLabelling = function() {
                    for (var t = this._graph.getNodes().iterator(); t.hasNext(); )
                        t.next().getEdges().computeLabelling(this._arg);
                    this.mergeSymLabels(),
                    this.updateNodeLabelling()
                }
                ,
                e.prototype.labelIncompleteNodes = function() {
                    for (var t = this._graph.getNodes().iterator(); t.hasNext(); ) {
                        var e = t.next()
                          , n = e.getLabel();
                        e.isIsolated() && (n.isNull(0) ? this.labelIncompleteNode(e, 0) : this.labelIncompleteNode(e, 1)),
                        e.getEdges().updateLabelling(n)
                    }
                }
                ,
                e.prototype.isCoveredByA = function(t) {
                    return !!this.isCovered(t, this._resultPolyList)
                }
                ,
                e.prototype.interfaces_ = function() {
                    return []
                }
                ,
                e.prototype.getClass = function() {
                    return e
                }
                ,
                e
            }(Jp);
            ef.overlayOp = function(t, e, n) {
                return new ef(t,e).getResultGeometry(n)
            }
            ,
            ef.intersection = function(t, e) {
                if (t.isEmpty() || e.isEmpty())
                    return ef.createEmptyResult(ef.INTERSECTION, t, e, t.getFactory());
                if (t.isGeometryCollection()) {
                    var n = e;
                    return Ep.map(t, {
                        interfaces_: function() {
                            return [tf.MapOp]
                        },
                        map: function(t) {
                            return t.intersection(n)
                        }
                    })
                }
                return t.checkNotGeometryCollection(t),
                t.checkNotGeometryCollection(e),
                Dp.overlayOp(t, e, ef.INTERSECTION)
            }
            ,
            ef.symDifference = function(t, e) {
                if (t.isEmpty() || e.isEmpty()) {
                    if (t.isEmpty() && e.isEmpty())
                        return ef.createEmptyResult(ef.SYMDIFFERENCE, t, e, t.getFactory());
                    if (t.isEmpty())
                        return e.copy();
                    if (e.isEmpty())
                        return t.copy()
                }
                return t.checkNotGeometryCollection(t),
                t.checkNotGeometryCollection(e),
                Dp.overlayOp(t, e, ef.SYMDIFFERENCE)
            }
            ,
            ef.resultDimension = function(t, e, n) {
                var i = e.getDimension()
                  , r = n.getDimension()
                  , o = -1;
                switch (t) {
                case ef.INTERSECTION:
                    o = Math.min(i, r);
                    break;
                case ef.UNION:
                    o = Math.max(i, r);
                    break;
                case ef.DIFFERENCE:
                    o = i;
                    break;
                case ef.SYMDIFFERENCE:
                    o = Math.max(i, r)
                }
                return o
            }
            ,
            ef.createEmptyResult = function(t, e, n, i) {
                var r = null;
                switch (ef.resultDimension(t, e, n)) {
                case -1:
                    r = i.createGeometryCollection(new Array(0).fill(null));
                    break;
                case 0:
                    r = i.createPoint();
                    break;
                case 1:
                    r = i.createLineString();
                    break;
                case 2:
                    r = i.createPolygon()
                }
                return r
            }
            ,
            ef.difference = function(t, e) {
                return t.isEmpty() ? ef.createEmptyResult(ef.DIFFERENCE, t, e, t.getFactory()) : e.isEmpty() ? t.copy() : (t.checkNotGeometryCollection(t),
                t.checkNotGeometryCollection(e),
                Dp.overlayOp(t, e, ef.DIFFERENCE))
            }
            ,
            ef.isResultOfOp = function() {
                if (2 === arguments.length) {
                    var t = arguments[0]
                      , e = arguments[1]
                      , n = t.getLocation(0)
                      , i = t.getLocation(1);
                    return ef.isResultOfOp(n, i, e)
                }
                if (3 === arguments.length) {
                    var r = arguments[0]
                      , o = arguments[1]
                      , s = arguments[2];
                    switch (r === iu.BOUNDARY && (r = iu.INTERIOR),
                    o === iu.BOUNDARY && (o = iu.INTERIOR),
                    s) {
                    case ef.INTERSECTION:
                        return r === iu.INTERIOR && o === iu.INTERIOR;
                    case ef.UNION:
                        return r === iu.INTERIOR || o === iu.INTERIOR;
                    case ef.DIFFERENCE:
                        return r === iu.INTERIOR && o !== iu.INTERIOR;
                    case ef.SYMDIFFERENCE:
                        return r === iu.INTERIOR && o !== iu.INTERIOR || r !== iu.INTERIOR && o === iu.INTERIOR
                    }
                    return !1
                }
            }
            ,
            ef.INTERSECTION = 1,
            ef.UNION = 2,
            ef.DIFFERENCE = 3,
            ef.SYMDIFFERENCE = 4;
            var nf = function() {
                this._g = null,
                this._boundaryDistanceTolerance = null,
                this._linework = null,
                this._ptLocator = new tp,
                this._seg = new zc;
                var t = arguments[0]
                  , e = arguments[1];
                this._g = t,
                this._boundaryDistanceTolerance = e,
                this._linework = this.extractLinework(t)
            };
            nf.prototype.isWithinToleranceOfBoundary = function(t) {
                for (var e = 0; e < this._linework.getNumGeometries(); e++)
                    for (var n = this._linework.getGeometryN(e).getCoordinateSequence(), i = 0; i < n.size() - 1; i++)
                        if (n.getCoordinate(i, this._seg.p0),
                        n.getCoordinate(i + 1, this._seg.p1),
                        this._seg.distance(t) <= this._boundaryDistanceTolerance)
                            return !0;
                return !1
            }
            ,
            nf.prototype.getLocation = function(t) {
                return this.isWithinToleranceOfBoundary(t) ? iu.BOUNDARY : this._ptLocator.locate(t, this._g)
            }
            ,
            nf.prototype.extractLinework = function(t) {
                var e = new rf;
                t.apply(e);
                var n = e.getLinework()
                  , i = Xl.toLineStringArray(n);
                return t.getFactory().createMultiLineString(i)
            }
            ,
            nf.prototype.interfaces_ = function() {
                return []
            }
            ,
            nf.prototype.getClass = function() {
                return nf
            }
            ;
            var rf = function() {
                this._linework = null,
                this._linework = new Ju
            };
            rf.prototype.getLinework = function() {
                return this._linework
            }
            ,
            rf.prototype.filter = function(t) {
                if (t instanceof Nl) {
                    var e = t;
                    this._linework.add(e.getExteriorRing());
                    for (var n = 0; n < e.getNumInteriorRing(); n++)
                        this._linework.add(e.getInteriorRingN(n))
                }
            }
            ,
            rf.prototype.interfaces_ = function() {
                return [yl]
            }
            ,
            rf.prototype.getClass = function() {
                return rf
            }
            ;
            var of = function() {
                this._g = null,
                this._doLeft = !0,
                this._doRight = !0;
                var t = arguments[0];
                this._g = t
            };
            of.prototype.extractPoints = function(t, e, n) {
                for (var i = t.getCoordinates(), r = 0; r < i.length - 1; r++)
                    this.computeOffsetPoints(i[r], i[r + 1], e, n)
            }
            ,
            of.prototype.setSidesToGenerate = function(t, e) {
                this._doLeft = t,
                this._doRight = e
            }
            ,
            of.prototype.getPoints = function(t) {
                for (var e = new Ju, n = Jh.getLines(this._g).iterator(); n.hasNext(); ) {
                    var i = n.next();
                    this.extractPoints(i, t, e)
                }
                return e
            }
            ,
            of.prototype.computeOffsetPoints = function(t, e, n, i) {
                var r = e.x - t.x
                  , o = e.y - t.y
                  , s = Math.sqrt(r * r + o * o)
                  , a = n * r / s
                  , u = n * o / s
                  , l = (e.x + t.x) / 2
                  , c = (e.y + t.y) / 2;
                if (this._doLeft) {
                    var h = new Ja(l - u,c + a);
                    i.add(h)
                }
                if (this._doRight) {
                    var p = new Ja(l + u,c - a);
                    i.add(p)
                }
            }
            ,
            of.prototype.interfaces_ = function() {
                return []
            }
            ,
            of.prototype.getClass = function() {
                return of
            }
            ;
            var sf = function t() {
                this._geom = null,
                this._locFinder = null,
                this._location = new Array(3).fill(null),
                this._invalidLocation = null,
                this._boundaryDistanceTolerance = t.TOLERANCE,
                this._testCoords = new Ju;
                var e = arguments[0]
                  , n = arguments[1]
                  , i = arguments[2];
                this._boundaryDistanceTolerance = t.computeBoundaryDistanceTolerance(e, n),
                this._geom = [e, n, i],
                this._locFinder = [new nf(this._geom[0],this._boundaryDistanceTolerance), new nf(this._geom[1],this._boundaryDistanceTolerance), new nf(this._geom[2],this._boundaryDistanceTolerance)]
            }
              , af = {
                TOLERANCE: {
                    configurable: !0
                }
            };
            sf.prototype.reportResult = function(t, e, n) {
                _u.out.println("Overlay result invalid - A:" + iu.toLocationSymbol(e[0]) + " B:" + iu.toLocationSymbol(e[1]) + " expected:" + (n ? "i" : "e") + " actual:" + iu.toLocationSymbol(e[2]))
            }
            ,
            sf.prototype.isValid = function(t) {
                return this.addTestPts(this._geom[0]),
                this.addTestPts(this._geom[1]),
                this.checkValid(t)
            }
            ,
            sf.prototype.checkValid = function() {
                if (1 === arguments.length) {
                    for (var t = arguments[0], e = 0; e < this._testCoords.size(); e++) {
                        var n = this._testCoords.get(e);
                        if (!this.checkValid(t, n))
                            return this._invalidLocation = n,
                            !1
                    }
                    return !0
                }
                if (2 === arguments.length) {
                    var i = arguments[0]
                      , r = arguments[1];
                    return this._location[0] = this._locFinder[0].getLocation(r),
                    this._location[1] = this._locFinder[1].getLocation(r),
                    this._location[2] = this._locFinder[2].getLocation(r),
                    !!sf.hasLocation(this._location, iu.BOUNDARY) || this.isValidResult(i, this._location)
                }
            }
            ,
            sf.prototype.addTestPts = function(t) {
                var e = new of(t);
                this._testCoords.addAll(e.getPoints(5 * this._boundaryDistanceTolerance))
            }
            ,
            sf.prototype.isValidResult = function(t, e) {
                var n = ef.isResultOfOp(e[0], e[1], t)
                  , i = !(n ^ e[2] === iu.INTERIOR);
                return i || this.reportResult(t, e, n),
                i
            }
            ,
            sf.prototype.getInvalidLocation = function() {
                return this._invalidLocation
            }
            ,
            sf.prototype.interfaces_ = function() {
                return []
            }
            ,
            sf.prototype.getClass = function() {
                return sf
            }
            ,
            sf.hasLocation = function(t, e) {
                for (var n = 0; n < 3; n++)
                    if (t[n] === e)
                        return !0;
                return !1
            }
            ,
            sf.computeBoundaryDistanceTolerance = function(t, e) {
                return Math.min(Ip.computeSizeBasedSnapTolerance(t), Ip.computeSizeBasedSnapTolerance(e))
            }
            ,
            sf.isValid = function(t, e, n, i) {
                return new sf(t,e,i).isValid(n)
            }
            ,
            af.TOLERANCE.get = function() {
                return 1e-6
            }
            ,
            Object.defineProperties(sf, af);
            var uf = function t(e) {
                this._geomFactory = null,
                this._skipEmpty = !1,
                this._inputGeoms = null,
                this._geomFactory = t.extractFactory(e),
                this._inputGeoms = e
            };
            uf.prototype.extractElements = function(t, e) {
                if (null === t)
                    return null;
                for (var n = 0; n < t.getNumGeometries(); n++) {
                    var i = t.getGeometryN(n);
                    this._skipEmpty && i.isEmpty() || e.add(i)
                }
            }
            ,
            uf.prototype.combine = function() {
                for (var t = new Ju, e = this._inputGeoms.iterator(); e.hasNext(); ) {
                    var n = e.next();
                    this.extractElements(n, t)
                }
                return 0 === t.size() ? null !== this._geomFactory ? this._geomFactory.createGeometryCollection(null) : null : this._geomFactory.buildGeometry(t)
            }
            ,
            uf.prototype.interfaces_ = function() {
                return []
            }
            ,
            uf.prototype.getClass = function() {
                return uf
            }
            ,
            uf.combine = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    return new uf(t).combine()
                }
                if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1];
                    return new uf(uf.createList(e, n)).combine()
                }
                if (3 === arguments.length) {
                    var i = arguments[0]
                      , r = arguments[1]
                      , o = arguments[2];
                    return new uf(uf.createList(i, r, o)).combine()
                }
            }
            ,
            uf.extractFactory = function(t) {
                return t.isEmpty() ? null : t.iterator().next().getFactory()
            }
            ,
            uf.createList = function() {
                if (2 === arguments.length) {
                    var t = arguments[0]
                      , e = arguments[1]
                      , n = new Ju;
                    return n.add(t),
                    n.add(e),
                    n
                }
                if (3 === arguments.length) {
                    var i = arguments[0]
                      , r = arguments[1]
                      , o = arguments[2]
                      , s = new Ju;
                    return s.add(i),
                    s.add(r),
                    s.add(o),
                    s
                }
            }
            ;
            var lf = function() {
                this._inputPolys = null,
                this._geomFactory = null;
                var t = arguments[0];
                this._inputPolys = t,
                null === this._inputPolys && (this._inputPolys = new Ju)
            }
              , cf = {
                STRTREE_NODE_CAPACITY: {
                    configurable: !0
                }
            };
            lf.prototype.reduceToGeometries = function(t) {
                for (var e = new Ju, n = t.iterator(); n.hasNext(); ) {
                    var i = n.next()
                      , r = null;
                    ou(i, Qu) ? r = this.unionTree(i) : i instanceof Bu && (r = i),
                    e.add(r)
                }
                return e
            }
            ,
            lf.prototype.extractByEnvelope = function(t, e, n) {
                for (var i = new Ju, r = 0; r < e.getNumGeometries(); r++) {
                    var o = e.getGeometryN(r);
                    o.getEnvelopeInternal().intersects(t) ? i.add(o) : n.add(o)
                }
                return this._geomFactory.buildGeometry(i)
            }
            ,
            lf.prototype.unionOptimized = function(t, e) {
                var n = t.getEnvelopeInternal()
                  , i = e.getEnvelopeInternal();
                if (!n.intersects(i))
                    return uf.combine(t, e);
                if (t.getNumGeometries() <= 1 && e.getNumGeometries() <= 1)
                    return this.unionActual(t, e);
                var r = n.intersection(i);
                return this.unionUsingEnvelopeIntersection(t, e, r)
            }
            ,
            lf.prototype.union = function() {
                if (null === this._inputPolys)
                    throw new Error("union() method cannot be called twice");
                if (this._inputPolys.isEmpty())
                    return null;
                this._geomFactory = this._inputPolys.iterator().next().getFactory();
                for (var t = new Rc(lf.STRTREE_NODE_CAPACITY), e = this._inputPolys.iterator(); e.hasNext(); ) {
                    var n = e.next();
                    t.insert(n.getEnvelopeInternal(), n)
                }
                this._inputPolys = null;
                var i = t.itemsTree();
                return this.unionTree(i)
            }
            ,
            lf.prototype.binaryUnion = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    return this.binaryUnion(t, 0, t.size())
                }
                if (3 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1]
                      , i = arguments[2];
                    if (i - n <= 1) {
                        var r = lf.getGeometry(e, n);
                        return this.unionSafe(r, null)
                    }
                    if (i - n == 2)
                        return this.unionSafe(lf.getGeometry(e, n), lf.getGeometry(e, n + 1));
                    var o = Math.trunc((i + n) / 2)
                      , s = this.binaryUnion(e, n, o)
                      , a = this.binaryUnion(e, o, i);
                    return this.unionSafe(s, a)
                }
            }
            ,
            lf.prototype.repeatedUnion = function(t) {
                for (var e = null, n = t.iterator(); n.hasNext(); ) {
                    var i = n.next();
                    e = null === e ? i.copy() : e.union(i)
                }
                return e
            }
            ,
            lf.prototype.unionSafe = function(t, e) {
                return null === t && null === e ? null : null === t ? e.copy() : null === e ? t.copy() : this.unionOptimized(t, e)
            }
            ,
            lf.prototype.unionActual = function(t, e) {
                return lf.restrictToPolygons(t.union(e))
            }
            ,
            lf.prototype.unionTree = function(t) {
                var e = this.reduceToGeometries(t);
                return this.binaryUnion(e)
            }
            ,
            lf.prototype.unionUsingEnvelopeIntersection = function(t, e, n) {
                var i = new Ju
                  , r = this.extractByEnvelope(n, t, i)
                  , o = this.extractByEnvelope(n, e, i)
                  , s = this.unionActual(r, o);
                return i.add(s),
                uf.combine(i)
            }
            ,
            lf.prototype.bufferUnion = function() {
                if (1 === arguments.length) {
                    var t = arguments[0];
                    return t.get(0).getFactory().buildGeometry(t).buffer(0)
                }
                if (2 === arguments.length) {
                    var e = arguments[0]
                      , n = arguments[1];
                    return e.getFactory().createGeometryCollection([e, n]).buffer(0)
                }
            }
            ,
            lf.prototype.interfaces_ = function() {
                return []
            }
            ,
            lf.prototype.getClass = function() {
                return lf
            }
            ,
            lf.restrictToPolygons = function(t) {
                if (ou(t, Sl))
                    return t;
                var e = Qh.getPolygons(t);
                return 1 === e.size() ? e.get(0) : t.getFactory().createMultiPolygon(Xl.toPolygonArray(e))
            }
            ,
            lf.getGeometry = function(t, e) {
                return e >= t.size() ? null : t.get(e)
            }
            ,
            lf.union = function(t) {
                return new lf(t).union()
            }
            ,
            cf.STRTREE_NODE_CAPACITY.get = function() {
                return 4
            }
            ,
            Object.defineProperties(lf, cf);
            var hf = function() {};
            hf.prototype.interfaces_ = function() {
                return []
            }
            ,
            hf.prototype.getClass = function() {
                return hf
            }
            ,
            hf.union = function(t, e) {
                if (t.isEmpty() || e.isEmpty()) {
                    if (t.isEmpty() && e.isEmpty())
                        return ef.createEmptyResult(ef.UNION, t, e, t.getFactory());
                    if (t.isEmpty())
                        return e.copy();
                    if (e.isEmpty())
                        return t.copy()
                }
                return t.checkNotGeometryCollection(t),
                t.checkNotGeometryCollection(e),
                Dp.overlayOp(t, e, ef.UNION)
            }
            ;
            var pf = function() {
                return new Or
            };
            Or.prototype = {
                constructor: Or,
                reset: function() {
                    this.s = this.t = 0
                },
                add: function(t) {
                    Ar(ff, t, this.t),
                    Ar(this, ff.s, this.s),
                    this.s ? this.t += ff.t : this.s = ff.t
                },
                valueOf: function() {
                    return this.s
                }
            };
            var ff = new Or
              , df = 1e-6
              , gf = Math.PI
              , yf = gf / 2
              , vf = gf / 4
              , mf = 2 * gf
              , _f = 180 / gf
              , Ef = gf / 180
              , Cf = Math.abs
              , wf = Math.atan
              , bf = Math.atan2
              , xf = Math.cos
              , If = Math.exp
              , Pf = Math.log
              , Lf = Math.sin
              , Sf = Math.sqrt
              , Nf = Math.tan
              , Mf = {
                Feature: function(t, e) {
                    kr(t.geometry, e)
                },
                FeatureCollection: function(t, e) {
                    for (var n = t.features, i = -1, r = n.length; ++i < r; )
                        kr(n[i].geometry, e)
                }
            }
              , Tf = {
                Sphere: function(t, e) {
                    e.sphere()
                },
                Point: function(t, e) {
                    t = t.coordinates,
                    e.point(t[0], t[1], t[2])
                },
                MultiPoint: function(t, e) {
                    for (var n = t.coordinates, i = -1, r = n.length; ++i < r; )
                        t = n[i],
                        e.point(t[0], t[1], t[2])
                },
                LineString: function(t, e) {
                    Fr(t.coordinates, e, 0)
                },
                MultiLineString: function(t, e) {
                    for (var n = t.coordinates, i = -1, r = n.length; ++i < r; )
                        Fr(n[i], e, 0)
                },
                Polygon: function(t, e) {
                    Gr(t.coordinates, e)
                },
                MultiPolygon: function(t, e) {
                    for (var n = t.coordinates, i = -1, r = n.length; ++i < r; )
                        Gr(n[i], e)
                },
                GeometryCollection: function(t, e) {
                    for (var n = t.geometries, i = -1, r = n.length; ++i < r; )
                        kr(n[i], e)
                }
            }
              , Of = function(t, e) {
                t && Mf.hasOwnProperty(t.type) ? Mf[t.type](t, e) : kr(t, e)
            }
              , Af = (pf(),
            pf(),
            pf(),
            function(t, e) {
                function n(n, i) {
                    return n = t(n, i),
                    e(n[0], n[1])
                }
                return t.invert && e.invert && (n.invert = function(n, i) {
                    return (n = e.invert(n, i)) && t.invert(n[0], n[1])
                }
                ),
                n
            }
            );
            Hr.invert = Hr;
            var Df = function(t) {
                function e(e) {
                    return (e = t(e[0] * Ef, e[1] * Ef))[0] *= _f,
                    e[1] *= _f,
                    e
                }
                return t = Xr(t[0] * Ef, t[1] * Ef, t.length > 2 ? t[2] * Ef : 0),
                e.invert = function(e) {
                    return (e = t.invert(e[0] * Ef, e[1] * Ef))[0] *= _f,
                    e[1] *= _f,
                    e
                }
                ,
                e
            }
              , Rf = function() {
                var t, e = [];
                return {
                    point: function(e, n) {
                        t.push([e, n])
                    },
                    lineStart: function() {
                        e.push(t = [])
                    },
                    lineEnd: Rr,
                    rejoin: function() {
                        e.length > 1 && e.push(e.pop().concat(e.shift()))
                    },
                    result: function() {
                        var n = e;
                        return e = [],
                        t = null,
                        n
                    }
                }
            }
              , kf = function(t, e, n, i, r, o) {
                var s, a = t[0], u = t[1], l = 0, c = 1, h = e[0] - a, p = e[1] - u;
                if (s = n - a,
                h || !(s > 0)) {
                    if (s /= h,
                    h < 0) {
                        if (s < l)
                            return;
                        s < c && (c = s)
                    } else if (h > 0) {
                        if (s > c)
                            return;
                        s > l && (l = s)
                    }
                    if (s = r - a,
                    h || !(s < 0)) {
                        if (s /= h,
                        h < 0) {
                            if (s > c)
                                return;
                            s > l && (l = s)
                        } else if (h > 0) {
                            if (s < l)
                                return;
                            s < c && (c = s)
                        }
                        if (s = i - u,
                        p || !(s > 0)) {
                            if (s /= p,
                            p < 0) {
                                if (s < l)
                                    return;
                                s < c && (c = s)
                            } else if (p > 0) {
                                if (s > c)
                                    return;
                                s > l && (l = s)
                            }
                            if (s = o - u,
                            p || !(s < 0)) {
                                if (s /= p,
                                p < 0) {
                                    if (s > c)
                                        return;
                                    s > l && (l = s)
                                } else if (p > 0) {
                                    if (s < l)
                                        return;
                                    s < c && (c = s)
                                }
                                return l > 0 && (t[0] = a + l * h,
                                t[1] = u + l * p),
                                c < 1 && (e[0] = a + c * h,
                                e[1] = u + c * p),
                                !0
                            }
                        }
                    }
                }
            }
              , Ff = function(t, e) {
                return Cf(t[0] - e[0]) < df && Cf(t[1] - e[1]) < df
            }
              , Gf = function(t, e, n, i, r) {
                var o, s, a = [], u = [];
                if (t.forEach(function(t) {
                    if (!((e = t.length - 1) <= 0)) {
                        var e, n, i = t[0], s = t[e];
                        if (Ff(i, s)) {
                            for (r.lineStart(),
                            o = 0; o < e; ++o)
                                r.point((i = t[o])[0], i[1]);
                            r.lineEnd()
                        } else
                            a.push(n = new Qr(i,t,null,!0)),
                            u.push(n.o = new Qr(i,null,n,!1)),
                            a.push(n = new Qr(s,t,null,!1)),
                            u.push(n.o = new Qr(s,null,n,!0))
                    }
                }),
                a.length) {
                    for (u.sort(e),
                    Jr(a),
                    Jr(u),
                    o = 0,
                    s = u.length; o < s; ++o)
                        u[o].e = n = !n;
                    for (var l, c, h = a[0]; ; ) {
                        for (var p = h, f = !0; p.v; )
                            if ((p = p.n) === h)
                                return;
                        l = p.z,
                        r.lineStart();
                        do {
                            if (p.v = p.o.v = !0,
                            p.e) {
                                if (f)
                                    for (o = 0,
                                    s = l.length; o < s; ++o)
                                        r.point((c = l[o])[0], c[1]);
                                else
                                    i(p.x, p.n.x, 1, r);
                                p = p.n
                            } else {
                                if (f)
                                    for (l = p.p.z,
                                    o = l.length - 1; o >= 0; --o)
                                        r.point((c = l[o])[0], c[1]);
                                else
                                    i(p.x, p.p.x, -1, r);
                                p = p.p
                            }
                            l = (p = p.o).z,
                            f = !f
                        } while (!p.v);
                        r.lineEnd()
                    }
                }
            }
              , Bf = function(t, e) {
                return t < e ? -1 : t > e ? 1 : t >= e ? 0 : NaN
            }
              , qf = (function(t) {
                1 === t.length && (t = function(t) {
                    return function(e, n) {
                        return Bf(t(e), n)
                    }
                }(t))
            }(Bf),
            function(t) {
                for (var e, n, i, r = t.length, o = -1, s = 0; ++o < r; )
                    s += t[o].length;
                for (n = new Array(s); --r >= 0; )
                    for (e = (i = t[r]).length; --e >= 0; )
                        n[--s] = i[e];
                return n
            }
            )
              , Vf = 1e9
              , Uf = -Vf
              , jf = pf()
              , zf = (pf(),
            function(t) {
                return t
            }
            )
              , Yf = (pf(),
            pf(),
            1 / 0)
              , Hf = Yf
              , Xf = -Yf
              , Wf = Xf
              , $f = {
                point: function(t, e) {
                    t < Yf && (Yf = t),
                    t > Xf && (Xf = t),
                    e < Hf && (Hf = e),
                    e > Wf && (Wf = e)
                },
                lineStart: Rr,
                lineEnd: Rr,
                polygonStart: Rr,
                polygonEnd: Rr,
                result: function() {
                    var t = [[Yf, Hf], [Xf, Wf]];
                    return Xf = Wf = -(Hf = Yf = 1 / 0),
                    t
                }
            }
              , Kf = (pf(),
            function(t, e, n, i) {
                return function(r, o) {
                    function s(e, n) {
                        var i = r(e, n);
                        t(e = i[0], n = i[1]) && o.point(e, n)
                    }
                    function a(t, e) {
                        var n = r(t, e);
                        y.point(n[0], n[1])
                    }
                    function u() {
                        C.point = a,
                        y.lineStart()
                    }
                    function l() {
                        C.point = s,
                        y.lineEnd()
                    }
                    function c(t, e) {
                        g.push([t, e]);
                        var n = r(t, e);
                        _.point(n[0], n[1])
                    }
                    function h() {
                        _.lineStart(),
                        g = []
                    }
                    function p() {
                        c(g[0][0], g[0][1]),
                        _.lineEnd();
                        var t, e, n, i, r = _.clean(), s = m.result(), a = s.length;
                        if (g.pop(),
                        f.push(g),
                        g = null,
                        a)
                            if (1 & r) {
                                if ((e = (n = s[0]).length - 1) > 0) {
                                    for (E || (o.polygonStart(),
                                    E = !0),
                                    o.lineStart(),
                                    t = 0; t < e; ++t)
                                        o.point((i = n[t])[0], i[1]);
                                    o.lineEnd()
                                }
                            } else
                                a > 1 && 2 & r && s.push(s.pop().concat(s.shift())),
                                d.push(s.filter(to))
                    }
                    var f, d, g, y = e(o), v = r.invert(i[0], i[1]), m = Rf(), _ = e(m), E = !1, C = {
                        point: s,
                        lineStart: u,
                        lineEnd: l,
                        polygonStart: function() {
                            C.point = c,
                            C.lineStart = h,
                            C.lineEnd = p,
                            d = [],
                            f = []
                        },
                        polygonEnd: function() {
                            C.point = s,
                            C.lineStart = u,
                            C.lineEnd = l,
                            d = qf(d);
                            var t = function(t, e) {
                                var n = e[0]
                                  , i = e[1]
                                  , r = [Lf(n), -xf(n), 0]
                                  , o = 0
                                  , s = 0;
                                jf.reset();
                                for (var a = 0, u = t.length; a < u; ++a)
                                    if (c = (l = t[a]).length)
                                        for (var l, c, h = l[c - 1], p = h[0], f = h[1] / 2 + vf, d = Lf(f), g = xf(f), y = 0; y < c; ++y,
                                        p = m,
                                        d = E,
                                        g = C,
                                        h = v) {
                                            var v = l[y]
                                              , m = v[0]
                                              , _ = v[1] / 2 + vf
                                              , E = Lf(_)
                                              , C = xf(_)
                                              , w = m - p
                                              , b = w >= 0 ? 1 : -1
                                              , x = b * w
                                              , I = x > gf
                                              , P = d * E;
                                            if (jf.add(bf(P * b * Lf(x), g * C + P * xf(x))),
                                            o += I ? w + b * mf : w,
                                            I ^ p >= n ^ m >= n) {
                                                var L = Ur(qr(h), qr(v));
                                                Yr(L);
                                                var S = Ur(r, L);
                                                Yr(S);
                                                var N = (I ^ w >= 0 ? -1 : 1) * Dr(S[2]);
                                                (i > N || i === N && (L[0] || L[1])) && (s += I ^ w >= 0 ? 1 : -1)
                                            }
                                        }
                                return (o < -df || o < df && jf < -df) ^ 1 & s
                            }(f, v);
                            d.length ? (E || (o.polygonStart(),
                            E = !0),
                            Gf(d, eo, t, n, o)) : t && (E || (o.polygonStart(),
                            E = !0),
                            o.lineStart(),
                            n(null, null, 1, o),
                            o.lineEnd()),
                            E && (o.polygonEnd(),
                            E = !1),
                            d = f = null
                        },
                        sphere: function() {
                            o.polygonStart(),
                            o.lineStart(),
                            n(null, null, 1, o),
                            o.lineEnd(),
                            o.polygonEnd()
                        }
                    };
                    return C
                }
            }
            )
              , Zf = Kf(function() {
                return !0
            }, function(t) {
                var e, n = NaN, i = NaN, r = NaN;
                return {
                    lineStart: function() {
                        t.lineStart(),
                        e = 1
                    },
                    point: function(o, s) {
                        var a = o > 0 ? gf : -gf
                          , u = Cf(o - n);
                        Cf(u - gf) < df ? (t.point(n, i = (i + s) / 2 > 0 ? yf : -yf),
                        t.point(r, i),
                        t.lineEnd(),
                        t.lineStart(),
                        t.point(a, i),
                        t.point(o, i),
                        e = 0) : r !== a && u >= gf && (Cf(n - r) < df && (n -= r * df),
                        Cf(o - a) < df && (o -= a * df),
                        i = function(t, e, n, i) {
                            var r, o, s = Lf(t - n);
                            return Cf(s) > df ? wf((Lf(e) * (o = xf(i)) * Lf(n) - Lf(i) * (r = xf(e)) * Lf(t)) / (r * o * s)) : (e + i) / 2
                        }(n, i, o, s),
                        t.point(r, i),
                        t.lineEnd(),
                        t.lineStart(),
                        t.point(a, i),
                        e = 0),
                        t.point(n = o, i = s),
                        r = a
                    },
                    lineEnd: function() {
                        t.lineEnd(),
                        n = i = NaN
                    },
                    clean: function() {
                        return 2 - e
                    }
                }
            }, function(t, e, n, i) {
                var r;
                if (null == t)
                    r = n * yf,
                    i.point(-gf, r),
                    i.point(0, r),
                    i.point(gf, r),
                    i.point(gf, 0),
                    i.point(gf, -r),
                    i.point(0, -r),
                    i.point(-gf, -r),
                    i.point(-gf, 0),
                    i.point(-gf, r);
                else if (Cf(t[0] - e[0]) > df) {
                    var o = t[0] < e[0] ? gf : -gf;
                    r = n * o / 2,
                    i.point(-o, r),
                    i.point(0, r),
                    i.point(o, r)
                } else
                    i.point(e[0], e[1])
            }, [-gf, -yf])
              , Qf = function(t, e) {
                function n(t, e) {
                    return xf(t) * xf(e) > o
                }
                function i(t, e, n) {
                    var i = [1, 0, 0]
                      , r = Ur(qr(t), qr(e))
                      , s = Vr(r, r)
                      , a = r[0]
                      , u = s - a * a;
                    if (!u)
                        return !n && t;
                    var l = o * s / u
                      , c = -o * a / u
                      , h = Ur(i, r)
                      , p = zr(i, l);
                    jr(p, zr(r, c));
                    var f = h
                      , d = Vr(p, f)
                      , g = Vr(f, f)
                      , y = d * d - g * (Vr(p, p) - 1);
                    if (!(y < 0)) {
                        var v = Sf(y)
                          , m = zr(f, (-d - v) / g);
                        if (jr(m, p),
                        m = Br(m),
                        !n)
                            return m;
                        var _, E = t[0], C = e[0], w = t[1], b = e[1];
                        C < E && (_ = E,
                        E = C,
                        C = _);
                        var x = C - E
                          , I = Cf(x - gf) < df;
                        if (!I && b < w && (_ = w,
                        w = b,
                        b = _),
                        I || x < df ? I ? w + b > 0 ^ m[1] < (Cf(m[0] - E) < df ? w : b) : w <= m[1] && m[1] <= b : x > gf ^ (E <= m[0] && m[0] <= C)) {
                            var P = zr(f, (-d + v) / g);
                            return jr(P, p),
                            [m, Br(P)]
                        }
                    }
                }
                function r(e, n) {
                    var i = s ? t : gf - t
                      , r = 0;
                    return e < -i ? r |= 1 : e > i && (r |= 2),
                    n < -i ? r |= 4 : n > i && (r |= 8),
                    r
                }
                var o = xf(t)
                  , s = o > 0
                  , a = Cf(o) > df;
                return Kf(n, function(t) {
                    var e, o, u, l, c;
                    return {
                        lineStart: function() {
                            l = u = !1,
                            c = 1
                        },
                        point: function(h, p) {
                            var f, d = [h, p], g = n(h, p), y = s ? g ? 0 : r(h, p) : g ? r(h + (h < 0 ? gf : -gf), p) : 0;
                            if (!e && (l = u = g) && t.lineStart(),
                            g !== u && (!(f = i(e, d)) || Ff(e, f) || Ff(d, f)) && (d[0] += df,
                            d[1] += df,
                            g = n(d[0], d[1])),
                            g !== u)
                                c = 0,
                                g ? (t.lineStart(),
                                f = i(d, e),
                                t.point(f[0], f[1])) : (f = i(e, d),
                                t.point(f[0], f[1]),
                                t.lineEnd()),
                                e = f;
                            else if (a && e && s ^ g) {
                                var v;
                                y & o || !(v = i(d, e, !0)) || (c = 0,
                                s ? (t.lineStart(),
                                t.point(v[0][0], v[0][1]),
                                t.point(v[1][0], v[1][1]),
                                t.lineEnd()) : (t.point(v[1][0], v[1][1]),
                                t.lineEnd(),
                                t.lineStart(),
                                t.point(v[0][0], v[0][1])))
                            }
                            !g || e && Ff(e, d) || t.point(d[0], d[1]),
                            e = d,
                            u = g,
                            o = y
                        },
                        lineEnd: function() {
                            u && t.lineEnd(),
                            e = null
                        },
                        clean: function() {
                            return c | (l && u) << 1
                        }
                    }
                }, function(n, i, r, o) {
                    !function(t, e, n, i, r, o) {
                        if (n) {
                            var s = xf(e)
                              , a = Lf(e)
                              , u = i * n;
                            null == r ? (r = e + i * mf,
                            o = e - u / 2) : (r = Zr(s, r),
                            o = Zr(s, o),
                            (i > 0 ? r < o : r > o) && (r += i * mf));
                            for (var l, c = r; i > 0 ? c > o : c < o; c -= u)
                                l = Br([s, -a * xf(c), -a * Lf(c)]),
                                t.point(l[0], l[1])
                        }
                    }(o, t, e, r, n, i)
                }, s ? [0, -t] : [-gf, t - gf])
            };
            io.prototype = {
                constructor: io,
                point: function(t, e) {
                    this.stream.point(t, e)
                },
                sphere: function() {
                    this.stream.sphere()
                },
                lineStart: function() {
                    this.stream.lineStart()
                },
                lineEnd: function() {
                    this.stream.lineEnd()
                },
                polygonStart: function() {
                    this.stream.polygonStart()
                },
                polygonEnd: function() {
                    this.stream.polygonEnd()
                }
            };
            var Jf = 16
              , td = xf(30 * Ef)
              , ed = function(t, e) {
                return +e ? function(t, e) {
                    function n(i, r, o, s, a, u, l, c, h, p, f, d, g, y) {
                        var v = l - i
                          , m = c - r
                          , _ = v * v + m * m;
                        if (_ > 4 * e && g--) {
                            var E = s + p
                              , C = a + f
                              , w = u + d
                              , b = Sf(E * E + C * C + w * w)
                              , x = Dr(w /= b)
                              , I = Cf(Cf(w) - 1) < df || Cf(o - h) < df ? (o + h) / 2 : bf(C, E)
                              , P = t(I, x)
                              , L = P[0]
                              , S = P[1]
                              , N = L - i
                              , M = S - r
                              , T = m * N - v * M;
                            (T * T / _ > e || Cf((v * N + m * M) / _ - .5) > .3 || s * p + a * f + u * d < td) && (n(i, r, o, s, a, u, L, S, I, E /= b, C /= b, w, g, y),
                            y.point(L, S),
                            n(L, S, I, E, C, w, l, c, h, p, f, d, g, y))
                        }
                    }
                    return function(e) {
                        function i(n, i) {
                            n = t(n, i),
                            e.point(n[0], n[1])
                        }
                        function r() {
                            v = NaN,
                            w.point = o,
                            e.lineStart()
                        }
                        function o(i, r) {
                            var o = qr([i, r])
                              , s = t(i, r);
                            n(v, m, y, _, E, C, v = s[0], m = s[1], y = i, _ = o[0], E = o[1], C = o[2], Jf, e),
                            e.point(v, m)
                        }
                        function s() {
                            w.point = i,
                            e.lineEnd()
                        }
                        function a() {
                            r(),
                            w.point = u,
                            w.lineEnd = l
                        }
                        function u(t, e) {
                            o(c = t, e),
                            h = v,
                            p = m,
                            f = _,
                            d = E,
                            g = C,
                            w.point = o
                        }
                        function l() {
                            n(v, m, y, _, E, C, h, p, c, f, d, g, Jf, e),
                            w.lineEnd = s,
                            s()
                        }
                        var c, h, p, f, d, g, y, v, m, _, E, C, w = {
                            point: i,
                            lineStart: r,
                            lineEnd: s,
                            polygonStart: function() {
                                e.polygonStart(),
                                w.lineStart = a
                            },
                            polygonEnd: function() {
                                e.polygonEnd(),
                                w.lineStart = r
                            }
                        };
                        return w
                    }
                }(t, e) : function(t) {
                    return no({
                        point: function(e, n) {
                            e = t(e, n),
                            this.stream.point(e[0], e[1])
                        }
                    })
                }(t)
            }
              , nd = no({
                point: function(t, e) {
                    this.stream.point(t * Ef, e * Ef)
                }
            });
            so.invert = function(t, e) {
                return [t, 2 * wf(If(e)) - yf]
            }
            ,
            ao.invert = function(t, e) {
                return [-e, 2 * wf(If(t)) - yf]
            }
            ;
            var id = function() {
                var t = function(t) {
                    function e() {
                        var e = gf * a()
                          , s = o(Df(o.rotate()).invert([0, 0]));
                        return l(null == c ? [[s[0] - e, s[1] - e], [s[0] + e, s[1] + e]] : t === so ? [[Math.max(s[0] - e, c), n], [Math.min(s[0] + e, i), r]] : [[c, Math.max(s[1] - e, n)], [i, Math.min(s[1] + e, r)]])
                    }
                    var n, i, r, o = oo(t), s = o.center, a = o.scale, u = o.translate, l = o.clipExtent, c = null;
                    return o.scale = function(t) {
                        return arguments.length ? (a(t),
                        e()) : a()
                    }
                    ,
                    o.translate = function(t) {
                        return arguments.length ? (u(t),
                        e()) : u()
                    }
                    ,
                    o.center = function(t) {
                        return arguments.length ? (s(t),
                        e()) : s()
                    }
                    ,
                    o.clipExtent = function(t) {
                        return arguments.length ? (null == t ? c = n = i = r = null : (c = +t[0][0],
                        n = +t[0][1],
                        i = +t[1][0],
                        r = +t[1][1]),
                        e()) : null == c ? null : [[c, n], [i, r]]
                    }
                    ,
                    e()
                }(ao)
                  , e = t.center
                  , n = t.rotate;
                return t.center = function(t) {
                    return arguments.length ? e([-t[1], t[0]]) : [(t = e())[1], -t[0]]
                }
                ,
                t.rotate = function(t) {
                    return arguments.length ? n([t[0], t[1], t.length > 2 ? t[2] + 90 : 90]) : [(t = n())[0], t[1], t[2] - 90]
                }
                ,
                n([0, 0, 90]).scale(159.155)
            };
            t.projection = as,
            t.random = za,
            t.clusters = Ya,
            t.helpers = bo,
            t.invariant = Io,
            t.meta = xo,
            t.isolines = function(t, e, n) {
                if (!x(n = n || {}))
                    throw new Error("options is invalid");
                var i = n.zProperty || "elevation"
                  , r = n.commonProperties || {}
                  , o = n.breaksProperties || [];
                if (W(t, "Point", "Input must contain Points"),
                !e)
                    throw new Error("breaks is required");
                if (!Array.isArray(e))
                    throw new Error("breaks must be an Array");
                if (!x(r))
                    throw new Error("commonProperties must be an Object");
                if (!Array.isArray(o))
                    throw new Error("breaksProperties must be an Array");
                var s = function(t, e) {
                    if (!x(e = e || {}))
                        throw new Error("options is invalid");
                    var n = e.zProperty || "elevation"
                      , i = e.flip
                      , r = e.flags;
                    W(t, "Point", "input must contain Points");
                    for (var o = function(t, e) {
                        var n = {};
                        return T(t, function(t) {
                            var e = z(t)[1];
                            n[e] || (n[e] = []),
                            n[e].push(t)
                        }),
                        Object.keys(n).map(function(t) {
                            return n[t].sort(function(t, e) {
                                return z(t)[0] - z(e)[0]
                            })
                        }).sort(function(t, n) {
                            return e ? z(t[0])[1] - z(n[0])[1] : z(n[0])[1] - z(t[0])[1]
                        })
                    }(t, i), s = [], a = 0; a < o.length; a++) {
                        for (var u = o[a], l = [], c = 0; c < u.length; c++) {
                            var h = u[c];
                            h.properties[n] ? l.push(h.properties[n]) : l.push(0),
                            !0 === r && (h.properties.matrixPosition = [a, c])
                        }
                        s.push(l)
                    }
                    return s
                }(t, {
                    zProperty: i,
                    flip: !0
                });
                return l(function(t, e, n) {
                    var i = U(n)
                      , r = i[2] - i[0]
                      , o = i[3] - i[1]
                      , s = i[0]
                      , a = i[1]
                      , u = r / (e[0].length - 1)
                      , l = o / (e.length - 1)
                      , c = function(t) {
                        t[0] = t[0] * u + s,
                        t[1] = t[1] * l + a
                    };
                    return t.forEach(function(t) {
                        L(t, c)
                    }),
                    t
                }(function(t, e, n, i, r) {
                    for (var o = [], s = 1; s < e.length; s++) {
                        var a = +e[s]
                          , u = Object.assign({}, i, r[s]);
                        u[n] = a;
                        var l = c(Q(t, a), u);
                        o.push(l)
                    }
                    return o
                }(s, e, i, r, o), s, t))
            }
            ,
            t.convex = Lt,
            t.pointsWithinPolygon = Mt,
            t.concave = function(t, n) {
                if (!x(n = n || {}))
                    throw new Error("options is invalid");
                if (!t)
                    throw new Error("points is required");
                var i = n.maxEdge || 1 / 0;
                if (!b(i))
                    throw new Error("maxEdge is invalid");
                var r = Tt(function(t) {
                    var e = []
                      , n = {};
                    return T(t, function(t) {
                        if (t.geometry) {
                            var i = t.geometry.coordinates.join("-");
                            n.hasOwnProperty(i) || (e.push(t),
                            n[i] = !0)
                        }
                    }),
                    l(e)
                }(t));
                if (r.features = r.features.filter(function(t) {
                    var e = t.geometry.coordinates[0][0]
                      , r = t.geometry.coordinates[0][1]
                      , o = t.geometry.coordinates[0][2]
                      , s = Rt(e, r, n)
                      , a = Rt(r, o, n)
                      , u = Rt(e, o, n);
                    return s <= i && a <= i && u <= i
                }),
                r.features.length < 1)
                    return null;
                var o = Xt(r, n);
                return 1 === o.coordinates.length && (o.coordinates = o.coordinates[0],
                o.type = "Polygon"),
                e(o)
            }
            ,
            t.collect = function(t, e, n, i) {
                var r = No(6)
                  , o = e.features.map(function(t) {
                    return {
                        minX: t.geometry.coordinates[0],
                        minY: t.geometry.coordinates[1],
                        maxX: t.geometry.coordinates[0],
                        maxY: t.geometry.coordinates[1],
                        property: t.properties[n]
                    }
                });
                return r.load(o),
                t.features.forEach(function(t) {
                    t.properties || (t.properties = {});
                    var e = U(t)
                      , n = [];
                    r.search({
                        minX: e[0],
                        minY: e[1],
                        maxX: e[2],
                        maxY: e[3]
                    }).forEach(function(e) {
                        St([e.minX, e.minY], t) && n.push(e.property)
                    }),
                    t.properties[i] = n
                }),
                t
            }
            ,
            t.flip = function(t, e) {
                if (!x(e = e || {}))
                    throw new Error("options is invalid");
                var n = e.mutate;
                if (!t)
                    throw new Error("geojson is required");
                return !1 !== n && void 0 !== n || (t = kt(t)),
                L(t, function(t) {
                    var e = t[0]
                      , n = t[1];
                    t[0] = n,
                    t[1] = e
                }),
                t
            }
            ,
            t.simplify = function(t, e) {
                if (!x(e = e || {}))
                    throw new Error("options is invalid");
                var n = void 0 !== e.tolerance ? e.tolerance : 1
                  , i = e.highQuality || !1
                  , r = e.mutate || !1;
                if (!t)
                    throw new Error("geojson is required");
                if (n && n < 0)
                    throw new Error("invalid tolerance");
                return !0 !== r && (t = kt(t)),
                D(t, function(t) {
                    !function(t, e, n) {
                        var i = t.type;
                        if ("Point" === i || "MultiPoint" === i)
                            return t;
                        Wt(t, !0);
                        var r = t.coordinates;
                        switch (i) {
                        case "LineString":
                            t.coordinates = Jt(r, e, n);
                            break;
                        case "MultiLineString":
                            t.coordinates = r.map(function(t) {
                                return Jt(t, e, n)
                            });
                            break;
                        case "Polygon":
                            t.coordinates = te(r, e, n);
                            break;
                        case "MultiPolygon":
                            t.coordinates = r.map(function(t) {
                                return te(t, e, n)
                            })
                        }
                    }(t, n, i)
                }),
                t
            }
            ,
            t.bezierSpline = ee,
            t.tag = function(t, e, n, i) {
                return t = kt(t),
                e = kt(e),
                T(t, function(t) {
                    t.properties || (t.properties = {}),
                    T(e, function(e) {
                        void 0 === t.properties[i] && St(t, e) && (t.properties[i] = e.properties[n])
                    })
                }),
                t
            }
            ,
            t.sample = function(t, e) {
                if (!t)
                    throw new Error("featurecollection is required");
                if (null === e || void 0 === e)
                    throw new Error("num is required");
                if ("number" != typeof e)
                    throw new Error("num must be a number");
                return l(function(t, e) {
                    for (var n, i, r = t.slice(0), o = t.length, s = o - e; o-- > s; )
                        n = r[i = Math.floor((o + 1) * Math.random())],
                        r[i] = r[o],
                        r[o] = n;
                    return r.slice(s)
                }(t.features, e))
            }
            ,
            t.envelope = ie,
            t.square = re,
            t.circle = se,
            t.midpoint = function(t, e) {
                return oe(t, Rt(t, e) / 2, ae(t, e))
            }
            ,
            t.center = ue,
            t.centerOfMass = function t(e, n) {
                switch (Z(e)) {
                case "Point":
                    return e;
                case "Polygon":
                    var r = [];
                    L(e, function(t) {
                        r.push(t)
                    });
                    var o, s, a, u, l, c, h, p, f = le(e, n), d = f.geometry.coordinates, g = 0, y = 0, v = 0, m = r.map(function(t) {
                        return [t[0] - d[0], t[1] - d[1]]
                    });
                    for (o = 0; o < r.length - 1; o++)
                        u = (s = m[o])[0],
                        c = s[1],
                        l = (a = m[o + 1])[0],
                        v += p = u * (h = a[1]) - l * c,
                        g += (u + l) * p,
                        y += (c + h) * p;
                    if (0 === v)
                        return f;
                    var _ = 1 / (.5 * v * 6);
                    return i([d[0] + _ * g, d[1] + _ * y], n);
                default:
                    var E = Lt(e);
                    return E ? t(E, n) : le(e, n)
                }
            }
            ,
            t.centroid = le,
            t.combine = function(t) {
                function n(t, e, n) {
                    n ? i[e].coordinates = i[e].coordinates.concat(t.geometry.coordinates) : i[e].coordinates.push(t.geometry.coordinates),
                    i[e].properties.push(t.properties)
                }
                var i = {
                    MultiPoint: {
                        coordinates: [],
                        properties: []
                    },
                    MultiLineString: {
                        coordinates: [],
                        properties: []
                    },
                    MultiPolygon: {
                        coordinates: [],
                        properties: []
                    }
                }
                  , r = Object.keys(i).reduce(function(t, e) {
                    return t[e.replace("Multi", "")] = e,
                    t
                }, {});
                return T(t, function(t) {
                    t.geometry && (i[t.geometry.type] ? n(t, t.geometry.type, !0) : r[t.geometry.type] && n(t, r[t.geometry.type], !1))
                }),
                l(Object.keys(i).filter(function(t) {
                    return i[t].coordinates.length
                }).sort().map(function(t) {
                    return e({
                        type: t,
                        coordinates: i[t].coordinates
                    }, {
                        collectedProperties: i[t].properties
                    })
                }))
            }
            ,
            t.distance = Rt,
            t.explode = ce,
            t.bbox = U,
            t.tesselate = function(t) {
                if (!t.geometry || "Polygon" !== t.geometry.type && "MultiPolygon" !== t.geometry.type)
                    throw new Error("input must be a Polygon or MultiPolygon");
                var e = {
                    type: "FeatureCollection",
                    features: []
                };
                return "Polygon" === t.geometry.type ? e.features = Pe(t.geometry.coordinates) : t.geometry.coordinates.forEach(function(t) {
                    e.features = e.features.concat(Pe(t))
                }),
                e
            }
            ,
            t.bboxPolygon = ne,
            t.booleanPointInPolygon = St,
            t.nearestPoint = Le,
            t.nearestPointOnLine = We,
            t.nearestPointToLine = function(t, e, n) {
                if (!x(n = n || {}))
                    throw new Error("options is invalid");
                var i = n.units
                  , r = n.properties || {};
                if (!t)
                    throw new Error("points is required");
                if (!(t = function(t) {
                    var e = [];
                    switch (t.geometry ? t.geometry.type : t.type) {
                    case "GeometryCollection":
                        return D(t, function(t) {
                            "Point" === t.type && e.push({
                                type: "Feature",
                                properties: {},
                                geometry: t
                            })
                        }),
                        {
                            type: "FeatureCollection",
                            features: e
                        };
                    case "FeatureCollection":
                        return t.features = t.features.filter(function(t) {
                            return "Point" === t.geometry.type
                        }),
                        t;
                    default:
                        throw new Error("points must be a Point Collection")
                    }
                }(t)).features.length)
                    throw new Error("points must contain features");
                if (!e)
                    throw new Error("line is required");
                if ("LineString" !== Z(e))
                    throw new Error("line must be a LineString");
                var o = 1 / 0
                  , s = null;
                return T(t, function(t) {
                    var n = rn(t, e, {
                        units: i
                    });
                    n < o && (o = n,
                    s = t)
                }),
                s && (s.properties = Object.assign({
                    dist: o
                }, s.properties, r)),
                s
            }
            ,
            t.planepoint = function(t, e) {
                var n = j(t)
                  , i = $(e).coordinates[0];
                if (i.length < 4)
                    throw new Error("OuterRing of a Polygon must have 4 or more Positions.");
                var r = e.properties || {}
                  , o = r.a
                  , s = r.b
                  , a = r.c
                  , u = n[0]
                  , l = n[1]
                  , c = i[0][0]
                  , h = i[0][1]
                  , p = void 0 !== o ? o : i[0][2]
                  , f = i[1][0]
                  , d = i[1][1]
                  , g = void 0 !== s ? s : i[1][2]
                  , y = i[2][0]
                  , v = i[2][1]
                  , m = void 0 !== a ? a : i[2][2];
                return (m * (u - c) * (l - d) + p * (u - f) * (l - v) + g * (u - y) * (l - h) - g * (u - c) * (l - v) - m * (u - f) * (l - h) - p * (u - y) * (l - d)) / ((u - c) * (l - d) + (u - f) * (l - v) + (u - y) * (l - h) - (u - c) * (l - v) - (u - f) * (l - h) - (u - y) * (l - d))
            }
            ,
            t.tin = Tt,
            t.bearing = ae,
            t.destination = oe,
            t.kinks = function(t) {
                var e, n, r = {
                    type: "FeatureCollection",
                    features: []
                };
                if ("LineString" === (n = "Feature" === t.type ? t.geometry : t).type)
                    e = [n.coordinates];
                else if ("MultiLineString" === n.type)
                    e = n.coordinates;
                else if ("MultiPolygon" === n.type)
                    e = [].concat.apply([], n.coordinates);
                else {
                    if ("Polygon" !== n.type)
                        throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");
                    e = n.coordinates
                }
                return e.forEach(function(t) {
                    e.forEach(function(e) {
                        for (var n = 0; n < t.length - 1; n++)
                            for (var o = n; o < e.length - 1; o++) {
                                if (t === e) {
                                    if (1 === Math.abs(n - o))
                                        continue;
                                    if (0 === n && o === t.length - 2 && t[n][0] === t[t.length - 1][0] && t[n][1] === t[t.length - 1][1])
                                        continue
                                }
                                var s = function(t, e, n, i, r, o, s, a) {
                                    var u, l, c, h, p = {
                                        x: null,
                                        y: null,
                                        onLine1: !1,
                                        onLine2: !1
                                    };
                                    return 0 == (u = (a - o) * (n - t) - (s - r) * (i - e)) ? null !== p.x && null !== p.y && p : (h = (n - t) * (l = e - o) - (i - e) * (c = t - r),
                                    l = ((s - r) * l - (a - o) * c) / u,
                                    c = h / u,
                                    p.x = t + l * (n - t),
                                    p.y = e + l * (i - e),
                                    l >= 0 && l <= 1 && (p.onLine1 = !0),
                                    c >= 0 && c <= 1 && (p.onLine2 = !0),
                                    !(!p.onLine1 || !p.onLine2) && [p.x, p.y])
                                }(t[n][0], t[n][1], t[n + 1][0], t[n + 1][1], e[o][0], e[o][1], e[o + 1][0], e[o + 1][1]);
                                s && r.features.push(i([s[0], s[1]]))
                            }
                    })
                }),
                r
            }
            ,
            t.pointOnFeature = sn,
            t.area = un,
            t.along = function(t, e, n) {
                if (!x(n = n || {}))
                    throw new Error("options is invalid");
                var r;
                if ("Feature" === t.type)
                    r = t.geometry.coordinates;
                else {
                    if ("LineString" !== t.type)
                        throw new Error("input must be a LineString Feature or Geometry");
                    r = t.coordinates
                }
                if (!b(e))
                    throw new Error("distance must be a number");
                for (var o = 0, s = 0; s < r.length && !(e >= o && s === r.length - 1); s++) {
                    if (o >= e) {
                        var a = e - o;
                        if (a) {
                            var u = ae(r[s], r[s - 1]) - 180;
                            return oe(r[s], a, u, n)
                        }
                        return i(r[s])
                    }
                    o += Rt(r[s], r[s + 1], n)
                }
                return i(r[r.length - 1])
            }
            ,
            t.length = pn,
            t.lineSlice = function(t, e, n) {
                var i = z(n);
                if ("LineString" !== Z(n))
                    throw new Error("line must be a LineString");
                for (var r, o = We(n, t), s = We(n, e), u = [(r = o.properties.index <= s.properties.index ? [o, s] : [s, o])[0].geometry.coordinates], l = r[0].properties.index + 1; l < r[1].properties.index + 1; l++)
                    u.push(i[l]);
                return u.push(r[1].geometry.coordinates),
                a(u, n.properties)
            }
            ,
            t.lineSliceAlong = fn,
            t.pointGrid = mn,
            t.truncate = _n,
            t.flatten = function(t) {
                if (!t)
                    throw new Error("geojson is required");
                var e = [];
                return k(t, function(t) {
                    e.push(t)
                }),
                l(e)
            }
            ,
            t.lineIntersect = He,
            t.lineChunk = function(t, e, n) {
                if (!x(n = n || {}))
                    throw new Error("options is invalid");
                var i = n.units
                  , r = n.reverse;
                if (!t)
                    throw new Error("geojson is required");
                if (e <= 0)
                    throw new Error("segmentLength must be greater than 0");
                var o = [];
                return k(t, function(t) {
                    r && (t.geometry.coordinates = t.geometry.coordinates.reverse()),
                    function(t, e, n, i) {
                        var r = pn(t, {
                            units: n
                        });
                        if (r <= e)
                            return i(t);
                        var o = r / e;
                        Number.isInteger(o) || (o = Math.floor(o) + 1);
                        for (var s = 0; s < o; s++) {
                            i(fn(t, e * s, e * (s + 1), {
                                units: n
                            }))
                        }
                    }(t, e, i, function(t) {
                        o.push(t)
                    })
                }),
                l(o)
            }
            ,
            t.unkinkPolygon = function(t) {
                var e = [];
                return k(t, function(t) {
                    "Polygon" === t.geometry.type && T(ls(t), function(n) {
                        e.push(o(n.geometry.coordinates, t.properties))
                    })
                }),
                l(e)
            }
            ,
            t.greatCircle = function(t, e, n) {
                if ("object" != typeof (n = n || {}))
                    throw new Error("options is invalid");
                var i = n.properties
                  , r = n.npoints
                  , o = n.offset;
                return t = j(t),
                e = j(e),
                i = i || {},
                r = r || 100,
                o = o || 10,
                new vs({
                    x: t[0],
                    y: t[1]
                },{
                    x: e[0],
                    y: e[1]
                },i).Arc(r, {
                    offset: o
                }).json()
            }
            ,
            t.lineSegment = Ye,
            t.lineSplit = function(t, e) {
                if (!t)
                    throw new Error("line is required");
                if (!e)
                    throw new Error("splitter is required");
                var n = Z(t)
                  , i = Z(e);
                if ("LineString" !== n)
                    throw new Error("line must be LineString");
                if ("FeatureCollection" === i)
                    throw new Error("splitter cannot be a FeatureCollection");
                if ("GeometryCollection" === i)
                    throw new Error("splitter cannot be a GeometryCollection");
                var r = _n(e, {
                    precision: 7
                });
                switch (i) {
                case "Point":
                    return xn(t, r);
                case "MultiPoint":
                    return bn(t, r);
                case "LineString":
                case "MultiLineString":
                case "Polygon":
                case "MultiPolygon":
                    return bn(t, He(t, r))
                }
            }
            ,
            t.lineArc = Ln,
            t.polygonToLine = Nn,
            t.lineToPolygon = Tn,
            t.bboxClip = function(t, e) {
                var n = function(t) {
                    return t.geometry ? t.geometry.type : t.type
                }(t)
                  , i = z(t)
                  , r = t.properties;
                switch (n) {
                case "LineString":
                case "MultiLineString":
                    var s = [];
                    return "LineString" === n && (i = [i]),
                    i.forEach(function(t) {
                        ms(t, e, s)
                    }),
                    1 === s.length ? a(s[0], r) : c(s, r);
                case "Polygon":
                    return o(Fn(i, e), r);
                case "MultiPolygon":
                    return p(i.map(function(t) {
                        return Fn(t, e)
                    }), r);
                default:
                    throw new Error("geometry " + n + " not supported")
                }
            }
            ,
            t.lineOverlap = Un,
            t.sector = function(t, e, n, i, r) {
                if (!x(r = r || {}))
                    throw new Error("options is invalid");
                if (!t)
                    throw new Error("center is required");
                if (void 0 === n || null === n)
                    throw new Error("bearing1 is required");
                if (void 0 === i || null === i)
                    throw new Error("bearing2 is required");
                if (!e)
                    throw new Error("radius is required");
                if ("object" != typeof r)
                    throw new Error("options must be an object");
                if (zn(n) === zn(i))
                    return se(t, e, r);
                var s = z(t)
                  , a = [[s]];
                return L(Ln(t, e, n, i, r), function(t) {
                    a[0].push(t)
                }),
                a[0].push(s),
                o(a)
            }
            ,
            t.rhumbBearing = $e,
            t.rhumbDistance = Ze,
            t.rhumbDestination = Yn,
            t.polygonTangents = function(t, e) {
                var n, r, o, s = z(t), a = z(e);
                switch (Z(e)) {
                case "Polygon":
                    n = a[0][0],
                    r = a[0][0],
                    o = Xn(a[0][0], a[0][a[0].length - 1], s);
                    var u = Hn(a[0], s, o, void 0, n, r);
                    n = u[0],
                    r = u[1];
                    break;
                case "MultiPolygon":
                    n = a[0][0][0],
                    r = a[0][0][0],
                    o = Xn(a[0][0][0], a[0][0][a[0][0].length - 1], s),
                    a.forEach(function(t) {
                        var e = Hn(t[0], s, o, void 0, n, r);
                        n = e[0],
                        r = e[1]
                    })
                }
                return l([i(n), i(r)])
            }
            ,
            t.rewind = function(t, e) {
                if (!x(e = e || {}))
                    throw new Error("options is invalid");
                var n = e.reverse || !1
                  , i = e.mutate || !1;
                if (!t)
                    throw new Error("<geojson> is required");
                if ("boolean" != typeof n)
                    throw new Error("<reverse> must be a boolean");
                if ("boolean" != typeof i)
                    throw new Error("<mutate> must be a boolean");
                !1 === i && (t = kt(t));
                var r = [];
                switch (t.type) {
                case "GeometryCollection":
                    return D(t, function(t) {
                        $n(t, n)
                    }),
                    t;
                case "FeatureCollection":
                    return T(t, function(t) {
                        T($n(t, n), function(t) {
                            r.push(t)
                        })
                    }),
                    l(r)
                }
                return $n(t, n)
            }
            ,
            t.isobands = function(t, e, n) {
                if (!x(n = n || {}))
                    throw new Error("options is invalid");
                var i = n.zProperty || "elevation"
                  , r = n.commonProperties || {}
                  , s = n.breaksProperties || [];
                if (W(t, "Point", "Input must contain Points"),
                !e)
                    throw new Error("breaks is required");
                if (!Array.isArray(e))
                    throw new Error("breaks is not an Array");
                if (!x(r))
                    throw new Error("commonProperties is not an Object");
                if (!Array.isArray(s))
                    throw new Error("breaksProperties is not an Array");
                var a = function(t, e) {
                    if (!x(e = e || {}))
                        throw new Error("options is invalid");
                    var n = e.zProperty || "elevation"
                      , i = e.flip
                      , r = e.flags;
                    W(t, "Point", "input must contain Points");
                    for (var o = function(t, e) {
                        var n = {};
                        return T(t, function(t) {
                            var e = z(t)[1];
                            n[e] || (n[e] = []),
                            n[e].push(t)
                        }),
                        Object.keys(n).map(function(t) {
                            return n[t].sort(function(t, e) {
                                return z(t)[0] - z(e)[0]
                            })
                        }).sort(function(t, n) {
                            return e ? z(t[0])[1] - z(n[0])[1] : z(n[0])[1] - z(t[0])[1]
                        })
                    }(t, i), s = [], a = 0; a < o.length; a++) {
                        for (var u = o[a], l = [], c = 0; c < u.length; c++) {
                            var h = u[c];
                            h.properties[n] ? l.push(h.properties[n]) : l.push(0),
                            !0 === r && (h.properties.matrixPosition = [a, c])
                        }
                        s.push(l)
                    }
                    return s
                }(t, {
                    zProperty: i,
                    flip: !0
                })
                  , u = function(t, e, n) {
                    for (var i = [], r = 1; r < e.length; r++) {
                        var s = +e[r - 1]
                          , a = +e[r]
                          , u = Qn(t, s, a - s)
                          , l = function(t) {
                            var e = []
                              , n = [];
                            u.forEach(function(t) {
                                var i = un(o([t]));
                                n.push(i),
                                e.push({
                                    ring: t,
                                    area: i
                                })
                            }),
                            n.sort(function(t, e) {
                                return e - t
                            });
                            var i = [];
                            return n.forEach(function(t) {
                                for (var n = 0; n < e.length; n++)
                                    if (e[n].area === t) {
                                        i.push(e[n].ring),
                                        e.splice(n, 1);
                                        break
                                    }
                            }),
                            i
                        }()
                          , c = function(t) {
                            for (var e = l.map(function(t) {
                                return {
                                    lrCoordinates: t,
                                    grouped: !1
                                }
                            }), n = []; !function(t) {
                                for (var e = 0; e < t.length; e++)
                                    if (!1 === t[e].grouped)
                                        return !1;
                                return !0
                            }(e); )
                                for (var i = 0; i < e.length; i++)
                                    if (!e[i].grouped) {
                                        var r = [];
                                        r.push(e[i].lrCoordinates),
                                        e[i].grouped = !0;
                                        for (var s = o([e[i].lrCoordinates]), a = i + 1; a < e.length; a++)
                                            if (!e[a].grouped) {
                                                var u = o([e[a].lrCoordinates]);
                                                (function(t, e) {
                                                    for (var n = ce(u), i = 0; i < n.features.length; i++)
                                                        if (!St(n.features[i], e))
                                                            return !1;
                                                    return !0
                                                }
                                                )(0, s) && (r.push(e[a].lrCoordinates),
                                                e[a].grouped = !0)
                                            }
                                        n.push(r)
                                    }
                            return n
                        }()
                          , h = {};
                        h.groupedRings = c,
                        h[n] = s + "-" + a,
                        i.push(h)
                    }
                    return i
                }(a, e, i);
                return l((u = function(t, e, n) {
                    var i = U(n)
                      , r = i[2] - i[0]
                      , o = i[3] - i[1]
                      , s = i[0]
                      , a = i[1]
                      , u = r / (e[0].length - 1)
                      , l = o / (e.length - 1)
                      , c = function(t) {
                        t[0] = t[0] * u + s,
                        t[1] = t[1] * l + a
                    };
                    return t.forEach(function(t) {
                        t.groupedRings.forEach(function(t) {
                            t.forEach(function(t) {
                                t.forEach(c)
                            })
                        })
                    }),
                    t
                }(u, a, t)).map(function(t, e) {
                    if (s[e] && !x(s[e]))
                        throw new Error("Each mappedProperty is required to be an Object");
                    var n = Object.assign({}, r, s[e]);
                    return n[i] = t[i],
                    p(t.groupedRings, n)
                }))
            }
            ,
            t.transformRotate = ei,
            t.transformScale = ni,
            t.transformTranslate = function(t, e, n, i) {
                if (!x(i = i || {}))
                    throw new Error("options is invalid");
                var r = i.units
                  , o = i.zTranslation
                  , s = i.mutate;
                if (!t)
                    throw new Error("geojson is required");
                if (void 0 === e || null === e || isNaN(e))
                    throw new Error("distance is required");
                if (o && "number" != typeof o && isNaN(o))
                    throw new Error("zTranslation is not a number");
                if (o = void 0 !== o ? o : 0,
                0 === e && 0 === o)
                    return t;
                if (void 0 === n || null === n || isNaN(n))
                    throw new Error("direction is required");
                return e < 0 && (e = -e,
                n = -n),
                !1 !== s && void 0 !== s || (t = kt(t)),
                L(t, function(t) {
                    var i = z(Yn(t, e, n, {
                        units: r
                    }));
                    t[0] = i[0],
                    t[1] = i[1],
                    o && 3 === t.length && (t[2] += o)
                }),
                t
            }
            ,
            t.lineOffset = function(t, e, n) {
                if (!x(n = n || {}))
                    throw new Error("options is invalid");
                var i = n.units;
                if (!t)
                    throw new Error("geojson is required");
                if (void 0 === e || null === e || isNaN(e))
                    throw new Error("distance is required");
                var r = Z(t)
                  , o = t.properties;
                switch (r) {
                case "LineString":
                    return si(t, e, i);
                case "MultiLineString":
                    var s = [];
                    return k(t, function(t) {
                        s.push(si(t, e, i).geometry.coordinates)
                    }),
                    c(s, o);
                default:
                    throw new Error("geometry " + r + " is not supported")
                }
            }
            ,
            t.polygonize = function(t) {
                var e = va.fromGeoJson(t);
                e.deleteDangles(),
                e.deleteCutEdges();
                var n = []
                  , i = [];
                return e.getEdgeRings().filter(function(t) {
                    return t.isValid()
                }).forEach(function(t) {
                    t.isHole() ? n.push(t) : i.push(t)
                }),
                n.forEach(function(t) {
                    ga.findEdgeRingContaining(t, i) && i.push(t)
                }),
                l(i.map(function(t) {
                    return t.toPolygon()
                }))
            }
            ,
            t.booleanDisjoint = function(t, e) {
                var n;
                return k(t, function(t) {
                    k(e, function(e) {
                        if (!1 === n)
                            return !1;
                        n = function(t, e) {
                            switch (t.type) {
                            case "Point":
                                switch (e.type) {
                                case "Point":
                                    return !function(t, e) {
                                        return t[0] === e[0] && t[1] === e[1]
                                    }(t.coordinates, e.coordinates);
                                case "LineString":
                                    return !li(e, t);
                                case "Polygon":
                                    return !St(t, e)
                                }
                                break;
                            case "LineString":
                                switch (e.type) {
                                case "Point":
                                    return !li(t, e);
                                case "LineString":
                                    return !function(t, e) {
                                        return He(t, e).features.length > 0
                                    }(t, e);
                                case "Polygon":
                                    return !ci(e, t)
                                }
                                break;
                            case "Polygon":
                                switch (e.type) {
                                case "Point":
                                    return !St(e, t);
                                case "LineString":
                                    return !ci(t, e);
                                case "Polygon":
                                    return !function(t, e) {
                                        for (var n = 0; n < t.coordinates[0].length; n++)
                                            if (St(t.coordinates[0][n], e))
                                                return !0;
                                        for (var i = 0; i < e.coordinates[0].length; i++)
                                            if (St(e.coordinates[0][i], t))
                                                return !0;
                                        return !1
                                    }(e, t)
                                }
                            }
                        }(t.geometry, e.geometry)
                    })
                }),
                n
            }
            ,
            t.booleanContains = function(t, e) {
                var n = Z(t)
                  , i = Z(e)
                  , r = $(t)
                  , o = $(e)
                  , s = z(t)
                  , a = z(e);
                switch (n) {
                case "Point":
                    switch (i) {
                    case "Point":
                        return pi(s, a);
                    default:
                        throw new Error("feature2 " + i + " geometry not supported")
                    }
                case "MultiPoint":
                    switch (i) {
                    case "Point":
                        return function(t, e) {
                            var n, i = !1;
                            for (n = 0; n < t.coordinates.length; n++)
                                if (pi(t.coordinates[n], e.coordinates)) {
                                    i = !0;
                                    break
                                }
                            return i
                        }(r, o);
                    case "MultiPoint":
                        return function(t, e) {
                            for (var n = 0; n < e.coordinates.length; n++) {
                                for (var i = !1, r = 0; r < t.coordinates.length; r++)
                                    if (pi(e.coordinates[n], t.coordinates[r])) {
                                        i = !0;
                                        break
                                    }
                                if (!i)
                                    return !1
                            }
                            return !0
                        }(r, o);
                    default:
                        throw new Error("feature2 " + i + " geometry not supported")
                    }
                case "LineString":
                    switch (i) {
                    case "Point":
                        return dn(o, r, {
                            ignoreEndVertices: !0
                        });
                    case "LineString":
                        return function(t, e) {
                            for (var n = !1, i = 0; i < e.coordinates.length; i++)
                                if (dn({
                                    type: "Point",
                                    coordinates: e.coordinates[i]
                                }, t, {
                                    ignoreEndVertices: !0
                                }) && (n = !0),
                                !dn({
                                    type: "Point",
                                    coordinates: e.coordinates[i]
                                }, t, {
                                    ignoreEndVertices: !1
                                }))
                                    return !1;
                            return n
                        }(r, o);
                    case "MultiPoint":
                        return function(t, e) {
                            for (var n = !1, i = 0; i < e.coordinates.length; i++)
                                if (dn(e.coordinates[i], t, {
                                    ignoreEndVertices: !0
                                }) && (n = !0),
                                !dn(e.coordinates[i], t))
                                    return !1;
                            return !!n
                        }(r, o);
                    default:
                        throw new Error("feature2 " + i + " geometry not supported")
                    }
                case "Polygon":
                    switch (i) {
                    case "Point":
                        return St(o, r, {
                            ignoreBoundary: !0
                        });
                    case "LineString":
                        return function(t, e) {
                            var n = !1
                              , i = 0;
                            if (!hi(U(t), U(e)))
                                return !1;
                            for (; i < e.coordinates.length - 1; i++) {
                                if (St({
                                    type: "Point",
                                    coordinates: function(t, e) {
                                        return [(t[0] + e[0]) / 2, (t[1] + e[1]) / 2]
                                    }(e.coordinates[i], e.coordinates[i + 1])
                                }, t, {
                                    ignoreBoundary: !0
                                })) {
                                    n = !0;
                                    break
                                }
                            }
                            return n
                        }(r, o);
                    case "Polygon":
                        return function(t, e) {
                            if (!hi(U(t), U(e)))
                                return !1;
                            for (var n = 0; n < e.coordinates[0].length; n++)
                                if (!St(e.coordinates[0][n], t))
                                    return !1;
                            return !0
                        }(r, o);
                    case "MultiPoint":
                        return function(t, e) {
                            for (var n = 0; n < e.coordinates.length; n++)
                                if (!St(e.coordinates[n], t, {
                                    ignoreBoundary: !0
                                }))
                                    return !1;
                            return !0
                        }(r, o);
                    default:
                        throw new Error("feature2 " + i + " geometry not supported")
                    }
                default:
                    throw new Error("feature1 " + n + " geometry not supported")
                }
            }
            ,
            t.booleanCrosses = function(t, e) {
                var n = Z(t)
                  , i = Z(e)
                  , r = $(t)
                  , o = $(e);
                switch (n) {
                case "MultiPoint":
                    switch (i) {
                    case "LineString":
                        return fi(r, o);
                    case "Polygon":
                        return gi(r, o);
                    default:
                        throw new Error("feature2 " + i + " geometry not supported")
                    }
                case "LineString":
                    switch (i) {
                    case "MultiPoint":
                        return fi(o, r);
                    case "LineString":
                        return function(t, e) {
                            if (He(t, e).features.length > 0)
                                for (var n = 0; n < t.coordinates.length - 1; n++)
                                    for (var i = 0; i < e.coordinates.length - 1; i++) {
                                        var r = !0;
                                        if (0 !== i && i !== e.coordinates.length - 2 || (r = !1),
                                        yi(t.coordinates[n], t.coordinates[n + 1], e.coordinates[i], r))
                                            return !0
                                    }
                            return !1
                        }(r, o);
                    case "Polygon":
                        return di(r, o);
                    default:
                        throw new Error("feature2 " + i + " geometry not supported")
                    }
                case "Polygon":
                    switch (i) {
                    case "MultiPoint":
                        return gi(o, r);
                    case "LineString":
                        return di(o, r);
                    default:
                        throw new Error("feature2 " + i + " geometry not supported")
                    }
                default:
                    throw new Error("feature1 " + n + " geometry not supported")
                }
            }
            ,
            t.booleanClockwise = Wn,
            t.booleanOverlap = Ei,
            t.booleanPointOnLine = dn,
            t.booleanEqual = function(t, e) {
                if (!t)
                    throw new Error("feature1 is required");
                if (!e)
                    throw new Error("feature2 is required");
                return Z(t) === Z(e) && new wa({
                    precision: 6
                }).compare(Wt(t), Wt(e))
            }
            ,
            t.booleanWithin = gn,
            t.clone = kt,
            t.cleanCoords = Wt,
            t.clustersDbscan = function(t, e, n) {
                if ("object" != typeof (n = n || {}))
                    throw new Error("options is invalid");
                var i = n.minPoints
                  , r = n.units;
                if (W(t, "Point", "Input must contain Points"),
                null === e || void 0 === e)
                    throw new Error("maxDistance is required");
                if (!(Math.sign(e) > 0))
                    throw new Error("Invalid maxDistance");
                if (!(void 0 === i || null === i || Math.sign(i) > 0))
                    throw new Error("Invalid minPoints");
                t = kt(t),
                i = i || 3;
                var o = new La.DBSCAN
                  , s = -1;
                return o.run(A(t), C(e, r), i, Rt).forEach(function(e) {
                    s++,
                    e.forEach(function(e) {
                        var n = t.features[e];
                        n.properties || (n.properties = {}),
                        n.properties.cluster = s,
                        n.properties.dbscan = "core"
                    })
                }),
                o.noise.forEach(function(e) {
                    var n = t.features[e];
                    n.properties || (n.properties = {}),
                    n.properties.cluster ? n.properties.dbscan = "edge" : n.properties.dbscan = "noise"
                }),
                t
            }
            ,
            t.clustersKmeans = function(t, e) {
                if ("object" != typeof (e = e || {}))
                    throw new Error("options is invalid");
                var n = e.numberOfClusters
                  , i = e.mutate;
                W(t, "Point", "Input must contain Points");
                var r = t.features.length;
                (n = n || Math.round(Math.sqrt(r / 2))) > r && (n = r),
                !1 !== i && void 0 !== i || (t = kt(t));
                var o = A(t)
                  , s = o.slice(0, n)
                  , a = Oa(o, n, s)
                  , u = {};
                return a.centroids.forEach(function(t, e) {
                    u[e] = t
                }),
                T(t, function(t, e) {
                    var n = a.idxs[e];
                    t.properties.cluster = n,
                    t.properties.centroid = u[n]
                }),
                t
            }
            ,
            t.pointToLineDistance = rn,
            t.booleanParallel = function(t, e) {
                if (!t)
                    throw new Error("line1 is required");
                if (!e)
                    throw new Error("line2 is required");
                if ("LineString" !== wi(t, "line1"))
                    throw new Error("line1 must be a LineString");
                if ("LineString" !== wi(e, "line2"))
                    throw new Error("line2 must be a LineString");
                for (var n = Ye(Wt(t)).features, i = Ye(Wt(e)).features, r = 0; r < n.length; r++) {
                    var o = n[r].geometry.coordinates;
                    if (!i[r])
                        break;
                    if (!function(t, e) {
                        return m($e(t[0], t[1])) === m($e(e[0], e[1]))
                    }(o, i[r].geometry.coordinates))
                        return !1
                }
                return !0
            }
            ,
            t.shortestPath = function(t, n, r) {
                if (!x(r = r || {}))
                    throw new Error("options is invalid");
                var o = r.resolution
                  , s = r.minDistance
                  , u = r.obstacles || l([]);
                if (!t)
                    throw new Error("start is required");
                if (!n)
                    throw new Error("end is required");
                if (o && !b(o) || o <= 0)
                    throw new Error("options.resolution must be a number, greater than 0");
                if (s)
                    throw new Error("options.minDistance is not yet implemented");
                var c = j(t)
                  , h = j(n);
                switch (t = i(c),
                n = i(h),
                Z(u)) {
                case "FeatureCollection":
                    if (0 === u.features.length)
                        return a([c, h]);
                    break;
                case "Polygon":
                    u = l([e($(u))]);
                    break;
                default:
                    throw new Error("invalid obstacles")
                }
                var p = u;
                p.features.push(t),
                p.features.push(n);
                var f = U(ni(ne(U(p)), 1.15));
                o || (o = Rt([f[0], f[1]], [f[2], f[1]], r) / 100),
                p.features.pop(),
                p.features.pop();
                for (var d = f[0], g = f[1], y = f[2], v = f[3], m = o / Rt([d, g], [y, g], r) * (y - d), _ = o / Rt([d, g], [d, v], r) * (v - g), E = y - d, C = v - g, w = (E - Math.floor(E / m) * m) / 2, I = [], P = [], L = [], S = [], N = 1 / 0, M = 1 / 0, T = v - (C - Math.floor(C / _) * _) / 2, O = 0; T >= g; ) {
                    for (var A = [], D = [], R = d + w, k = 0; R <= y; ) {
                        var F = i([R, T])
                          , G = function(t, e) {
                            for (var n = 0; n < e.features.length; n++)
                                if (St(t, e.features[n]))
                                    return !0;
                            return !1
                        }(F, u);
                        A.push(G ? 0 : 1),
                        D.push(R + "|" + T);
                        var B = Rt(F, t);
                        !G && B < N && (N = B,
                        L = {
                            x: k,
                            y: O
                        });
                        var q = Rt(F, n);
                        !G && q < M && (M = q,
                        S = {
                            x: k,
                            y: O
                        }),
                        R += m,
                        k++
                    }
                    P.push(A),
                    I.push(D),
                    T -= _,
                    O++
                }
                var V = new xi(P,{
                    diagonal: !0
                })
                  , z = V.grid[L.y][L.x]
                  , Y = V.grid[S.y][S.x]
                  , H = [c];
                return Aa.search(V, z, Y).forEach(function(t) {
                    var e = I[t.x][t.y].split("|");
                    H.push([+e[0], +e[1]])
                }),
                H.push(h),
                Wt(a(H))
            }
            ,
            t.voronoi = function(t, e) {
                if (!x(e = e || {}))
                    throw new Error("options is invalid");
                var n = e.bbox || [-180, -85, 180, 85];
                if (!t)
                    throw new Error("points is required");
                if (!Array.isArray(n))
                    throw new Error("bbox is invalid");
                return W(t, "Point", "points"),
                l(function() {
                    function t(t) {
                        return new Zi(t.map(function(i, r) {
                            var o = [Math.round(e(i, r, t) / Ua) * Ua, Math.round(n(i, r, t) / Ua) * Ua];
                            return o.index = r,
                            o.data = i,
                            o
                        }),i)
                    }
                    var e = Li
                      , n = Si
                      , i = null;
                    return t.polygons = function(e) {
                        return t(e).polygons()
                    }
                    ,
                    t.links = function(e) {
                        return t(e).links()
                    }
                    ,
                    t.triangles = function(e) {
                        return t(e).triangles()
                    }
                    ,
                    t.x = function(n) {
                        return arguments.length ? (e = "function" == typeof n ? n : Da(+n),
                        t) : e
                    }
                    ,
                    t.y = function(e) {
                        return arguments.length ? (n = "function" == typeof e ? e : Da(+e),
                        t) : n
                    }
                    ,
                    t.extent = function(e) {
                        return arguments.length ? (i = null == e ? null : [[+e[0][0], +e[0][1]], [+e[1][0], +e[1][1]]],
                        t) : i && [[i[0][0], i[0][1]], [i[1][0], i[1][1]]]
                    }
                    ,
                    t.size = function(e) {
                        return arguments.length ? (i = null == e ? null : [[0, 0], [+e[0], +e[1]]],
                        t) : i && [i[1][0] - i[0][0], i[1][1] - i[0][1]]
                    }
                    ,
                    t
                }().x(function(t) {
                    return t.geometry.coordinates[0]
                }).y(function(t) {
                    return t.geometry.coordinates[1]
                }).extent([[n[0], n[1]], [n[2], n[3]]]).polygons(t.features).map(Qi))
            }
            ,
            t.ellipse = Ji,
            t.centerMean = er,
            t.centerMedian = function(t, e) {
                if (!x(e = e || {}))
                    throw new Error("options is invalid");
                var n = e.counter || 10;
                if (!b(n))
                    throw new Error("counter must be a number");
                var i = e.weight
                  , r = er(t, {
                    weight: e.weight
                })
                  , o = l([]);
                return T(t, function(t) {
                    o.features.push(le(t, {
                        weight: t.properties[i]
                    }))
                }),
                o.properties = {
                    tolerance: e.tolerance,
                    medianCandidates: []
                },
                nr(r.geometry.coordinates, [0, 0], o, n)
            }
            ,
            t.standardDeviationalEllipse = function(t, e) {
                if (!x(e = e || {}))
                    throw new Error("options is invalid");
                var n = e.steps || 64
                  , i = e.weight
                  , r = e.properties || {};
                if (!b(n))
                    throw new Error("steps must be a number");
                if (!x(r))
                    throw new Error("properties must be a number");
                var o = A(t).length
                  , s = er(t, {
                    weight: i
                })
                  , a = 0
                  , u = 0
                  , c = 0;
                T(t, function(t) {
                    var e = t.properties[i] || 1
                      , n = ir(z(t), z(s));
                    a += Math.pow(n.x, 2) * e,
                    u += Math.pow(n.y, 2) * e,
                    c += n.x * n.y * e
                });
                var h = a - u
                  , p = Math.sqrt(Math.pow(h, 2) + 4 * Math.pow(c, 2))
                  , f = 2 * c
                  , d = Math.atan((h + p) / f)
                  , g = 180 * d / Math.PI
                  , y = 0
                  , v = 0
                  , m = 0;
                T(t, function(t) {
                    var e = t.properties[i] || 1
                      , n = ir(z(t), z(s));
                    y += Math.pow(n.x * Math.cos(d) - n.y * Math.sin(d), 2) * e,
                    v += Math.pow(n.x * Math.sin(d) + n.y * Math.cos(d), 2) * e,
                    m += e
                });
                var _ = Math.sqrt(2 * y / m)
                  , E = Math.sqrt(2 * v / m)
                  , C = Ji(s, _, E, {
                    units: "degrees",
                    angle: g,
                    steps: n,
                    properties: r
                })
                  , w = Mt(t, l([C]))
                  , I = {
                    meanCenterCoordinates: z(s),
                    semiMajorAxis: _,
                    semiMinorAxis: E,
                    numberOfFeatures: o,
                    angle: g,
                    percentageWithinEllipse: 100 * A(w).length / o
                };
                return C.properties.standardDeviationalEllipse = I,
                C
            }
            ,
            t.difference = function(t, n) {
                var i = $(t)
                  , r = $(n)
                  , o = t.properties || {};
                if (i = Tr(i),
                r = Tr(r),
                !i)
                    return null;
                if (!r)
                    return e(i, o);
                var s = new Jl
                  , a = s.read(i)
                  , u = s.read(r)
                  , l = ef.difference(a, u);
                return l.isEmpty() ? null : e((new tc).write(l), o)
            }
            ,
            t.buffer = function(t, e, n) {
                var i = (n = n || {}).units
                  , r = n.steps || 64;
                if (!t)
                    throw new Error("geojson is required");
                if ("object" != typeof n)
                    throw new Error("options must be an object");
                if ("number" != typeof r)
                    throw new Error("steps must be an number");
                if (void 0 === e)
                    throw new Error("radius is required");
                if (r <= 0)
                    throw new Error("steps must be greater than 0");
                r = r || 64,
                i = i || "kilometers";
                var o = [];
                switch (t.type) {
                case "GeometryCollection":
                    return D(t, function(t) {
                        var n = uo(t, e, i, r);
                        n && o.push(n)
                    }),
                    l(o);
                case "FeatureCollection":
                    return T(t, function(t) {
                        var n = uo(t, e, i, r);
                        n && T(n, function(t) {
                            t && o.push(t)
                        })
                    }),
                    l(o)
                }
                return uo(t, e, i, r)
            }
            ,
            t.union = co,
            t.intersect = ho,
            t.dissolve = function(t, e) {
                if (!x(e = e || {}))
                    throw new Error("options is invalid");
                var n = e.propertyName;
                W(t, "Polygon", "dissolve");
                var i = kt(t)
                  , r = i.features
                  , o = [];
                r.forEach(function(t, e) {
                    t.properties.origIndexPosition = e
                });
                var s = Ue();
                for (var u in s.load(i),
                r) {
                    var l = r[u]
                      , c = !1;
                    if (s.search(l).features.forEach(function(t) {
                        l = r[u];
                        var e = t.properties.origIndexPosition;
                        if (o.length > 0 && 0 !== e)
                            if (e > o[o.length - 1])
                                e -= o.length;
                            else {
                                var i = po(e, o);
                                0 !== i && (e -= i)
                            }
                        if (e !== +u) {
                            var h = r[e];
                            h && l && (void 0 !== n && h.properties[n] !== l.properties[n] || Ei(l, h) && function(t, e) {
                                return He(a(A(l)), a(A(e))).features.length > 0
                            }(0, h) && (r[u] = co(l, h),
                            o.push(t.properties.origIndexPosition),
                            o.sort(function(t, e) {
                                return t - e
                            }),
                            s.remove(t),
                            r.splice(e, 1),
                            l.properties.origIndexPosition = u,
                            s.remove(l, function(t, e) {
                                return t.properties.origIndexPosition === e.properties.origIndexPosition
                            }),
                            c = !0))
                        }
                    }),
                    c) {
                        if (!l)
                            continue;
                        l.properties.origIndexPosition = u,
                        s.insert(l),
                        u--
                    }
                }
                return r.forEach(function(t) {
                    delete t.properties.origIndexPosition,
                    delete t.bbox
                }),
                i
            }
            ,
            t.hexGrid = fo,
            t.mask = function(t, e) {
                var n = o(e && e.geometry.coordinates || [[[180, 90], [-180, 90], [-180, -90], [180, -90], [180, 90]]])
                  , i = function(t) {
                    var e = []
                      , n = [];
                    return k(t, function(t) {
                        var i = t.geometry.coordinates
                          , r = i[0]
                          , s = i.slice(1);
                        e.push(o([r])),
                        s.forEach(function(t) {
                            n.push(o([t]))
                        })
                    }),
                    [l(e), l(n)]
                }(t)
                  , r = i[0]
                  , s = i[1];
                return function(t, e, n) {
                    var i = [];
                    return i.push(t.geometry.coordinates[0]),
                    k(e, function(t) {
                        i.push(t.geometry.coordinates[0])
                    }),
                    k(n, function(t) {
                        i.push(t.geometry.coordinates[0])
                    }),
                    o(i)
                }(n, r = go(r), s = go(s))
            }
            ,
            t.squareGrid = vo,
            t.triangleGrid = mo,
            t.interpolate = function(t, e, n) {
                if ("object" != typeof (n = n || {}))
                    throw new Error("options is invalid");
                var i = n.gridType
                  , r = n.property
                  , o = n.weight;
                if (!t)
                    throw new Error("points is required");
                if (W(t, "Point", "input must contain Points"),
                !e)
                    throw new Error("cellSize is required");
                if (void 0 !== o && "number" != typeof o)
                    throw new Error("weight must be a number");
                r = r || "elevation",
                i = i || "square",
                o = o || 1;
                var s, a = U(t);
                switch (i) {
                case "point":
                case "points":
                    s = mn(a, e, n);
                    break;
                case "square":
                case "squares":
                    s = vo(a, e, n);
                    break;
                case "hex":
                case "hexes":
                    s = fo(a, e, n);
                    break;
                case "triangle":
                case "triangles":
                    s = mo(a, e, n);
                    break;
                default:
                    throw new Error("invalid gridType")
                }
                var u = [];
                return T(s, function(e) {
                    var s = 0
                      , a = 0;
                    T(t, function(t) {
                        var u, l = Rt("point" === i ? e : le(e), t, n);
                        if (void 0 !== r && (u = t.properties[r]),
                        void 0 === u && (u = t.geometry.coordinates[2]),
                        void 0 === u)
                            throw new Error("zValue is missing");
                        0 === l && (s = u);
                        var c = 1 / Math.pow(l, o);
                        a += c,
                        s += c * u
                    });
                    var l = kt(e);
                    l.properties[r] = s / a,
                    u.push(l)
                }),
                l(u)
            }
            ,
            t.pointOnSurface = sn,
            t.polygonToLineString = Nn,
            t.lineStringToPolygon = Tn,
            t.inside = St,
            t.within = Mt,
            t.bezier = ee,
            t.nearest = Le,
            t.pointOnLine = We,
            t.lineDistance = pn,
            t.radians2degrees = _,
            t.degrees2radians = E,
            t.distanceToDegrees = v,
            t.distanceToRadians = y,
            t.radiansToDistance = g,
            t.bearingToAngle = m,
            t.convertDistance = C,
            t.toMercator = Qe,
            t.toWgs84 = Je,
            t.randomPosition = rr,
            t.randomPoint = or,
            t.randomPolygon = sr,
            t.randomLineString = ar,
            t.getCluster = lr,
            t.clusterEach = cr,
            t.clusterReduce = hr,
            t.createBins = pr,
            t.applyFilter = fr,
            t.propertiesContainsFilter = dr,
            t.filterProperties = gr,
            t.earthRadius = _o,
            t.factors = Eo,
            t.unitsFactors = Co,
            t.areaFactors = wo,
            t.feature = e,
            t.geometry = n,
            t.point = i,
            t.points = r,
            t.polygon = o,
            t.polygons = s,
            t.lineString = a,
            t.lineStrings = u,
            t.featureCollection = l,
            t.multiLineString = c,
            t.multiPoint = h,
            t.multiPolygon = p,
            t.geometryCollection = f,
            t.round = d,
            t.radiansToLength = g,
            t.lengthToRadians = y,
            t.lengthToDegrees = v,
            t.bearingToAzimuth = m,
            t.radiansToDegrees = _,
            t.degreesToRadians = E,
            t.convertLength = C,
            t.convertArea = w,
            t.isNumber = b,
            t.isObject = x,
            t.validateBBox = I,
            t.validateId = P,
            t.getCoord = j,
            t.getCoords = z,
            t.containsNumber = Y,
            t.geojsonType = H,
            t.featureOf = X,
            t.collectionOf = W,
            t.getGeom = $,
            t.getGeomType = K,
            t.getType = Z,
            t.coordEach = L,
            t.coordReduce = S,
            t.propEach = N,
            t.propReduce = M,
            t.featureEach = T,
            t.featureReduce = O,
            t.coordAll = A,
            t.geomEach = D,
            t.geomReduce = R,
            t.flattenEach = k,
            t.flattenReduce = F,
            t.segmentEach = G,
            t.segmentReduce = B,
            t.lineEach = q,
            t.lineReduce = V,
            Object.defineProperty(t, "__esModule", {
                value: !0
            })
        }
        )(e)
    },
    "g/FX": function(t, e) {},
    h72r: function(t, e) {},
    "i/C/": function(t, e, n) {
        n("exh5"),
        t.exports = n("FeBl").Object.setPrototypeOf
    },
    kKZD: function(t, e, n) {
        "use strict";
        var i = {
            render: function() {
                var t = this.$createElement
                  , e = this._self._c || t;
                return e("div", {
                    staticClass: "file-action"
                }, [e("span", {
                    on: {
                        click: this.importFile
                    }
                }, [this._v("导入")]), this._v(" "), e("span", {
                    on: {
                        click: this.exportFile
                    }
                }, [this._v("保存")])])
            },
            staticRenderFns: []
        };
        var r = n("VU/8")({
            methods: {
                importFile: function() {
                    this.$emit("importFile")
                },
                exportFile: function() {
                    this.$emit("exportFile")
                }
            }
        }, i, !1, function(t) {
            n("lGik")
        }, "data-v-49235642", null);
        e.a = r.exports
    },
    kiBT: function(t, e, n) {
        t.exports = {
            default: n("i/C/"),
            __esModule: !0
        }
    },
    lGik: function(t, e) {},
    mClu: function(t, e, n) {
        var i = n("kM2E");
        i(i.S + i.F * !n("+E39"), "Object", {
            defineProperty: n("evD5").f
        })
    },
    mvHQ: function(t, e, n) {
        t.exports = {
            default: n("qkKv"),
            __esModule: !0
        }
    },
    nJ7o: function(t, e, n) {
        "use strict";
        e.a = {
            zy3dtiles: "http://211.149.185.229:8081/data/offset_3dtiles/tileset.json",
            testVideoUrl: "http://211.149.185.229:8081/data/lukou.mp4"
        }
    },
    nlO7: function(t, e) {},
    oM7Q: function(t, e, n) {
        n("sF+V");
        var i = n("FeBl").Object;
        t.exports = function(t, e) {
            return i.create(t, e)
        }
    },
    oTt8: function(t, e) {},
    pRCB: function(t, e, n) {
        var i = n("kM2E");
        i(i.S + i.F * !n("+E39"), "Object", {
            defineProperties: n("qio6")
        })
    },
    qkKv: function(t, e, n) {
        var i = n("FeBl")
          , r = i.JSON || (i.JSON = {
            stringify: JSON.stringify
        });
        t.exports = function(t) {
            return r.stringify.apply(r, arguments)
        }
    },
    "sF+V": function(t, e, n) {
        var i = n("kM2E");
        i(i.S, "Object", {
            create: n("Yobk")
        })
    },
    tnyt: function(t, e, n) {
        "use strict";
        var i = {
            props: {
                planData: {
                    type: Object
                }
            }
        }
          , r = {
            render: function() {
                var t = this.$createElement
                  , e = this._self._c || t;
                return e("div", {
                    staticClass: "plan-info"
                }, [e("span", {
                    staticClass: "plan-title"
                }, [this._v(this._s(this.planData.title))])])
            },
            staticRenderFns: []
        };
        var o = n("VU/8")(i, r, !1, function(t) {
            n("4mzo")
        }, "data-v-dfb2806a", null);
        e.a = o.exports
    },
    uqUo: function(t, e, n) {
        var i = n("kM2E")
          , r = n("FeBl")
          , o = n("S82l");
        t.exports = function(t, e) {
            var n = (r.Object || {})[t] || Object[t]
              , s = {};
            s[t] = e(n),
            i(i.S + i.F * o(function() {
                n(1)
            }), "Object", s)
        }
    },
    wxAW: function(t, e, n) {
        "use strict";
        e.__esModule = !0;
        var i, r = n("C4MV"), o = (i = r) && i.__esModule ? i : {
            default: i
        };
        e.default = function() {
            function t(t, e) {
                for (var n = 0; n < e.length; n++) {
                    var i = e[n];
                    i.enumerable = i.enumerable || !1,
                    i.configurable = !0,
                    "value"in i && (i.writable = !0),
                    (0,
                    o.default)(t, i.key, i)
                }
            }
            return function(e, n, i) {
                return n && t(e.prototype, n),
                i && t(e, i),
                e
            }
        }()
    },
    xFXL: function(t, e) {},
    yKCR: function(t, e, n) {
        "use strict";
        var i = n("Zrlr")
          , r = n.n(i)
          , o = n("wxAW")
          , s = n.n(o)
          , a = function() {
            function t(e) {
                r()(this, t),
                this.viewer = e,
                this.viewer.cesiumWidget.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK),
                this.initEvents()
            }
            return s()(t, [{
                key: "activate",
                value: function(t) {
                    this.deactivate(),
                    this.clear(),
                    this.drawType = t,
                    this.positions = [],
                    this.tempPositions = [],
                    this.registerEvents(),
                    this.viewer.enableCursorStyle = !1,
                    this.viewer._element.style.cursor = "default"
                }
            }, {
                key: "deactivate",
                value: function() {
                    this.unRegisterEvents(),
                    this.drawType = void 0,
                    this.drawEntity = void 0,
                    this.viewer._element.style.cursor = "pointer",
                    this.viewer.enableCursorStyle = !0
                }
            }, {
                key: "clear",
                value: function() {
                    this.drawEntity && (this.viewer.entities.remove(this.drawEntity),
                    this.drawEntity = void 0)
                }
            }, {
                key: "initEvents",
                value: function() {
                    this.handler = new Cesium.ScreenSpaceEventHandler(this.viewer.scene.canvas),
                    this.DrawStartEvent = new Cesium.Event,
                    this.DrawEndEvent = new Cesium.Event
                }
            }, {
                key: "registerEvents",
                value: function() {
                    this.leftClickEvent(),
                    this.rightClickEvent(),
                    this.mouseMoveEvent()
                }
            }, {
                key: "leftClickEvent",
                value: function() {
                    var t = this;
                    this.handler.setInputAction(function(e) {
                        t.viewer._element.style.cursor = "default";
                        var n = t.viewer.scene.pickPosition(e.position);
                        n || (n = t.viewer.scene.camera.pickEllipsoid(e.position, t.viewer.scene.globe.ellipsoid)),
                        n && (t.positions.push(n),
                        1 == t.positions.length && t.handleFirstPosition())
                    }, Cesium.ScreenSpaceEventType.LEFT_CLICK)
                }
            }, {
                key: "handleFirstPosition",
                value: function() {
                    switch (this.drawType) {
                    case "Point":
                        this.generatePoint(),
                        this.drawEnd();
                        break;
                    case "Polyline":
                        this.generatePolyline();
                        break;
                    case "Polygon":
                        this.generatePolygon()
                    }
                }
            }, {
                key: "generatePoint",
                value: function() {
                    this.drawEntity = this.viewer.entities.add({
                        position: this.positions[0],
                        point: {
                            pixelSize: 4,
                            color: Cesium.Color.RED
                        }
                    })
                }
            }, {
                key: "generatePolyline",
                value: function() {
                    var t = this;
                    this.drawEntity = this.viewer.entities.add({
                        polyline: {
                            positions: new Cesium.CallbackProperty(function(e) {
                                return t.tempPositions
                            }
                            ,!1),
                            width: 2,
                            material: new Cesium.PolylineDashMaterialProperty({
                                color: Cesium.Color.YELLOW
                            }),
                            depthFailMaterial: new Cesium.PolylineDashMaterialProperty({
                                color: Cesium.Color.YELLOW
                            })
                        }
                    })
                }
            }, {
                key: "generatePolygon",
                value: function() {
                    var t = this;
                    this.drawEntity = this.viewer.entities.add({
                        polygon: {
                            hierarchy: new Cesium.CallbackProperty(function(e) {
                                return new Cesium.PolygonHierarchy(t.tempPositions)
                            }
                            ,!1),
                            material: Cesium.Color.RED.withAlpha(.4),
                            perPositionHeight: !0
                        },
                        polyline: {
                            positions: new Cesium.CallbackProperty(function(e) {
                                return t.tempPositions.concat(t.tempPositions[0])
                            }
                            ,!1),
                            width: 1,
                            material: new Cesium.PolylineDashMaterialProperty({
                                color: Cesium.Color.YELLOW
                            }),
                            depthFailMaterial: new Cesium.PolylineDashMaterialProperty({
                                color: Cesium.Color.YELLOW
                            })
                        }
                    })
                }
            }, {
                key: "mouseMoveEvent",
                value: function() {
                    var t = this;
                    this.handler.setInputAction(function(e) {
                        t.viewer._element.style.cursor = "default";
                        var n = t.viewer.scene.pickPosition(e.endPosition);
                        n || (n = t.viewer.scene.camera.pickEllipsoid(e.startPosition, t.viewer.scene.globe.ellipsoid)),
                        n && t.drawEntity && (t.tempPositions = t.positions.concat([n]))
                    }, Cesium.ScreenSpaceEventType.MOUSE_MOVE)
                }
            }, {
                key: "rightClickEvent",
                value: function() {
                    var t = this;
                    this.handler.setInputAction(function(e) {
                        if (t.drawEntity) {
                            switch (t.drawType) {
                            case "Polyline":
                                t.drawEntity.polyline.positions = t.positions,
                                t.minPositionCount = 2;
                                break;
                            case "Polygon":
                                t.drawEntity.polygon.hierarchy = t.positions,
                                t.drawEntity.polyline.positions = t.positions.concat(t.positions[0]),
                                t.minPositionCount = 3
                            }
                            if (t.positions.length < t.minPositionCount)
                                return t.clear(),
                                void t.deactivate();
                            t.drawEnd()
                        } else
                            t.deactivate()
                    }, Cesium.ScreenSpaceEventType.RIGHT_CLICK)
                }
            }, {
                key: "unRegisterEvents",
                value: function() {
                    this.handler.removeInputAction(Cesium.ScreenSpaceEventType.RIGHT_CLICK),
                    this.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),
                    this.handler.removeInputAction(Cesium.ScreenSpaceEventType.MOUSE_MOVE),
                    this.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK)
                }
            }, {
                key: "drawEnd",
                value: function() {
                    var t = this;
                    this.drawEntity.remove = function() {
                        t.viewer.entities.remove(t.drawEntity)
                    }
                    ,
                    this.DrawEndEvent.raiseEvent(this.drawEntity, this.positions, this.drawType),
                    this.deactivate()
                }
            }]),
            t
        }();
        e.a = a
    },
    zJg4: function(t, e) {},
    zwoO: function(t, e, n) {
        "use strict";
        e.__esModule = !0;
        var i, r = n("pFYg"), o = (i = r) && i.__esModule ? i : {
            default: i
        };
        e.default = function(t, e) {
            if (!t)
                throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" !== (void 0 === e ? "undefined" : (0,
            o.default)(e)) && "function" != typeof e ? t : e
        }
    }
});
